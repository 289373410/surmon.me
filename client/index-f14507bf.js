var P=Object.defineProperty,F=Object.defineProperties;var O=Object.getOwnPropertyDescriptors;var w=Object.getOwnPropertySymbols;var V=Object.prototype.hasOwnProperty,M=Object.prototype.propertyIsEnumerable;var R=(t,o,n)=>o in t?P(t,o,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[o]=n,C=(t,o)=>{for(var n in o||(o={}))V.call(o,n)&&R(t,n,o[n]);if(w)for(var n of w(o))M.call(o,n)&&R(t,n,o[n]);return t},S=(t,o)=>F(t,O(o));var B=(t,o)=>{var n={};for(var s in t)V.call(t,s)&&o.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&w)for(var s of w(t))o.indexOf(s)<0&&M.call(t,s)&&(n[s]=t[s]);return n};import{s as src,n as nextTick,p as parser,r as ref,f as onBeforeMount,i as inject,j as reactive,e as computed,k as readonly,w as watch,l as defineComponent,u as useHead,m as renderHeadToString,q as createHead,t as watchEffect,v as api,x as resolveComponent,y as createElementBlock,z as createBaseVNode,A as normalizeClass,B as normalizeStyle,C as createVNode,D as withCtx,E as openBlock,F as pushScopeId,G as popScopeId,b as onMounted,H as axios,I as defineStore,J as useRoute,K as useRouter,L as sanitizeHTML,M as escapeHtml_1,N as gravatar,O as Fragment,P as renderList,Q as createBlock,R as toDisplayString,S as createCommentVNode,T as createTextVNode,U as TransitionGroup,V as renderSlot,W as Transition,X as mergeProps,Y as normalizeProps,c as onBeforeUnmount,Z as createSlots,_ as withDirectives,$ as vModelText,a0 as withModifiers,a1 as setBlockTracking,a2 as onUnmounted,a3 as toRef,a4 as createRouter,h,a5 as vShow,a6 as Teleport,a7 as StickyEvents,a8 as createPinia,a9 as cloneVNode,aa as onErrorCaptured,ab as withKeys,ac as guardReactiveProps,ad as Suspense,ae as resolveDynamicComponent,af as createWebHistory,ag as createSSRApp,ah as createApp}from"./vendor-96bfab15.js";import{l as lozad,a as core,b as go,d as css,s as sql,p as php,x as xml,y as yaml,j as json,e as bash,f as less,h as scss,r as rust,i as java,k as shell,n as nginx,m as stylus,o as python,q as javascript,t as typescript,u as marked,R as Renderer,S as Swiper,P as Pagination,N as Navigation,M as Mousewheel,A as Autoplay,v as A11y,w as Swiper$1,z as SwiperSlide,B as amplitude,C as e}from"./expansion-d52ddf8f.js";const p=function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const l of r)if(l.type==="childList")for(const i of l.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&s(i)}).observe(document,{childList:!0,subtree:!0});function n(r){const l={};return r.integrity&&(l.integrity=r.integrity),r.referrerpolicy&&(l.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?l.credentials="include":r.crossorigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(r){if(r.ep)return;r.ep=!0;const l=n(r);fetch(r.href,l)}};p();const DEFAULT_FETCH_DELAY=468,GA_MEASUREMENT_ID="UA-84887611-3",ADSENSE_CLIENT_ID="ca-pub-4710915636313788",META=Object.freeze({title:"Surmon.me",keywords:"Surmon \u535A\u5BA2,surmon-china,\u82CF\u5C14\u8499,Vue \u535A\u5BA2,\u524D\u7AEF\u6280\u672F\u5F00\u53D1\u535A\u5BA2,JavaScript \u6280\u672F",description:"\u6765\u82CF\u4E4B\u671B",domain:"surmon.me",url:"https://surmon.me",author:"Surmon",email:"i@surmon.me"}),FRIEND_LINKS=Object.freeze({JimmyLv:"//blog.jimmylv.info"}),VALUABLE_LINKS=Object.freeze({RSS:"/rss.xml",SITE_MAP:"/sitemap.xml",SPONSOR:"/sponsor",VUE:"https://v3.vuejs.org/",VUNIVERSAL:"https://github.com/surmon-china/vuniversal",NODEPRESS:"https://github.com/surmon-china/nodepress",APP_APK_FILE:"https://raw.githubusercontent.com/surmon-china/surmon.me.native/master/dist/android/surmon.me.apk",SURMON_APP_REPOSITORIE:"https://github.com/surmon-china/surmon.me.native",THROW_ERROR:"https://throwerror.io",FOX_FINDER:"https://foxfinder.io",GITHUB:"https://github.com/surmon-china",GITHUB_SPONSORS:"https://github.com/sponsors/surmon-china",PAYPAL:"https://www.paypal.me/surmon",UPWORK:"https://www.upwork.com/freelancers/~0142e621258ac1770d",FUCK_IPC:"http://www.beian.miit.gov.cn",GOOGLE_LIVE_MAP:"https://www.google.com/maps/d/embed?mid=1sRx6t0Yj1TutbwORCvjwTMgr70r62Z6w",QQ_GROUP:"https://shang.qq.com/wpa/qunwpa?idkey=837dc31ccbcd49feeba19430562be7bdc06f4428880f78a391fd61c8af714ce4",TELEGRAM:"https://t.me/surmon",TELEGRAM_GROUP:"https://t.me/joinchat/F6wOlxYwSCUpZTYj3WTAWA",SPOTIFY:"https://open.spotify.com/user/v0kz9hpwpbqnmtnrfhbyl812o",MUSIC_163:"https://music.163.com/#/playlist?id=638949385",YOUTUBE:"https://www.youtube.com/channel/UCoL-j6T28PLSJ2U6ZdONS0w",DOUBAN:"https://www.douban.com/people/nocower",ZHIHU:"https://www.zhihu.com/people/surmon",WEIBO:"https://weibo.com/surmon",QUORA:"https://www.quora.com/profile/Surmon",BILIBILI:"https://space.bilibili.com/27940710",STACK_OVERFLOW:"https://stackoverflow.com/users/6222535/surmon?tab=profile",LEETCODE_CN:"https://leetcode-cn.com/u/surmon",LINKEDIN:"https://www.linkedin.com/in/surmon",INSTAGRAM:"https://www.instagram.com/surmon666",TWITTER:"https://twitter.com/surmon_me"}),SSR_SYMBLE_KEY="__SSR__",getSSRSymbleStatus=()=>Boolean(window[SSR_SYMBLE_KEY]),SSR_CONTEXT_KEY="__INITIAL_SSR_CONTEXT__",getSSRContextData=()=>window[SSR_CONTEXT_KEY]||null;let ssrContext={};const getSSRContext=t=>{var o;return(o=getSSRContextData())==null?void 0:o[t]};function rebirthSSRContext(t){return ssrContext=Object.assign({},{}),t.config.globalProperties.$ssrContext=ssrContext,ssrContext}const isSSR=typeof window=="undefined"||getSSRSymbleStatus(),isSPA=!isSSR,isServer=!1;var LANGUAGE_KEYS;(function(t){t.PAGE_HOME="home",t.CATEGORY_INSIGHT="insight",t.CATEGORY_CODE="code",t.PAGE_GITHUB="github",t.PAGE_LENS="lens",t.PAGE_INSTAGRAM="instagram",t.PAGE_MUSIC="music",t.PAGE_JOB="job",t.PAGE_MERCH="merch",t.PAGE_ABOUT="about",t.PAGE_FREELANCER="freelancer",t.PAGE_GUESTBOOK="guestbook",t.PAGE_APP="app",t.PAGE_ARCHIVE="archive",t.SITE_MAP_XML="sitemap xml",t.EMPTY_PLACEHOLDER="common empty's placeholder",t.NOT_FOUND="notFound",t.BACK_TO_HOME_PAGE="back to home page",t.GUESTBOOK_SLOGAN="guestbook banner slogan",t.WALLPAPER="wallpaper",t.PAGE_FREELANCER_SLOGAN="service page banner slogan",t.PAGE_FREELANCER_EMAIL_ME="email me",t.PAGE_FREELANCER_HIRE_ME="hire me",t.DEVICE_ANDROID="android",t.DEVICE_IOS="ios",t.AD="ad",t.WEBCAM="webcam",t.BARRAGE="barrage",t.FEEDBACK="feedback",t.TO_TOP="to page top",t.TO_BOTTOM="to page bottom",t.ORIGIN_ORIGINAL="original",t.ORIGIN_REPRINT="reprint",t.ORIGIN_HYBRID="hybrid",t.ACTION_OPEN_DESC="open article description",t.ACTION_CLOSE_DESC="close article description",t.ACTION_ON="on",t.ACTION_OFF="off",t.APP_SLOGAN="app slogan",t.MUSIC_PLACEHOLDER="music page placeholder",t.SEARCH_PLACEHOLDER="search input placeholder",t.HOT_ARTICLE_LIST_TITLE="hot article list title",t.PAGE_TITLE="page title",t.ANNOUNCEMENT_PLACEHOLDER="announcement empty placeholder",t.CATEGORY_PLACEHOLDER="category empty placeholder",t.TAG_PLACEHOLDER="tag placeholder",t.ARTICLE_TITLE="article title",t.ARTICLE_PLACEHOLDER="article empty placeholder",t.ARTICLE_FULL_COL_READ="read by fullCol",t.ARTICLE_FULL_SCREEN_READ="read by fullScreen",t.ARTICLE_READ_ALL="read all article content",t.ARTICLE_RENDERING="rendering",t.ARTICLE_LIST_LOADMORE="loadmore",t.ARTICLE_LIST_LOADING="loading",t.ARTICLE_LIST_NO_MORE="no more",t.COMMENT_LIST_PLACEHOLDER="comment list placeholder",t.COMMENT_ANONYMOUS="anonymous",t.COMMENT_LIKE="like comment",t.COMMENT_REPLY="reply comment",t.COMMENT_PAGINATION_OLD="get old comments",t.COMMENT_PAGINATION_NEW="get new comments",t.COMMENT_PAGINATION_HOT="get hot comments",t.COMMENT_PAGINATION_COOL="get cool comments",t.COMMENT_LOADMORE="loadmore comments",t.COMMENT_POST_NAME="comment's author name",t.COMMENT_POST_EMAIL="comment's author email",t.COMMENT_POST_SITE="comment's author site url",t.COMMENT_POST_CONTENT="comment's content",t.COMMENT_POST_PLACEHOLDER="comment box placeholder",t.COMMENT_POST_SUBMIT="submit comment",t.COMMENT_POST_SUBMITTING="comment submitting",t.COMMENT_POST_ERROR_EMAIL="comment submit failed of email error",t.COMMENT_POST_ERROR_URL="comment submit failed of site url error",t.COMMENT_POST_ERROR_CONTENT="comment submit failed of content error",t.COMMENT_POST_ERROR_SUBMIT="comment submit failed of submit error",t.COMMENT_POST_ERROR_ACTION="comment submit failed of other error",t.COMMENT_ACCOUNT_SETTING="comment account setting",t.COMMENT_ACCOUNT_EDIT="edit comment account",t.COMMENT_ACCOUNT_CLEAR="clear comment account",t.COMMENT_LIST_COUNT="comments",t.COMMENT_LIKE_COUNT="likes",t.QUERY_PARAMS_ERROR="query params error"})(LANGUAGE_KEYS||(LANGUAGE_KEYS={}));var Language;(function(t){t.En="en",t.Zh="zh"})(Language||(Language={}));const languages$1=[{code:Language.Zh,iso:"zh-CN",name:"\u7B80\u4F53\u4E2D\u6587"},{code:Language.En,iso:"en-US",name:"English"}],langMap={[LANGUAGE_KEYS.PAGE_HOME]:{[Language.Zh]:"\u660E\u6BBF",[Language.En]:"home"},[LANGUAGE_KEYS.CATEGORY_INSIGHT]:{[Language.Zh]:"\u65E0\u8272\u5EB5",[Language.En]:"insight"},[LANGUAGE_KEYS.CATEGORY_CODE]:{[Language.Zh]:"\u5B81\u9759\u5BFA",[Language.En]:"code"},[LANGUAGE_KEYS.PAGE_GITHUB]:{[Language.Zh]:"\u4E39\u9752\u9601",[Language.En]:"github"},[LANGUAGE_KEYS.PAGE_LENS]:{[Language.Zh]:"\u5929\u6DAF",[Language.En]:"lens"},[LANGUAGE_KEYS.PAGE_INSTAGRAM]:{[Language.Zh]:"\u6D77\u89D2",[Language.En]:"instagram"},[LANGUAGE_KEYS.PAGE_MUSIC]:{[Language.Zh]:"\u68A8\u56ED",[Language.En]:"music"},[LANGUAGE_KEYS.PAGE_JOB]:{[Language.Zh]:"\u4F2F\u4E50",[Language.En]:"job"},[LANGUAGE_KEYS.PAGE_ABOUT]:{[Language.Zh]:"\u72C2\u6D6A\u751F",[Language.En]:"about"},[LANGUAGE_KEYS.PAGE_MERCH]:{[Language.Zh]:"\u5468\u8FB9",[Language.En]:"merch"},[LANGUAGE_KEYS.PAGE_FREELANCER]:{[Language.Zh]:"\u5F97\u9053",[Language.En]:"freelancer"},[LANGUAGE_KEYS.PAGE_GUESTBOOK]:{[Language.Zh]:"\u56DB\u65B9\u9986",[Language.En]:"guestbook"},[LANGUAGE_KEYS.PAGE_APP]:{[Language.Zh]:"\u5BA2\u6237\u7AEF",[Language.En]:"app"},[LANGUAGE_KEYS.PAGE_ARCHIVE]:{[Language.Zh]:"\u9EC4\u5377\u9752\u706F",[Language.En]:"archive"},[LANGUAGE_KEYS.SITE_MAP_XML]:{[Language.Zh]:"\u65F7\u65E5\u79EF\u6677",[Language.En]:"sitemap.xml"},[LANGUAGE_KEYS.EMPTY_PLACEHOLDER]:{[Language.Zh]:"\u7A7A\u7A7A\u5982\u4E5F",[Language.En]:"No data"},[LANGUAGE_KEYS.NOT_FOUND]:{[Language.Zh]:"\u4F17\u91CC\u5BFB\u4ED6 \u6211\u5DF2\u4E0D\u518D",[Language.En]:"Arrives here at last"},[LANGUAGE_KEYS.BACK_TO_HOME_PAGE]:{[Language.Zh]:"\u5C71\u6CB3\u4E07\u91CC \u957F\u6B4C\u5F52\u6545",[Language.En]:"Drive by"},[LANGUAGE_KEYS.GUESTBOOK_SLOGAN]:{[Language.Zh]:"\u6B64\u5FC3\u5149\u660E \u4EA6\u590D\u4F55\u8A00",[Language.En]:"You have come a long way"},[LANGUAGE_KEYS.WALLPAPER]:{[Language.Zh]:"\u5C71\u6CB3\u5165\u68A6",[Language.En]:"Gallery"},[LANGUAGE_KEYS.PAGE_FREELANCER_SLOGAN]:{[Language.Zh]:"\u4E3A\u6211\u4E00\u6325\u624B\uFF0C\u5982\u4E34\u4E07\u58D1\u677E",[Language.En]:"Talk is cheap. Show me the code"},[LANGUAGE_KEYS.PAGE_FREELANCER_EMAIL_ME]:{[Language.Zh]:"\u653E\u7801\u8FC7\u6765",[Language.En]:"Email ME"},[LANGUAGE_KEYS.PAGE_FREELANCER_HIRE_ME]:{[Language.Zh]:"\u6216\u5728 Upwork \u96C7\u4F63\u6211",[Language.En]:"Hire me on upwork.com"},[LANGUAGE_KEYS.DEVICE_ANDROID]:{[Language.Zh]:"Android",[Language.En]:"Android"},[LANGUAGE_KEYS.DEVICE_IOS]:{[Language.Zh]:"IOS",[Language.En]:"IOS"},[LANGUAGE_KEYS.AD]:{[Language.Zh]:"\u5E7F\u800C\u544A\u4E4B",[Language.En]:"AD"},[LANGUAGE_KEYS.WEBCAM]:{[Language.Zh]:"\u89C1\u76F8",[Language.En]:"Webcam"},[LANGUAGE_KEYS.BARRAGE]:{[Language.Zh]:"\u7545\u8A00",[Language.En]:"Barrage"},[LANGUAGE_KEYS.FEEDBACK]:{[Language.Zh]:"\u53CD\u9988",[Language.En]:"Feedback"},[LANGUAGE_KEYS.TO_TOP]:{[Language.Zh]:"\u4ECE\u5934\u5F00\u59CB",[Language.En]:"To top"},[LANGUAGE_KEYS.TO_BOTTOM]:{[Language.Zh]:"\u518D\u6765\u4E00\u5C4F",[Language.En]:"Next screen"},[LANGUAGE_KEYS.ORIGIN_ORIGINAL]:{[Language.Zh]:"\u539F\u521B",[Language.En]:"og"},[LANGUAGE_KEYS.ORIGIN_REPRINT]:{[Language.Zh]:"\u8F6C\u8F7D",[Language.En]:"rp"},[LANGUAGE_KEYS.ORIGIN_HYBRID]:{[Language.Zh]:"\u6DF7\u64B0",[Language.En]:"hb"},[LANGUAGE_KEYS.ACTION_OPEN_DESC]:{[Language.Zh]:"\u5C55\u5F00\u63CF\u8FF0",[Language.En]:"open description"},[LANGUAGE_KEYS.ACTION_CLOSE_DESC]:{[Language.Zh]:"\u6536\u8D77\u63CF\u8FF0",[Language.En]:"close description"},[LANGUAGE_KEYS.ACTION_ON]:{[Language.Zh]:"\u5F00",[Language.En]:"on"},[LANGUAGE_KEYS.ACTION_OFF]:{[Language.Zh]:"\u5173",[Language.En]:"off"},[LANGUAGE_KEYS.APP_SLOGAN]:{[Language.Zh]:"\u6765\u82CF\u4E4B\u671B",[Language.En]:"Because the mountain was there"},[LANGUAGE_KEYS.MUSIC_PLACEHOLDER]:{[Language.Zh]:"\u4E94\u97F3\u516D\u5F8B\uFF0C\u4E03\u5F26\u516B\u5EA6",[Language.En]:"The music, the soul of man"},[LANGUAGE_KEYS.SEARCH_PLACEHOLDER]:{[Language.Zh]:"\u63A2\u7D22\u4E0E\u89C9\u77E5",[Language.En]:"Search.."},[LANGUAGE_KEYS.PAGE_TITLE]:{[Language.Zh]:"\u9EC4\u5377\u9752\u706F",[Language.En]:"pages"},[LANGUAGE_KEYS.ANNOUNCEMENT_PLACEHOLDER]:{[Language.Zh]:"\u7A7A\u7A7A\u5982\u4E5F",[Language.En]:"No announcements"},[LANGUAGE_KEYS.CATEGORY_PLACEHOLDER]:{[Language.Zh]:"\u672A\u5206\u7C7B",[Language.En]:"no cate"},[LANGUAGE_KEYS.TAG_PLACEHOLDER]:{[Language.Zh]:"\u65E0\u6807\u7B7E",[Language.En]:"No tags"},[LANGUAGE_KEYS.ARTICLE_TITLE]:{[Language.Zh]:"\u6587\u4E0D\u52A0\u70B9",[Language.En]:"Articles"},[LANGUAGE_KEYS.ARTICLE_PLACEHOLDER]:{[Language.Zh]:"\u7A7A\u7A7A\u5982\u4E5F",[Language.En]:"No articles"},[LANGUAGE_KEYS.ARTICLE_FULL_COL_READ]:{[Language.Zh]:"\u901A\u680F\u9605\u8BFB",[Language.En]:"Full Column"},[LANGUAGE_KEYS.ARTICLE_FULL_SCREEN_READ]:{[Language.Zh]:"\u5168\u5C4F\u9605\u8BFB",[Language.En]:"Full Screen"},[LANGUAGE_KEYS.ARTICLE_READ_ALL]:{[Language.Zh]:"\u9605\u8BFB\u4F59\u4E0B\u5168\u6587",[Language.En]:"Read all"},[LANGUAGE_KEYS.ARTICLE_RENDERING]:{[Language.Zh]:"\u6E32\u67D3\u4E2D..",[Language.En]:"rendering..."},[LANGUAGE_KEYS.HOT_ARTICLE_LIST_TITLE]:{[Language.Zh]:"\u7FA4\u8D24\u6BD5\u81F3",[Language.En]:"hot"},[LANGUAGE_KEYS.ARTICLE_LIST_LOADMORE]:{[Language.Zh]:"\u5C71\u6CB3\u5165\u68A6",[Language.En]:"loadmore"},[LANGUAGE_KEYS.ARTICLE_LIST_LOADING]:{[Language.Zh]:"\u4EBA\u9762\u6843\u82B1",[Language.En]:"loading"},[LANGUAGE_KEYS.ARTICLE_LIST_NO_MORE]:{[Language.Zh]:"\u6625\u5C3D\u6C5F\u5357",[Language.En]:"no more"},[LANGUAGE_KEYS.COMMENT_LIST_PLACEHOLDER]:{[Language.Zh]:"\u671F\u5F85\u4F60\u7684\u6377\u8DB3\u5148\u767B",[Language.En]:"Hit the nail on the head"},[LANGUAGE_KEYS.COMMENT_ANONYMOUS]:{[Language.Zh]:"\u533F\u540D\u7528\u6237",[Language.En]:"anonymous"},[LANGUAGE_KEYS.COMMENT_LIKE]:{[Language.Zh]:"\u8D5E",[Language.En]:"like"},[LANGUAGE_KEYS.COMMENT_REPLY]:{[Language.Zh]:"\u56DE\u590D",[Language.En]:"reply"},[LANGUAGE_KEYS.COMMENT_PAGINATION_OLD]:{[Language.Zh]:"\u6700\u65E7",[Language.En]:"old"},[LANGUAGE_KEYS.COMMENT_PAGINATION_NEW]:{[Language.Zh]:"\u6700\u65B0",[Language.En]:"new"},[LANGUAGE_KEYS.COMMENT_PAGINATION_HOT]:{[Language.Zh]:"\u6700\u70ED",[Language.En]:"hot"},[LANGUAGE_KEYS.COMMENT_PAGINATION_COOL]:{[Language.Zh]:"\u6700\u51B7",[Language.En]:"cool"},[LANGUAGE_KEYS.COMMENT_LOADMORE]:{[Language.Zh]:"\u52A0\u8F7D\u66F4\u591A\u8BC4\u8BBA",[Language.En]:"loadmore comments"},[LANGUAGE_KEYS.COMMENT_POST_NAME]:{[Language.Zh]:"\u540D\u5B57",[Language.En]:"name"},[LANGUAGE_KEYS.COMMENT_POST_EMAIL]:{[Language.Zh]:"\u90AE\u7BB1",[Language.En]:"email"},[LANGUAGE_KEYS.COMMENT_POST_SITE]:{[Language.Zh]:"\u7F51\u5740",[Language.En]:"site"},[LANGUAGE_KEYS.COMMENT_POST_CONTENT]:{[Language.Zh]:"\u5185\u5BB9",[Language.En]:"content"},[LANGUAGE_KEYS.COMMENT_POST_PLACEHOLDER]:{[Language.Zh]:"\u613F\u4F60\u7684\u89C1\u89E3\u4E00\u9488\u89C1\u8840",[Language.En]:"Hit the nail on the head"},[LANGUAGE_KEYS.COMMENT_POST_SUBMIT]:{[Language.Zh]:"\u53D1\u5C04",[Language.En]:"publish"},[LANGUAGE_KEYS.COMMENT_POST_SUBMITTING]:{[Language.Zh]:"\u53D1\u5C04\u4E2D..",[Language.En]:"publishing"},[LANGUAGE_KEYS.COMMENT_POST_ERROR_EMAIL]:{[Language.Zh]:"\u90AE\u7BB1\u4E0D\u5408\u6CD5",[Language.En]:"Email address is not legitimate!"},[LANGUAGE_KEYS.COMMENT_POST_ERROR_URL]:{[Language.Zh]:"\u7F51\u5740\u4E0D\u5408\u6CD5",[Language.En]:"Site is not legitimate!"},[LANGUAGE_KEYS.COMMENT_POST_ERROR_CONTENT]:{[Language.Zh]:"\u5185\u5BB9\u9700\u8981\u5728 2000\u5B57/36\u884C \u4EE5\u5185",[Language.En]:"Content requirements are within 2000 words / 36 lines!"},[LANGUAGE_KEYS.COMMENT_POST_ERROR_SUBMIT]:{[Language.Zh]:"\u53D1\u5E03\u5931\u8D25\uFF0C\u539F\u56E0 -> \u63A7\u5236\u53F0",[Language.En]:"Submit failed, get err in dev console!"},[LANGUAGE_KEYS.COMMENT_POST_ERROR_ACTION]:{[Language.Zh]:"\u64CD\u4F5C\u5931\u8D25\uFF0C\u539F\u56E0 -> \u63A7\u5236\u53F0",[Language.En]:"Action failed, get error in dev console!"},[LANGUAGE_KEYS.COMMENT_ACCOUNT_SETTING]:{[Language.Zh]:"\u8BBE\u7F6E\u8D26\u6237\u4FE1\u606F",[Language.En]:"account setting"},[LANGUAGE_KEYS.COMMENT_ACCOUNT_EDIT]:{[Language.Zh]:"\u7F16\u8F91\u4FE1\u606F",[Language.En]:"edit profile"},[LANGUAGE_KEYS.COMMENT_ACCOUNT_CLEAR]:{[Language.Zh]:"\u6E05\u7A7A\u4FE1\u606F",[Language.En]:"clear profile"},[LANGUAGE_KEYS.COMMENT_LIST_COUNT]:{[Language.Zh]:"\u6761\u770B\u6CD5",[Language.En]:"comments"},[LANGUAGE_KEYS.COMMENT_LIKE_COUNT]:{[Language.Zh]:"\u4EBA\u89C9\u5F97\u6709\u70B9\u725B\u903C",[Language.En]:"likes"},[LANGUAGE_KEYS.QUERY_PARAMS_ERROR]:{[Language.Zh]:"\u8BF7\u6C42\u53C2\u6570\u9519\u8BEF\uFF1A",[Language.En]:"Invalid query params: "}};var NodeEnv;(function(t){t.Development="development",t.Production="production",t.Test="test"})(NodeEnv||(NodeEnv={}));const NODE_ENV="production",isDev=NodeEnv.Development==="production",isProd=NodeEnv.Production==="production";NodeEnv.Test;const API_PROXY_URL="/api",API_ONLINE_URL="https://api.surmon.me",DEV_API=API_PROXY_URL,PROD_API=API_ONLINE_URL;var API_CONFIG={FE:"https://surmon.me",CDN:"https://cdn.surmon.me",PROXY:"https://cdn.surmon.me/proxy",GRAVATAR:"https://static.surmon.me/avatar",STATIC:"https://static.surmon.me",NODEPRESS:isDev?DEV_API:PROD_API};const BAD_REQUEST=400,NOT_FOUND=404,INVALID_ERROR=500;var LayoutColumn;(function(t){t[t.Normal=0]="Normal",t[t.Wide=1]="Wide",t[t.Full=2]="Full"})(LayoutColumn||(LayoutColumn={}));const getLayoutByRouteMeta=t=>t.layout===1?1:t.layout===2?2:0,isValidDateParam=t=>{const o=t.split("-");if(o.length!==3||!o.every(l=>Number.isInteger(Number(l))))return!1;const[n,s,r]=o;return!(n.length!==4||s.length!==2||r.length!==2)},Easing={ease:[.25,.1,.25,1],linear:[0,0,1,1],easeIn:[.42,0,1,1],easeOut:[0,0,.58,1],easeInOut:[.42,0,.58,1]};var ElementEvent;(function(t){t.scroll="scroll",t.mousedown="mousedown",t.wheel="wheel",t.DOMMouseScroll="DOMMouseScroll",t.mousewheel="mousewheel",t.keyup="keyup",t.touchmove="touchmove"})(ElementEvent||(ElementEvent={}));const _={$(t){return document.querySelector(t)},on(t,o,n){Array.isArray(o)||(o=[o]),o.forEach(s=>{t.addEventListener(s,n,{passive:!0})})},off(t,o,n){Array.isArray(o)||(o=[o]),o.forEach(s=>{t.removeEventListener(s,n)})}},scrollTo=(t,o=500,n)=>{n=n||{},n.easing=Easing.ease;const s=_.$("html, body"),r=[ElementEvent.scroll,ElementEvent.mousedown,ElementEvent.wheel,ElementEvent.DOMMouseScroll,ElementEvent.mousewheel,ElementEvent.keyup,ElementEvent.touchmove];let l=!1;const i=function(){l=!0};_.on(s,r,i);let a=0;const c=window.pageYOffset;if(typeof t=="number")a=t;else{const E=typeof t=="string"?_.$(t):t;a=c+E.getBoundingClientRect().top}let d=document.body.scrollHeight-a<window.innerHeight?document.body.scrollHeight-window.innerHeight:a;n.offset&&(d+=n.offset);const u=d-c,g=Reflect.apply(src,src,n.easing);let m;const $=function(){_.off(s,r,i),l&&n.onCancel&&n.onCancel(),!l&&n.onDone&&n.onDone()};!u||window.requestAnimationFrame(function E(f){if(l)return $();m||(m=f);const N=f-m;let v=Math.min(N/o,1);v=g(v),window.scrollTo(0,c+u*v),N<o?window.requestAnimationFrame(E):$()})},scrollToElementAnchor=(t,o=-76)=>{const n=document.getElementById(t);n&&scrollTo(n,200,{offset:o})},scrollToTop=()=>{scrollTo("body",300,{easing:Easing.easeIn})},nextScreen=()=>{nextTick(()=>{scrollTo(window.scrollY+window.innerHeight*.68,300,{easing:Easing["ease-in"]})})},uaParser=t=>{const o=parser(t||""),n=String(o.browser.name).toLowerCase(),s=r=>r.some(l=>l.toLowerCase()===n);return{result:o,isIE:s(["compatible","MSIE","IE"]),isEdge:s(["Edge"]),isFirefox:s(["Firefox"]),isChrome:s(["Chrome","Chromium"]),isSafari:s(["Safari"]),isWechat:s(["Wechat"]),isIos:o.os.name==="iOS",isAndroid:o.os.name==="Android",isMobile:o.device.type==="mobile"}},isTargetLanguageUser=(t,o)=>typeof t=="string"?t.includes(o):Array.isArray(t)?t.some(n=>n.includes(o)):!1,isZhUser=t=>t?isTargetLanguageUser(t,Language.Zh):!0,getRefData=t=>getSSRContext("refs")[t],getValue=t=>t instanceof Function?t():t,universalRef=(t,o)=>{var s;if(isSPA)return ref(getValue(o));let n=(s=getRefData(t))!=null?s:getValue(o);return ref(n)},useUniversalFetch=t=>{const o=useGlobalState(),n=()=>{onBeforeMount(()=>t())};if(isSPA){n();return}o.isHydrated.value&&n()},onClient=t=>{t()};var ImageExt;(function(t){t.WebP="webp",t.Jpg="jpeg"})(ImageExt||(ImageExt={}));const GlobalStateSymbol=Symbol("globalState"),createGlobalState=t=>{const o=universalRef("error",()=>null),n={code:INVALID_ERROR},s=E=>{var f;onClient(()=>{console.warn("App error:",E)}),E?E instanceof Error?o.value={code:(f=E.code)!=null?f:n.code,message:E.message}:typeof E=="string"?o.value=S(C({},n),{message:E}):o.value=S(C({},E),{code:E.status||E.status||n.code}):o.value=null},r=ref(!1),l=()=>{r.value=!0},i=reactive(C({original:t.userAgent,language:t.language,isZhUser:isZhUser(t.language)},uaParser(t.userAgent))),a=ref(t.layout),c=computed(()=>({layout:a.value,isNormal:a.value===LayoutColumn.Normal,isWide:a.value===LayoutColumn.Wide,isFull:a.value===LayoutColumn.Full})),d=E=>{E!==a.value&&(a.value=E)},u=computed(()=>{const E=i.isMobile||i.isWechat||i.isSafari?ImageExt.Jpg:ImageExt.WebP;return{ext:E,isJpg:E===ImageExt.Jpg,isWebP:E===ImageExt.WebP}}),g=reactive({mobileSidebar:!1,liveMap:!1,wallpaper:!1}),$={toRawState:()=>({renderError:o.value,userAgent:i.original,language:i.language,layout:a.value}),renderError:readonly(o),setRenderError:s,isHydrated:readonly(r),setHydrate:l,layoutColumn:c,setLayoutColumn:d,userAgent:readonly(i),imageExt:u,switchBox:readonly(g),switchTogglers:{liveMap(){g.liveMap=!g.liveMap},wallpaper(){g.wallpaper=!g.wallpaper},mobileSidebar:E=>{g.mobileSidebar=E!=null?!!E:!g.mobileSidebar}}};return S(C({},$),{install(E){E.provide(GlobalStateSymbol,$)}})},useGlobalState=()=>inject(GlobalStateSymbol),I18nSymbol=Symbol("i18n"),createI18nStore=t=>{const o=ref(t.default),n=t.languages.map(a=>a.code),s=computed(()=>t.languages.find(a=>a.code===o.value)),r=a=>{n.includes(a)&&o.value!==a&&(o.value=a)},l=()=>{const a=n.findIndex(d=>d===o.value),c=a<n.length-1?a+1:0;a!==c&&r(n[c])},i=(a,c,...d)=>{var g;const u=(g=t.map[a])==null?void 0:g[c||o.value];if(!!u)return typeof u=="string"?u:u(...d)};return{language:readonly(o),l:s,set:r,toggle:l,translate:i,t:i}},createI18n=t=>{const o=createI18nStore(t),n={beforeMount(r,l){r._i18nDirectiveStopHandler=watch(()=>o.language.value,()=>{r.textContent=o.t(l.value)||""},{immediate:!0})},beforeUnmount(r){var l;(l=r==null?void 0:r._i18nDirectiveStopHandler)==null||l.call(r)}},s=defineComponent({name:"I18n",props:{lkey:[String,Number,Symbol]},render(){var r,l;if(this.$props.lkey)return o.t(this.$props.lkey);{const i=o.language.value;return this.$attrs[i]||((l=(r=this.$slots)[i])==null?void 0:l.call(r))}}});return S(C({},o),{install(r){r.config.globalProperties.$i18n=o,r.provide(I18nSymbol,o),r.component(s.name,s),r.directive("i18n",n),r.directive("t",n)}})},useI18n=()=>inject(I18nSymbol),MetaTitlerSymbol=Symbol("meta-titler"),createMeta=t=>{const o=createHead();return S(C({},o),{renderToString(){return renderHeadToString(o)},install(n,...s){return n.provide(MetaTitlerSymbol,(t==null?void 0:t.titler)||(r=>r)),n.use(o,...s),o}})};function useMeta(t){const o=useI18n(),n=inject(MetaTitlerSymbol),s=computed(()=>{var E;const $=typeof t=="function"?t():t,{title:l,pageTitle:i,keywords:a,description:c}=$,d=B($,["title","pageTitle","keywords","description"]),u=l||(i?n(i):""),g=d.meta||[];a&&g.push({key:"keywords",name:"keywords",content:a}),c&&g.push({key:"description",name:"description",content:c});const m=C({lang:(E=o.l.value)==null?void 0:E.iso},d.htmlAttrs);return S(C({},d),{title:u,meta:g,htmlAttrs:m})});return useHead(s)}const get=t=>localStorage.getItem(t),set=(t,o)=>localStorage.setItem(t,o),remove=t=>localStorage.removeItem(t),setJSON=(t,o)=>set(t,JSON.stringify(o)),getJSON=t=>{const o=get(t);return typeof o=="string"?JSON.parse(o):null},getAccessor=(t,o)=>{const n=ref(getJSON(t)||o);return watchEffect(()=>setJSON(t,n.value)),n};var storage={get,set,remove,setJSON,getJSON,getAccessor};const DARK_THEME_QUERY="(prefers-color-scheme: dark)",LIGHT_THEME_QUERY="(prefers-color-scheme: light)",THEME_STORAGE_KEY="theme",getClientLocalTheme=()=>{const t=storage.get(THEME_STORAGE_KEY);return t?t===Theme.Dark?Theme.Dark:Theme.Default:window.matchMedia(DARK_THEME_QUERY).matches?Theme.Dark:(window.matchMedia(LIGHT_THEME_QUERY).matches,Theme.Default)};var Theme;(function(t){t.Default="default",t.Dark="dark"})(Theme||(Theme={}));const themes=Object.values(Theme),ThemeSymbol=Symbol("theme"),createThemeStore=t=>{const o=ref(t),n=l=>{themes.includes(l)&&l!==o.value&&(o.value=l,api.set(THEME_STORAGE_KEY,l),storage.set(THEME_STORAGE_KEY,l))},s=()=>n(o.value===Theme.Dark?Theme.Default:Theme.Dark),r=()=>{window.matchMedia(DARK_THEME_QUERY).addEventListener("change",({matches:l})=>l&&n(Theme.Dark)),window.matchMedia(LIGHT_THEME_QUERY).addEventListener("change",({matches:l})=>l&&n(Theme.Default))};return{theme:readonly(o),set:n,toggle:s,bindClientSystem:r}},createTheme=t=>{const o=createThemeStore(t);return S(C({},o),{install(n){n.provide(ThemeSymbol,o)}})},useTheme=()=>inject(ThemeSymbol),createDeferStore=()=>{const t=reactive({loaded:!1,tasks:[]}),o=r=>{window.setTimeout(r,666)},n=()=>{t.loaded=!0,t.tasks.forEach(r=>o(r))},s=r=>{t.tasks.push(r),t.loaded&&o(r)};return window.addEventListener("load",n),{state:t,addTask:s}},DeferSymbol=Symbol("defer"),createDefer=()=>{const t=createDeferStore();return S(C({},t),{install(o,n){o.provide(DeferSymbol,t),(n==null?void 0:n.exportToGlobal)&&(window.$defer=t)}})},useDefer=()=>inject(DeferSymbol);var progress_vue_vue_type_style_index_0_scoped_true_lang="",_export_sfc=(t,o)=>{const n=t.__vccOpts||t;for(const[s,r]of o)n[s]=r;return n};const _sfc_main$17=defineComponent({name:"ProgressBar",setup(){return{loading:useLoading()}}}),_withScopeId$z=t=>(pushScopeId("data-v-48976dee"),t=t(),popScopeId(),t),_hoisted_1$12={id:"progress-bar"},_hoisted_2$Q=_withScopeId$z(()=>createBaseVNode("div",{class:"lds-ring"},[createBaseVNode("div"),createBaseVNode("div"),createBaseVNode("div"),createBaseVNode("div")],-1)),_hoisted_3$F=[_hoisted_2$Q];function _sfc_render$17(t,o,n,s,r,l){const i=resolveComponent("desktop-only");return openBlock(),createElementBlock("div",_hoisted_1$12,[createBaseVNode("div",{class:normalizeClass(["progress",{show:t.loading.state.show,notransition:t.loading.state.skipTimerCount>0,failed:!t.loading.state.canSucceed}]),style:normalizeStyle({width:t.loading.state.percent+"%"})},null,6),createVNode(i,null,{default:withCtx(()=>[createBaseVNode("div",{class:normalizeClass(["spin",{show:t.loading.state.show,failed:!t.loading.state.canSucceed}])},_hoisted_3$F,2)]),_:1})])}var ProgressComponent=_export_sfc(_sfc_main$17,[["render",_sfc_render$17],["__scopeId","data-v-48976dee"]]);const LoadingSymbol=Symbol("loading"),createLoadingStore=(t={})=>{let o,n,s;const r=reactive({percent:0,show:!1,error:null,canSucceed:!0,skipTimerCount:0,throttle:t.throttle||200,duration:t.duration||3e3}),l=()=>{window.clearInterval(n),window.clearTimeout(s),n=0},i=N=>{r.percent=Math.min(100,Math.floor(r.percent+N))},a=N=>{r.percent=Math.max(0,Math.floor(r.percent-N))},c=()=>{r.show||(r.show=!0),typeof o=="undefined"&&(o=1e4/Math.floor(r.duration)),n=window.setInterval(()=>{if(r.skipTimerCount>0){r.skipTimerCount--;return}a(o)},100)},d=()=>{l(),r.percent=0,r.skipTimerCount=0,r.canSucceed=!0,r.show=!0,r.throttle?s=window.setTimeout(()=>c(),r.throttle):c()},u=()=>{l(),window.setTimeout(()=>{r.show=!1,nextTick(()=>{r.percent=0})},500)},g=N=>{r.show=!0,r.canSucceed=!0,r.percent=Math.min(100,Math.max(0,Math.floor(N)))},m=()=>{window.clearInterval(n)},$=()=>{c()},E=()=>{r.error=null,r.percent=100,u()},f=N=>{r.error=N,r.canSucceed=!1};return{state:readonly(r),start:d,pause:m,resume:$,finish:E,fail:f,increase:i,decrease:a,set:g}},createLoading=t=>{const o=createLoadingStore(t);return S(C({},o),{install(n,s){n.provide(LoadingSymbol,o),n.component(ProgressComponent.name,ProgressComponent),n.config.globalProperties.$loading=o,(s==null?void 0:s.exportToGlobal)&&(window.$loading=o)}})},useLoading=()=>inject(LoadingSymbol),getGAScriptUrl=t=>`https://www.googletagmanager.com/gtag/js?id=${t}`;var loadScript=(t,o={})=>new Promise((n,s)=>{const r=document.head||document.getElementsByTagName("head")[0],l=document.createElement("script"),$=o,{src:i,domain:a,type:c="text/javascript",charset:d="utf-8",defer:u=!1,async:g=!1}=$,m=B($,["src","domain","type","charset","defer","async"]);if(l.type=c,l.defer=u,l.async=g,l.src=i||t,Object.keys(m).forEach(E=>{l[E]=m[E]}),a){const E=document.createElement("link");E.href=a,E.rel="preconnect",r.appendChild(E)}r.appendChild(l),l.onload=n,l.onerror=s});const GtagSymbol=Symbol("gtag"),createGtag=t=>{if(window.gtag==null&&(window.dataLayer=window.dataLayer||[],window.gtag=(...l)=>window.dataLayer.push(...l),window.gtag("js",new Date),window.gtag("config",t.id,t.config)),!t.id||!t.router)return;const o=(...l)=>{s.readied&&!s.disabled&&window.gtag(...l)},n=t.customResourceURL||getGAScriptUrl(t.id),s=reactive({readied:!1,disabled:!1});return loadScript(n,{async:!0}).then(()=>{s.readied=!0,t.router.afterEach(l=>{const i=window.location.origin+l.fullPath;o("config",t.id,{page_title:document.title,page_path:l.fullPath,page_location:i})})}),{state:readonly(s),enable:()=>{s.disabled=!1},disable:()=>{s.disabled=!0},set(l){o("set",l)},config(l){o("config",t.id,l)},event(l,i){o("event",l,i)}}},useGtag=()=>inject(GtagSymbol),install=(t,o)=>{if(install.installed)return;const n=createGtag(o);t.provide(GtagSymbol,n),t.config.globalProperties.$gtag=n,install.installed=!0};var gtag={install};const PopupSymbol=Symbol("popup"),usePopup=()=>inject(PopupSymbol),usePopupWithRoot=t=>{const o=usePopup();return onMounted(()=>o.$setRoot(t())),o};var HTTPStatus;(function(t){t.Error="error",t.Success="success"})(HTTPStatus||(HTTPStatus={}));const nodepress=axios.create({baseURL:API_CONFIG.NODEPRESS});nodepress.interceptors.response.use(t=>t.data.status===HTTPStatus.Success?t.data:Promise.reject(t.data),t=>{var l,i,a,c,d,u;const o=t.toJSON(),n=((i=(l=t.response)==null?void 0:l.data)==null?void 0:i.message)||"Error",s=((c=(a=t.response)==null?void 0:a.data)==null?void 0:c.error)||((d=t.response)==null?void 0:d.statusText)||o.message,r=S(C({},o),{config:t.config,request:t.request,response:t.response,code:t.code||((u=t.response)==null?void 0:u.status)||BAD_REQUEST,message:n+": "+s});return console.debug("axios error:",r),Promise.reject(o)});const service$1={$:nodepress,request:(...t)=>nodepress.request(...t),get:(...t)=>nodepress.get(...t),delete:(...t)=>nodepress.delete(...t),head:(...t)=>nodepress.head(...t),options:(...t)=>nodepress.options(...t),post:(...t)=>nodepress.post(...t),put:(...t)=>nodepress.put(...t),patch:(...t)=>nodepress.patch(...t)},defaultAdConfig={PC_CARROUSEL:!1,PC_NAV:[],PC_ASIDE_SWIPER:[],PC_MERCH_PRODUCTS:[],PC_MERCH_BROKERS:[]},useMetaStore=defineStore("meta",{state:()=>({adminInfo:{fetching:!1,data:null},appOptions:{fetching:!1,data:null}}),getters:{adConfig:t=>{var s;const o=(s=t.appOptions.data)==null?void 0:s.ad_config,n=C(C({},defaultAdConfig),o?JSON.parse(o):{});return n.PC_NAV=n.PC_NAV.filter(r=>!r.disabled),n.PC_ASIDE_SWIPER=n.PC_ASIDE_SWIPER.filter(r=>!r.disabled),n}},actions:{fetchAdminInfo(){return this.adminInfo.fetching=!0,service$1.get("/auth/admin").then(t=>{this.adminInfo.data=t.result}).finally(()=>{this.adminInfo.fetching=!1})},fetchAppOptions(t=!1){return!t&&this.appOptions.data?Promise.resolve():(this.appOptions.fetching=!0,service$1.get("/option").then(o=>{this.appOptions.data=o.result}).finally(()=>{this.appOptions.fetching=!1}))},postSiteLike(){return service$1.patch("/like/site").then(t=>{this.appOptions.data&&this.appOptions.data.meta.likes++})}}}),useEnhancer=()=>{const t=useRoute(),o=useRouter(),n=useI18n(),s=useTheme(),r=useGlobalState(),l=useMetaStore(),i=computed(()=>l.adConfig),a=computed(()=>r.userAgent.isMobile),c=computed(()=>s.theme.value===Theme.Dark),d=computed(()=>n.language.value===Language.Zh);return{route:t,router:o,globalState:r,i18n:n,meta:useMeta,theme:s,adConfig:i,isMobile:a,isDarkTheme:c,isZhLang:d,defer:useDefer(),popup:usePopup(),gtag:useGtag(),loading:useLoading()}};var OriginState;(function(t){t[t.Original=0]="Original",t[t.Reprint=1]="Reprint",t[t.Hybrid=2]="Hybrid"})(OriginState||(OriginState={}));var CommentPostType;(function(t){t[t.Guestbook=0]="Guestbook"})(CommentPostType||(CommentPostType={}));var CommentParentType;(function(t){t[t.Self=0]="Self"})(CommentParentType||(CommentParentType={}));var SortType;(function(t){t[t.Asc=1]="Asc",t[t.Desc=-1]="Desc",t[t.Hot=2]="Hot"})(SortType||(SortType={}));const HEADER_ELEMENT_ID="A_header",NAV_ELEMENT_ID="A_nav",MAIN_ELEMENT_ID="A_main",MAIN_CONTENT_ELEMENT_ID="A_main",ASIDE_ELEMENT_ID="A_aside",FOOTER_ELEMENT_ID="A_footer",ARTICLE_SHARE_ELEMENT_ID="A_article_share",ARTICLE_META_ELEMENT_ID="A_article_meta",ARTICLE_RELETED_ELEMENT_ID="A_article_releted",ARTICLE_CONTENT_ELEMENT_ID="A_article_content",ARTICLE_CONTENT_HEADING_ELEMENT_ID_PREFIX="A_article_content_heading",getArticleContentHeadingElementID=(t,o)=>`${ARTICLE_CONTENT_HEADING_ELEMENT_ID_PREFIX}_${t}_${o}`,COMMENT_ELEMENT_ID="A_comment_warpper",COMMENT_PUBLISHER_ELEMENT_ID="A_comment_publisher",COMMENT_ITEM_ELEMENT_ID_PREFIX="A_comment_content_item",getCommentItemElementID=t=>`${COMMENT_ITEM_ELEMENT_ID_PREFIX}_${t}`;var ANCHORS=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",HEADER_ELEMENT_ID,NAV_ELEMENT_ID,MAIN_ELEMENT_ID,MAIN_CONTENT_ELEMENT_ID,ASIDE_ELEMENT_ID,FOOTER_ELEMENT_ID,ARTICLE_SHARE_ELEMENT_ID,ARTICLE_META_ELEMENT_ID,ARTICLE_RELETED_ELEMENT_ID,ARTICLE_CONTENT_ELEMENT_ID,ARTICLE_CONTENT_HEADING_ELEMENT_ID_PREFIX,getArticleContentHeadingElementID,COMMENT_ELEMENT_ID,COMMENT_PUBLISHER_ELEMENT_ID,COMMENT_ITEM_ELEMENT_ID_PREFIX,getCommentItemElementID});const LOZAD_CLASS_NAME="lozad",LOADED_CLASS_NAME="loaded",exportLozadToGlobal=()=>{window.$lozad=lozad},languages={go,css,sql,php,xml,yaml,json,bash,less,scss,rust,java,shell,nginx,stylus,python,javascript,typescript};Object.keys(languages).forEach(t=>core.registerLanguage(t,languages[t]));var relink=(text,tagMap)=>{const tagNames=Object.keys(tagMap).sort((t,o)=>o.length-t.length),tagRegexp=eval(`/${tagNames.join("|")}/ig`);try{return new URL(text),text}catch(t){return text.replace(tagRegexp,o=>{const n=tagMap.get(o);if(!n||text[0]==="#")return o;const s=n.slug,r=getTagArchiveRoute(s),l=`window.$app.config.globalProperties.$router.push({ path: '${r}' });return false`;return`<a href="${r}" title="${n.description}" onclick="${l}">${o}</a>`})}};const trimHTML=t=>t.replace(/\s+/g," ").replace(/\n/g," "),getRenderer=t=>{const o=new Renderer;return o.text=n=>(t==null?void 0:t.text)?t.text(n):n,o.html=n=>(t==null?void 0:t.sanitize)?sanitizeHTML(escapeHtml_1(n)):n,o.heading=(n,s,r)=>{const l=(t==null?void 0:t.headingID)?`id=${t.headingID(n,s,r)}`:"";return`<h${s} ${l} alt=${n} title=${n}>${n}</h${s}>`},o.paragraph=n=>`<p>${n}</p>`,o.checkbox=n=>n?'<i class="checkbox checked iconfont icon-checkbox-selected"></i>':'<i class="checkbox iconfont icon-checkbox-unselected"></i>',o.link=(n,s,r)=>{const l=n==null?void 0:n.includes(META.domain),i=r.includes("<img"),a=trimHTML(`
      <a
        href="${n}"
        target="_blank"
        class="${i?"image-link":"link"}"
        title="${s||(i?n:r)}"
        ${l?"":'rel="external nofollow noopener"'}
      >
        ${r}
      </a>
    `);return(t==null?void 0:t.sanitize)?sanitizeHTML(a,{allowedTags:["a"],allowedAttributes:{a:["href","target","class","title","rel","data-*"]}}):a},o.image=(n,s,r)=>{const l=n==null?void 0:n.replace(/^http:\/\//gi,`${API_CONFIG.PROXY}/`),i=trimHTML(`
      <img
        class="${LOZAD_CLASS_NAME}"
        data-src="${l}"
        title="${s||r||META.domain}"
        alt="${r||s||l}"
        onclick="window.$popup?.vImage('${l}')"
      />
    `);return(t==null?void 0:t.sanitize)?sanitizeHTML(i,{allowedTags:["img"],allowedAttributes:{img:["alt","onclick","class","title","data-*"]}}):i},o.code=function(n,s,r){if(o.options.highlight){const a=o.options.highlight(n,s||"");a!=null&&a!==n&&(r=!0,n=a)}const l=n.split(`
`).map((a,c)=>`<li class="code-line-number">${c+1}</li>`.replace(/\s+/g," ")).join(""),i=`
      contenteditable="true"
      oncut="return false"
      onpaste="return false"
      onkeydown="if(event.metaKey) return true; return false;"
    `;return s?`
        <pre data-lang="${s}">
          <ul class="code-lines">${l}</ul>
          <code
            ${i}
            class="${o.options.langPrefix}${escape(s)}"
          >${r?n:escape(n)}
</code>
        </pre>

      `:`
        <pre>
          <ul class="code-lines">${l}</ul>
          <code ${i}>${r?n:escape(n)}
</code>
        </pre>
      `},o};marked.setOptions({gfm:!0,breaks:!1,pedantic:!1,smartLists:!0,smartypants:!1,langPrefix:"hljs language-",highlight(t,o){return core.getLanguage(o)?core.highlight(t,{language:o}).value:core.highlightAuto(t).value}});const markdownToHTML=(t,o)=>{if(!t||typeof t!="string")return"";const n={renderer:getRenderer({headingID:o==null?void 0:o.headingIDRenderer})};return(o==null?void 0:o.relink)&&(n.renderer=getRenderer({text:s=>relink(s,o.tagMap),headingID:o==null?void 0:o.headingIDRenderer})),(o==null?void 0:o.sanitize)&&(n.renderer=getRenderer({sanitize:!0,headingID:o==null?void 0:o.headingIDRenderer})),marked.parse(t,n)},fetchDelay=(t=DEFAULT_FETCH_DELAY)=>{const o=new Date().getTime();return n=>{const r=new Date().getTime()-o,l=t-r;l>0?window.setTimeout(n,l):n()}},ARTICLE_API_PATH="/article",LIKE_ARTICLE_API_PATH="/like/article",useArticleStore=defineStore("article",{state:()=>({hotList:{fetched:!1,fetching:!1,data:[]},list:{fetching:!1,data:[],pagination:null}}),actions:{fetchList(t={}){const o=!t.page||t.page===1,n=!o&&t.page>1;return o&&(this.list.data=[],this.list.pagination=null),this.list.fetching=!0,service$1.get(ARTICLE_API_PATH,{params:t}).then(s=>{n?(this.list.data.push(...s.result.data),this.list.pagination=s.result.pagination):(this.list.data=s.result.data,this.list.pagination=s.result.pagination)}).finally(()=>{this.list.fetching=!1})},fetchHotList(){return this.hotList.fetched?Promise.resolve():(this.hotList.fetching=!0,service$1.get(ARTICLE_API_PATH,{params:{cache:1,sort:SortType.Hot}}).then(t=>{this.hotList.data=t.result.data,this.hotList.fetched=!0}).finally(()=>{this.hotList.fetching=!1}))}}}),renderArticleMarkdown=t=>{const o=[];return{html:markdownToHTML(t,{sanitize:!1,relink:!1,headingIDRenderer:(s,r,l)=>{const i=getArticleContentHeadingElementID(r,l.toLowerCase().replace(/[^a-zA-Z0-9\u4E00-\u9FA5]+/g,"-"));return o.push({text:s,level:r,id:i}),i}}),headings:o}},useArticleDetailStore=defineStore("articleDetail",{state:()=>({fetching:!1,article:null,renderedFullContent:!0}),getters:{isLongContent(){return Boolean(this.article&&this.article.content.length>16688)},splitIndex(){if(this.article&&this.isLongContent){const o=this.article.content.substring(0,13688),n=o.lastIndexOf(`
####`),s=o.lastIndexOf(`
###`),r=o.lastIndexOf("\n```"),l=o.lastIndexOf(`

**`);return Math.max(n,s,r,l)}return null},defaultContent(){if(!this.article)return null;const t=this.isLongContent?this.article.content.substring(0,this.splitIndex):this.article.content,{html:o,headings:n}=renderArticleMarkdown(t);return{markdown:t,html:o,headings:n}},moreContent(){if(this.article&&this.isLongContent){const t=this.article.content.substring(this.splitIndex),{html:o,headings:n}=renderArticleMarkdown(t);return{markdown:t,html:o,headings:n}}return null}},actions:{renderFullContent(){this.renderedFullContent=!0},fetchDetail(t){return this.fetching=!0,this.article=null,service$1.get(`${ARTICLE_API_PATH}/${t.articleID}`).then(o=>new Promise(n=>{fetchDelay(t.delay||0)(()=>{this.article=o.result,this.renderedFullContent=!this.isLongContent,n(void 0)})})).finally(()=>{this.fetching=!1})},postArticleLike(t){return service$1.patch(LIKE_ARTICLE_API_PATH,{article_id:t}).then(()=>{this.article&&this.article.meta.likes++})}}}),useAnnouncementStore=defineStore("announcement",{state:()=>({fetching:!1,announcements:[]}),actions:{fetchList(t){return this.announcements=[],this.fetching=!0,service$1.get("/announcement",{params:t}).then(o=>{this.announcements=o.result.data}).finally(()=>{this.fetching=!1})}}});Swiper.use([Pagination,Navigation,Mousewheel,Autoplay,A11y]);const getBannerArticleThumbnailUrl=(t,o,n)=>t?o?`${t}?x-oss-process=style/blog.list.banner.mobile`:`${t}?x-oss-process=${n?"style/blog.list.banner.pc":"image/auto-orient,1/resize,m_fill,w_1190,h_420/quality,q_90/format,jpg/watermark,text_U3VybW9uLm1l,type_ZHJvaWRzYW5zZmFsbGJhY2s,color_ffffff,size_32,g_sw,t_26,x_30,y_25"}`:getFileCDNUrl(o?"/images/thumb/mobile-carrousel.jpg":"/images/thumb/pc-carrousel.jpg"),getArchiveArticleThumbnailUrl=(t,o)=>t?`${t}?x-oss-process=${o?"style/blog.list.item.pc":"image/auto-orient,1/resize,m_fill,w_350,h_238/quality,q_80/format,jpg/watermark,text_U3VybW9uLm1l,type_ZHJvaWRzYW5zZmFsbGJhY2s,color_ffffff,size_20,g_sw,t_24,x_16,y_14"}`:getFileCDNUrl("/images/thumb/pc-article-list.jpg"),getGravatarByEmail=t=>{let o=gravatar.url(t,{protocol:"https"});return o=o.replace("https://s.gravatar.com/avatar",API_CONFIG.GRAVATAR),o+="?x-oss-process=style/gravatar",o};var carrousel_vue_vue_type_style_index_0_scoped_true_lang="";const _sfc_main$16=defineComponent({name:"ArchiveCarrousel",components:{Swiper:Swiper$1,SwiperSlide},props:{articles:{type:Array,required:!0},fetching:{type:Boolean,required:!0}},setup(t){const{globalState:o,adConfig:n,isMobile:s,isDarkTheme:r}=useEnhancer(),l=computed(()=>{const a=[...t.articles].slice(0,9);if(n.value.PC_CARROUSEL){const c=n.value.PC_CARROUSEL,{index:d}=c,u=B(c,["index"]);a.length&&a.splice(d,0,C({ad:!0},u))}return a});return{LANGUAGE_KEYS,isMobile:s,isDarkTheme:r,articleList:l,getArticleDetailRoute,getThumbURL:a=>getBannerArticleThumbnailUrl(a,s.value,o.imageExt.value.isWebP)}}}),_withScopeId$y=t=>(pushScopeId("data-v-22b3110a"),t=t(),popScopeId(),t),_hoisted_1$11={class:"article-skeleton",key:"skeleton"},_hoisted_2$P={class:"title"},_hoisted_3$E={class:"content"},_hoisted_4$B={class:"first"},_hoisted_5$x={class:"content"},_hoisted_6$v=["src","alt"],_hoisted_7$s={class:"title"},_hoisted_8$r=_withScopeId$y(()=>createBaseVNode("div",{class:"background"},null,-1)),_hoisted_9$q={class:"prospect"},_hoisted_10$p={class:"ad-symbol"},_hoisted_11$m=["src","alt"],_hoisted_12$l={class:"title"},_hoisted_13$j=_withScopeId$y(()=>createBaseVNode("div",{class:"background"},null,-1)),_hoisted_14$h={class:"prospect"};function _sfc_render$16(t,o,n,s,r,l){const i=resolveComponent("i18n"),a=resolveComponent("empty"),c=resolveComponent("skeleton-line"),d=resolveComponent("skeleton-paragraph"),u=resolveComponent("responsive"),g=resolveComponent("ulink"),m=resolveComponent("router-link"),$=resolveComponent("swiper-slide"),E=resolveComponent("swiper"),f=resolveComponent("placeholder");return openBlock(),createElementBlock("div",{class:normalizeClass(["carrousel",{mobile:t.isMobile,dark:t.isDarkTheme}])},[createVNode(f,{data:t.articleList.length,loading:t.fetching},{placeholder:withCtx(()=>[createVNode(a,{class:"article-empty",key:"empty"},{default:withCtx(()=>[createVNode(i,{lkey:t.LANGUAGE_KEYS.ARTICLE_PLACEHOLDER},null,8,["lkey"])]),_:1})]),loading:withCtx(()=>[createBaseVNode("div",_hoisted_1$11,[createBaseVNode("div",_hoisted_2$P,[createVNode(c)]),createBaseVNode("div",_hoisted_3$E,[createBaseVNode("div",_hoisted_4$B,[createVNode(c)]),createVNode(u,{desktop:""},{default:withCtx(()=>[createVNode(d,{lines:5})]),_:1})])])]),default:withCtx(()=>[createVNode(E,{class:"swiper",autoplay:{delay:3500,disableOnInteraction:!1},"set-wrapper-size":!0,mousewheel:!0,"observe-parents":!0,"grab-cursor":!1,"simulate-touch":!1,"preload-images":!1,lazy:!1,pagination:{clickable:!0}},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.articleList.slice(0,9),(N,v)=>(openBlock(),createBlock($,{key:v},{default:withCtx(()=>[createBaseVNode("div",_hoisted_5$x,[N.ad?(openBlock(),createBlock(g,{key:0,class:"link",href:N.url},{default:withCtx(()=>[createBaseVNode("img",{src:N.src,alt:N.title},null,8,_hoisted_6$v),createBaseVNode("div",_hoisted_7$s,[_hoisted_8$r,createBaseVNode("div",_hoisted_9$q,[createBaseVNode("span",{class:"text",style:normalizeStyle({backgroundImage:`url('${t.getThumbURL(N.src)}')`})},toDisplayString(N.title),5)])]),createBaseVNode("span",_hoisted_10$p,[createVNode(i,{lkey:t.LANGUAGE_KEYS.AD},null,8,["lkey"])])]),_:2},1032,["href"])):(openBlock(),createBlock(m,{key:1,to:t.getArticleDetailRoute(N.id),class:"link"},{default:withCtx(()=>[createBaseVNode("img",{src:t.getThumbURL(N.thumb),alt:N.title,draggable:"false"},null,8,_hoisted_11$m),createBaseVNode("div",_hoisted_12$l,[_hoisted_13$j,createBaseVNode("div",_hoisted_14$h,[createBaseVNode("span",{class:"text",style:normalizeStyle({backgroundImage:`url('${t.getThumbURL(N.thumb)}')`})},toDisplayString(N.title),5)])])]),_:2},1032,["to"]))])]),_:2},1024))),128))]),_:1})]),_:1},8,["data","loading"])],2)}var Carrousel=_export_sfc(_sfc_main$16,[["render",_sfc_render$16],["__scopeId","data-v-22b3110a"]]);const TEXT_MAP={AM:{[Language.En]:"am",[Language.Zh]:"\u4E0A\u5348"},PM:{[Language.En]:"pm",[Language.Zh]:"\u4E0B\u5348"},AGO:{[Language.En]:" ago",[Language.Zh]:"\u524D"},JUST_NOW:{[Language.En]:"Just now",[Language.Zh]:"\u521A\u521A"},MINUTES:{[Language.En]:"minutes",[Language.Zh]:"\u5206\u949F"},HOURS:{[Language.En]:"hours",[Language.Zh]:"\u5C0F\u65F6"},WEEKS:{[Language.En]:"weeks",[Language.Zh]:"\u5468"},DAYS:{[Language.En]:"days",[Language.Zh]:"\u5929"},MONTHS:{[Language.En]:"months",[Language.Zh]:"\u4E2A\u6708"},YEARS:{[Language.En]:"years",[Language.Zh]:"\u5E74"},WEEKDAYS:{[Language.En]:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],[Language.Zh]:["\u4E00","\u4E8C","\u4E09","\u56DB","\u4E94","\u516D","\u65E5"]}},textHumanizer=t=>o=>o[t],cloneDate=t=>new Date(t.getTime()),dateToHuman=t=>{const o=t.getDay();return{day:t.getDate(),week:o===0?7:o,month:t.getMonth()+1,year:t.getFullYear()}},humanToDate=t=>{const o=new Date;return o.setDate(t.day),o.setFullYear(t.year),o.setMonth(t.month-1),o},humanDateToYMD=({year:t,month:o,day:n},s="-")=>{const r=o?s+String(o).padStart(2,"0"):"",l=n?s+String(n).padStart(2,"0"):"";return`${t}${r}${l}`},isSameHumanDay=(t,o)=>t.day===o.day&&t.month===o.month&&t.year===o.year,dateToYMD=t=>humanDateToYMD(dateToHuman(t)),timeAgo=(t,o)=>{const n=t instanceof Date?t:new Date(t),s=Date.now()/1e3-Number(n)/1e3,r=3600,l=r*24,i=l*7,a=l*30,c=a*12,d=textHumanizer(o),u=(g,m)=>`${g} ${m}${d(TEXT_MAP.AGO)}`;return s<r?~~(s/60)==0?d(TEXT_MAP.JUST_NOW):u(~~(s/60),d(TEXT_MAP.MINUTES)):s<l?u(~~(s/r),d(TEXT_MAP.HOURS)):s<i?u(~~(s/l),d(TEXT_MAP.DAYS)):s<a?u(~~(s/i),d(TEXT_MAP.WEEKS)):s<c?u(~~(s/a),d(TEXT_MAP.MONTHS)):u(~~(s/c),d(TEXT_MAP.YEARS))},humanizeYMD=(t,o)=>{if(!t)return t;const n=new Date(t),s=n.getFullYear(),r=n.getMonth()+1,l=n.getDate(),i=n.getHours()>11?textHumanizer(o)(TEXT_MAP.PM):textHumanizer(o)(TEXT_MAP.AM);return`${s}/${r}/${l} ${i}`};var announcement_vue_vue_type_style_index_0_scoped_true_lang="";const _sfc_main$15=defineComponent({name:"ArchiveAnnouncement",components:{Swiper:Swiper$1,SwiperSlide},props:{announcements:{type:Array,required:!0},fetching:{type:Boolean,required:!0}},setup(){const{i18n:t,isMobile:o,isDarkTheme:n}=useEnhancer(),s=ref(0),r=ref();return{LANGUAGE_KEYS,isMobile:o,isDarkTheme:n,activeIndex:s,humanlizeDate:g=>timeAgo(g,t.language.value),parseContent:g=>markdownToHTML(g),prevSlide:()=>{var g;return(g=r.value)==null?void 0:g.slidePrev()},nextSlide:()=>{var g;return(g=r.value)==null?void 0:g.slideNext()},onSwiper:g=>{r.value=g},handleSwiperTransitionStart:()=>{var g;s.value=((g=r.value)==null?void 0:g.activeIndex)||0}}}}),_withScopeId$x=t=>(pushScopeId("data-v-15f22235"),t=t(),popScopeId(),t),_hoisted_1$10={class:"announcement-skeleton",key:"skeleton"},_hoisted_2$O={class:"left"},_hoisted_3$D={class:"right"},_hoisted_4$A={class:"warpper",key:"warpper"},_hoisted_5$w=["data-content"],_hoisted_6$u={class:"title"},_hoisted_7$r=_withScopeId$x(()=>createBaseVNode("i",{class:"iconfont icon-windmill"},null,-1)),_hoisted_8$q=[_hoisted_7$r],_hoisted_9$p={class:"swiper-box"},_hoisted_10$o=["innerHTML"],_hoisted_11$l={class:"date"},_hoisted_12$k={class:"navigation"},_hoisted_13$i=_withScopeId$x(()=>createBaseVNode("i",{class:"iconfont icon-announcement-prev"},null,-1)),_hoisted_14$g=[_hoisted_13$i],_hoisted_15$e=_withScopeId$x(()=>createBaseVNode("i",{class:"iconfont icon-announcement-next"},null,-1)),_hoisted_16$c=[_hoisted_15$e];function _sfc_render$15(t,o,n,s,r,l){const i=resolveComponent("i18n"),a=resolveComponent("empty"),c=resolveComponent("skeleton-line"),d=resolveComponent("desktop-only"),u=resolveComponent("swiper-slide"),g=resolveComponent("swiper"),m=resolveComponent("placeholder");return openBlock(),createElementBlock("div",{class:normalizeClass(["announcement",{mobile:t.isMobile,dark:t.isDarkTheme}])},[createVNode(m,{data:t.announcements.length,loading:t.fetching},{placeholder:withCtx(()=>[createVNode(a,{class:"announcement-empty",key:"empty"},{default:withCtx(()=>[createVNode(i,{lkey:t.LANGUAGE_KEYS.ARTICLE_PLACEHOLDER},null,8,["lkey"])]),_:1})]),loading:withCtx(()=>[createBaseVNode("div",_hoisted_1$10,[createBaseVNode("div",_hoisted_2$O,[createVNode(c)]),createBaseVNode("div",_hoisted_3$D,[createVNode(c)])])]),default:withCtx(()=>[createBaseVNode("div",_hoisted_4$A,[createVNode(d,null,{default:withCtx(()=>{var $;return[createBaseVNode("div",{class:"background","data-content":t.parseContent(($=t.announcements[t.activeIndex])==null?void 0:$.content)},null,8,_hoisted_5$w)]}),_:1}),createBaseVNode("div",_hoisted_6$u,[createBaseVNode("span",{class:"icon-box",style:normalizeStyle({transform:`rotate(-${t.activeIndex*135}deg)`})},_hoisted_8$q,4)]),createBaseVNode("div",_hoisted_9$p,[createVNode(g,{class:"swiper",direction:"vertical",height:42,"allow-touch-move":!1,"slides-per-view":1,"set-wrapper-size":!0,autoplay:{delay:3500,disableOnInteraction:!1},onTransitionStart:t.handleSwiperTransitionStart,onSwiper:t.onSwiper},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.announcements,($,E)=>(openBlock(),createBlock(u,{key:E},{default:withCtx(()=>[createBaseVNode("div",{class:"content",innerHTML:t.parseContent($.content)},null,8,_hoisted_10$o),createVNode(d,null,{default:withCtx(()=>[createBaseVNode("div",_hoisted_11$l,toDisplayString(t.humanlizeDate($.create_at)),1)]),_:2},1024)]),_:2},1024))),128))]),_:1},8,["onTransitionStart","onSwiper"]),createBaseVNode("div",_hoisted_12$k,[createBaseVNode("div",{class:normalizeClass(["button prev",{disabled:t.activeIndex===0}]),onClick:o[0]||(o[0]=(...$)=>t.prevSlide&&t.prevSlide(...$))},_hoisted_14$g,2),createBaseVNode("div",{class:normalizeClass(["button next",{disabled:t.activeIndex===t.announcements.length-1}]),onClick:o[1]||(o[1]=(...$)=>t.nextSlide&&t.nextSlide(...$))},_hoisted_16$c,2)])])])]),_:1},8,["data","loading"])],2)}var Announcement=_export_sfc(_sfc_main$15,[["render",_sfc_render$15],["__scopeId","data-v-15f22235"]]);const USER="user",USER_LIKE_HISTORY="user_like_history",isOriginalType=t=>t==null||t===OriginState.Original,isHybridType=t=>t===OriginState.Hybrid,isReprintType=t=>t===OriginState.Reprint,getExtendsValue=(t,o)=>{var s;if(!((s=t==null?void 0:t.extends)==null?void 0:s.length))return null;const n=t.extends.find(r=>r.name===o);return n?n.value:null},defaultUserLikeHistory={pages:[],comments:[]},getUserLikeHistory=()=>getAccessor(USER_LIKE_HISTORY,defaultUserLikeHistory),usePageLike=t=>{const o=ref(!1);let n=null;return onMounted(()=>{n=getUserLikeHistory(),watchEffect(()=>{o.value=n.value.pages.includes(t)})}),{isLiked:o,like:()=>n.value.pages.push(t)}},useCommentsLike=()=>{const t=ref(C({},defaultUserLikeHistory));return onMounted(()=>{const o=getUserLikeHistory();watchEffect(()=>{t.value=o.value})}),{isLiked:o=>t.value.comments.includes(o),like:o=>t.value.comments.push(o)}};var item_vue_vue_type_style_index_0_scoped_true_lang$1="",Events$3;(function(t){t.Click="click"})(Events$3||(Events$3={}));const _sfc_main$14=defineComponent({name:"ArticleListItem",props:{article:{type:Object,required:!0}},emits:[Events$3.Click],setup(t,o){const n=useI18n(),s=useGlobalState(),{origin:r}=t.article,l=ref(!1),i=computed(()=>s.userAgent.isMobile),a=isHybridType(r),c=isReprintType(r),d=isOriginalType(r),u=$=>{o.emit(Events$3.Click,$)},g=$=>timeAgo($,n.language.value),m=$=>getArchiveArticleThumbnailUrl($,s.imageExt.value.isWebP);return onMounted(()=>{var E;const $=getJSON(USER_LIKE_HISTORY);l.value=!!((E=$==null?void 0:$.pages)==null?void 0:E.includes(t.article.id))}),{LANGUAGE_KEYS,isLiked:l,isMobile:i,isHybrid:a,isReprint:c,isOriginal:d,handleClick:u,getThumbUrl:m,getArticleDetailRoute,getCategoryArchiveRoute,getTagArchiveRoute,humanlizeDate:g}}}),_withScopeId$w=t=>(pushScopeId("data-v-683fa42c"),t=t(),popScopeId(),t),_hoisted_1$$={class:"item-content"},_hoisted_2$N={class:"item-thumb"},_hoisted_3$C=["src","alt","title"],_hoisted_4$z={class:"item-body"},_hoisted_5$v={class:"item-title"},_hoisted_6$t=["innerHTML"],_hoisted_7$q={class:"item-meta"},_hoisted_8$p={class:"date"},_hoisted_9$o=_withScopeId$w(()=>createBaseVNode("i",{class:"iconfont icon-clock"},null,-1)),_hoisted_10$n={class:"views"},_hoisted_11$k=_withScopeId$w(()=>createBaseVNode("i",{class:"iconfont icon-eye"},null,-1)),_hoisted_12$j={class:"comments"},_hoisted_13$h=_withScopeId$w(()=>createBaseVNode("i",{class:"iconfont icon-comment"},null,-1)),_hoisted_14$f={class:"likes"},_hoisted_15$d={class:"tags"},_hoisted_16$b=_withScopeId$w(()=>createBaseVNode("i",{class:"iconfont icon-tag"},null,-1)),_hoisted_17$b={class:"categories"},_hoisted_18$b=_withScopeId$w(()=>createBaseVNode("i",{class:"iconfont icon-category"},null,-1));function _sfc_render$14(t,o,n,s,r,l){const i=resolveComponent("desktop-only"),a=resolveComponent("i18n"),c=resolveComponent("router-link"),d=resolveComponent("placeholder");return openBlock(),createElementBlock("div",{class:normalizeClass(["article-list-item",{mobile:t.isMobile}]),onClick:o[0]||(o[0]=(...u)=>t.handleClick&&t.handleClick(...u))},[createVNode(i,null,{default:withCtx(()=>[createBaseVNode("div",{class:"item-background",style:normalizeStyle({backgroundImage:`url(${t.getThumbUrl(t.article.thumb)})`})},null,4)]),_:1}),createBaseVNode("div",_hoisted_1$$,[createVNode(i,null,{default:withCtx(()=>[createBaseVNode("div",_hoisted_2$N,[createVNode(c,{to:t.getArticleDetailRoute(t.article.id)},{default:withCtx(()=>[createBaseVNode("span",{class:normalizeClass(["item-oirigin",{self:t.isOriginal,other:t.isReprint,hybrid:t.isHybrid}])},[t.isOriginal?(openBlock(),createBlock(a,{key:0,lkey:t.LANGUAGE_KEYS.ORIGIN_ORIGINAL},null,8,["lkey"])):t.isReprint?(openBlock(),createBlock(a,{key:1,lkey:t.LANGUAGE_KEYS.ORIGIN_REPRINT},null,8,["lkey"])):t.isHybrid?(openBlock(),createBlock(a,{key:2,lkey:t.LANGUAGE_KEYS.ORIGIN_HYBRID},null,8,["lkey"])):createCommentVNode("",!0)],2),createBaseVNode("img",{class:"item-thumb-img",src:t.getThumbUrl(t.article.thumb),alt:t.article.title,title:t.article.title},null,8,_hoisted_3$C)]),_:1},8,["to"])])]),_:1}),createBaseVNode("div",_hoisted_4$z,[createBaseVNode("h5",_hoisted_5$v,[createVNode(c,{to:t.getArticleDetailRoute(t.article.id),title:t.article.title},{default:withCtx(()=>[createTextVNode(toDisplayString(t.article.title),1)]),_:1},8,["to","title"])]),createBaseVNode("p",{class:"item-description",style:{"-webkit-box-orient":"vertical"},innerHTML:t.article.description},null,8,_hoisted_6$t),createBaseVNode("div",_hoisted_7$q,[createBaseVNode("span",_hoisted_8$p,[_hoisted_9$o,createBaseVNode("span",null,toDisplayString(t.humanlizeDate(t.article.create_at)),1)]),createBaseVNode("span",_hoisted_10$n,[_hoisted_11$k,createBaseVNode("span",null,toDisplayString(t.article.meta.views||0),1)]),createBaseVNode("span",_hoisted_12$j,[_hoisted_13$h,createBaseVNode("span",null,toDisplayString(t.article.meta.comments||0),1)]),createBaseVNode("span",_hoisted_14$f,[createBaseVNode("i",{class:normalizeClass(["iconfont icon-heart",{liked:t.isLiked}])},null,2),createBaseVNode("span",null,toDisplayString(t.article.meta.likes||0),1)]),createBaseVNode("span",_hoisted_15$d,[_hoisted_16$b,createBaseVNode("span",null,toDisplayString(t.article.tag.length||0),1)]),createVNode(i,null,{default:withCtx(()=>[createBaseVNode("span",_hoisted_17$b,[_hoisted_18$b,createVNode(d,{transition:!1,data:t.article.category.length},{placeholder:withCtx(()=>[createVNode(a,{lkey:t.LANGUAGE_KEYS.CATEGORY_PLACEHOLDER},null,8,["lkey"])]),default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.article.category.slice(0,1),(u,g)=>(openBlock(),createBlock(c,{key:g,to:t.getCategoryArchiveRoute(u.slug)},{default:withCtx(()=>[createVNode(a,{zh:u.name,en:u.slug},null,8,["zh","en"])]),_:2},1032,["to"]))),128))]),_:1},8,["data"])])]),_:1})])])])],2)}var ListItem=_export_sfc(_sfc_main$14,[["render",_sfc_render$14],["__scopeId","data-v-683fa42c"]]),list_vue_vue_type_style_index_0_scoped_true_lang$1="",Events$2;(function(t){t.Loadmore="loadmore"})(Events$2||(Events$2={}));const _sfc_main$13=defineComponent({name:"ArticleList",components:{ListItem},props:{articles:{type:Array,required:!0},pagination:Object,fetching:{type:Boolean,required:!0},mammon:{type:Boolean,default:!0}},emits:[Events$2.Loadmore],setup(t,o){const{router:n,defer:s,isMobile:r,isDarkTheme:l}=useEnhancer(),i=ref(!1),a=computed(()=>t.mammon&&i),c=computed(()=>t.pagination?t.pagination.current_page<t.pagination.total_page:!1),d=()=>{o.emit(Events$2.Loadmore)},u=g=>{r.value&&n.push(getArticleDetailRoute(g.id))};return onMounted(()=>{s.addTask(()=>{i.value=!0})}),{LANGUAGE_KEYS,isMobile:r,isDarkTheme:l,isMammonEnabled:a,isLoadMoreEnabled:c,handleLoadmore:d,handleArticleClick:u}}}),_withScopeId$v=t=>(pushScopeId("data-v-0289eb17"),t=t(),popScopeId(),t),_hoisted_1$_={class:"article-list"},_hoisted_2$M={class:"article-list-skeleton",key:"skeleton"},_hoisted_3$B={class:"thumb"},_hoisted_4$y={class:"content"},_hoisted_5$u={class:"title"},_hoisted_6$s={class:"description"},_hoisted_7$p={key:"list"},_hoisted_8$o={class:"article-load"},_hoisted_9$n=["disabled"],_hoisted_10$m=_withScopeId$v(()=>createBaseVNode("span",{class:"icon"},[createBaseVNode("i",{class:"iconfont icon-peachblossom"})],-1)),_hoisted_11$j={class:"text"};function _sfc_render$13(t,o,n,s,r,l){const i=resolveComponent("Adsense"),a=resolveComponent("client-only"),c=resolveComponent("skeleton-base"),d=resolveComponent("skeleton-line"),u=resolveComponent("skeleton-paragraph"),g=resolveComponent("empty"),m=resolveComponent("list-item"),$=resolveComponent("placeholder"),E=resolveComponent("i18n");return openBlock(),createElementBlock("div",{class:normalizeClass(["articles",{mobile:t.isMobile,dark:t.isDarkTheme}])},[t.isMammonEnabled?(openBlock(),createBlock(a,{key:0,transition:""},{default:withCtx(()=>[t.isMobile?(openBlock(),createBlock(i,{key:0,"ins-class":"mammon-ins","data-ad-format":"fluid","data-ad-layout-key":"-hw-7+2w-11-86","data-ad-slot":"6538975194",class:"article-list-mammon"})):(openBlock(),createBlock(i,{key:1,"ins-class":"mammon-ins","data-ad-format":"fluid","data-ad-layout-key":"-hj-9+3a-97+6s","data-ad-slot":"1148538406",class:"article-list-mammon"}))]),_:1})):createCommentVNode("",!0),createBaseVNode("div",_hoisted_1$_,[createVNode($,{data:t.articles.length,loading:!t.articles.length&&t.fetching},{loading:withCtx(()=>[createBaseVNode("ul",_hoisted_2$M,[(openBlock(),createElementBlock(Fragment,null,renderList(6,f=>createBaseVNode("li",{key:f,class:"item"},[createBaseVNode("div",_hoisted_3$B,[createVNode(c)]),createBaseVNode("div",_hoisted_4$y,[createBaseVNode("div",_hoisted_5$u,[createVNode(d)]),createBaseVNode("div",_hoisted_6$s,[createVNode(u,{lines:4})])])])),64))])]),placeholder:withCtx(()=>[createVNode(g,{class:"empty","i18n-key":t.LANGUAGE_KEYS.ARTICLE_PLACEHOLDER},null,8,["i18n-key"])]),default:withCtx(()=>[createBaseVNode("div",_hoisted_7$p,[createVNode(TransitionGroup,{name:"list-fade"},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.articles,f=>(openBlock(),createBlock(m,{key:f.id,article:f,onClick:N=>t.handleArticleClick(f)},null,8,["article","onClick"]))),128))]),_:1})])]),_:1},8,["data","loading"])]),createBaseVNode("div",_hoisted_8$o,[createBaseVNode("button",{class:"loadmore-button",disabled:t.fetching||!t.isLoadMoreEnabled,onClick:o[0]||(o[0]=(...f)=>t.handleLoadmore&&t.handleLoadmore(...f))},[_hoisted_10$m,createBaseVNode("div",_hoisted_11$j,[t.fetching?(openBlock(),createBlock(E,{key:0,lkey:t.LANGUAGE_KEYS.ARTICLE_LIST_LOADING},null,8,["lkey"])):t.isLoadMoreEnabled?(openBlock(),createBlock(E,{key:1,lkey:t.LANGUAGE_KEYS.ARTICLE_LIST_LOADMORE},null,8,["lkey"])):(openBlock(),createBlock(E,{key:2,lkey:t.LANGUAGE_KEYS.ARTICLE_LIST_NO_MORE},null,8,["lkey"]))])],8,_hoisted_9$n)])],2)}var ArticleList=_export_sfc(_sfc_main$13,[["render",_sfc_render$13],["__scopeId","data-v-0289eb17"]]);const _sfc_main$12=defineComponent({name:"IndexPage",components:{Carrousel,Announcement,ArticleList},setup(){const{meta:t}=useEnhancer(),o=useArticleStore(),n=useAnnouncementStore();t({title:`${META.title} - ${META.description}`,keywords:META.keywords,description:META.description});const s=async()=>{var l;const r=((l=o.list.pagination)==null?void 0:l.current_page)+1;await o.fetchList({page:r}),r>1&&onClient(nextScreen)};return useUniversalFetch(()=>Promise.all([o.fetchList(),n.fetchList()])),{articleStore:o,announcementStore:n,loadmoreArticles:s}}}),_hoisted_1$Z={class:"index-page"};function _sfc_render$12(t,o,n,s,r,l){const i=resolveComponent("carrousel"),a=resolveComponent("announcement"),c=resolveComponent("article-list");return openBlock(),createElementBlock("div",_hoisted_1$Z,[createVNode(i,{articles:t.articleStore.list.data,fetching:t.articleStore.list.fetching},null,8,["articles","fetching"]),createVNode(a,{announcements:t.announcementStore.announcements,fetching:t.announcementStore.fetching||t.articleStore.list.fetching},null,8,["announcements","fetching"]),createVNode(c,{mammon:!1,fetching:t.articleStore.list.fetching,articles:t.articleStore.list.data,pagination:t.articleStore.list.pagination,onLoadmore:t.loadmoreArticles},null,8,["fetching","articles","pagination","onLoadmore"])])}var IndexPage=_export_sfc(_sfc_main$12,[["render",_sfc_render$12]]);const useArchiveStore=defineStore("archive",{state:()=>({fetching:!1,data:null}),actions:{fetchArchive(){return this.data?Promise.resolve():(this.fetching=!0,service$1.get("/archive").then(t=>{this.data=t.result}).finally(()=>{this.fetching=!1}))}}}),firstUpperCase=t=>t==null?void 0:t.toLowerCase().replace(/( |^)[a-z]/g,o=>o.toUpperCase()),CHINESE_NUMBER_TEXT="\u3007\u4E00\u4E8C\u4E09\u56DB\u4E94\u516D\u4E03\u516B\u4E5D\u5341".split(""),CHINESE_NUMBER_CAPITAL_TEXT="\u96F6\u58F9\u8D30\u53C1\u8086\u4F0D\u9646\u67D2\u634C\u7396\u62FE".split(""),replaceToChineseNumber=(t,o=!1)=>{const n=o?CHINESE_NUMBER_CAPITAL_TEXT:CHINESE_NUMBER_TEXT;return String(t).split("").map(s=>n[Number(s)]).join("")},CHINESE_MONTH_TEXT=["\u9996\u9633","\u7EC0\u9999","\u83BA\u65F6","\u69D0\u5E8F","\u9E23\u8729","\u5B63\u590F","\u5170\u79CB","\u5357\u5BAB","\u83CA\u6708","\u5B50\u6625","\u846D\u6708","\u5B63\u51AC"],toChineseMonth=t=>CHINESE_MONTH_TEXT[t-1],ENG_MONTH_TEXT=["January","February","March","April","May","June","July","August","September","October","November","December"],toEngMonth=t=>ENG_MONTH_TEXT[t-1];var banner_vue_vue_type_style_index_0_scoped_true_lang="";const _sfc_main$11=defineComponent({name:"FullPageBanner",props:{class:String,position:{type:Number,default:20},image:{type:String,required:!0}},setup(t){const{isDarkTheme:o}=useEnhancer();return{isDarkTheme:o,className:t.class,imageUrl:getFileCDNUrl(t.image)}}}),_hoisted_1$Y={class:"title"},_hoisted_2$L={class:"description"};function _sfc_render$11(t,o,n,s,r,l){return openBlock(),createElementBlock("div",{class:normalizeClass(["banner",{dark:t.isDarkTheme}]),style:normalizeStyle({backgroundImage:`url(${t.imageUrl})`,backgroundPositionY:`${t.position}%`})},[createBaseVNode("div",{class:normalizeClass(["content",t.className])},[createBaseVNode("h2",_hoisted_1$Y,[renderSlot(t.$slots,"title",{},void 0,!0)]),createBaseVNode("div",_hoisted_2$L,[renderSlot(t.$slots,"description",{},void 0,!0)])],2)],6)}var PageBanner=_export_sfc(_sfc_main$11,[["render",_sfc_render$11],["__scopeId","data-v-0776e3ac"]]),archive_vue_vue_type_style_index_0_scoped_true_lang="";const _sfc_main$10=defineComponent({name:"ArchivePage",components:{PageBanner},setup(){const{i18n:t,meta:o,isMobile:n,isZhLang:s}=useEnhancer(),r=useArchiveStore(),l=computed(()=>r.fetching);o(()=>{const a=firstUpperCase(t.t(LANGUAGE_KEYS.PAGE_ARCHIVE,Language.En));return{pageTitle:(s.value?[t.t(LANGUAGE_KEYS.PAGE_ARCHIVE),a]:[a]).join(" | "),description:`${META.title} \u6570\u636E\u5F52\u6863`}});const i=computed(()=>{var c;const a=[];return(c=r.data)==null||c.articles.map(d=>S(C({},d),{createAt:dateToHuman(new Date(d.create_at))})).sort(({create_at:d},{create_at:u})=>Date.parse(u)-Date.parse(d)).forEach(d=>{const{createAt:u}=d;let m=a.find(f=>f.year===u.year);m||(m={year:u.year,months:[]},a.push(m));let E=m.months.find(f=>f.month===u.month);E||(E={month:u.month,articles:[]},m.months.push(E)),E.articles.push(d)}),a});return useUniversalFetch(()=>r.fetchArchive()),{LANGUAGE_KEYS,getTagArchiveRoute,getArticleDetailRoute,replaceToChineseNumber,toChineseMonth,toEngMonth,isMobile:n,archiveStore:r,articleTree:i,isFetching:l}}}),_withScopeId$u=t=>(pushScopeId("data-v-7a6c0a2a"),t=t(),popScopeId(),t),_hoisted_1$X={class:"container"},_hoisted_2$K={class:"archive-content"},_hoisted_3$A={class:"archive-skeleton",key:"skeleton"},_hoisted_4$x={class:"content"},_hoisted_5$t={class:"title"},_hoisted_6$r={class:"description"},_hoisted_7$o={class:"content-warpper",key:"content"},_hoisted_8$n={class:"year-list"},_hoisted_9$m={class:"title root"},_hoisted_10$l=_withScopeId$u(()=>createBaseVNode("i",{class:"iconfont icon-peachblossom"},null,-1)),_hoisted_11$i={class:"text"},_hoisted_12$i={class:"month-list"},_hoisted_13$g={class:"title"},_hoisted_14$e={class:"argyle"},_hoisted_15$c=_withScopeId$u(()=>createBaseVNode("span",null,"\xA0~",-1)),_hoisted_16$a={class:"article-list"},_hoisted_17$a={class:"title"},_hoisted_18$a={class:"date"},_hoisted_19$7=["title","href"],_hoisted_20$6=["innerHTML"],_hoisted_21$6={class:"tag-content"},_hoisted_22$4={class:"title root"},_hoisted_23$3=_withScopeId$u(()=>createBaseVNode("i",{class:"iconfont icon-dragon"},null,-1)),_hoisted_24$3={class:"text"},_hoisted_25$3={class:"tag-list"},_hoisted_26$3={class:"content"},_hoisted_27$3=["title","href"],_hoisted_28$2={class:"count"},_hoisted_29$2={class:"description"};function _sfc_render$10(t,o,n,s,r,l){var m,$;const i=resolveComponent("i18n"),a=resolveComponent("page-banner"),c=resolveComponent("empty"),d=resolveComponent("skeleton-line"),u=resolveComponent("skeleton-paragraph"),g=resolveComponent("placeholder");return openBlock(),createElementBlock("div",{class:normalizeClass(["archive-page",{mobile:t.isMobile}])},[createVNode(a,{position:75,image:"/images/page-archive/banner.jpg"},{title:withCtx(()=>[createVNode(i,{zh:"\u4E07\u7269\u4E4B\u4E2D\uFF0C\u5E0C\u671B\u81F3\u7F8E",en:"Hope is a good thing"})]),description:withCtx(()=>[createVNode(i,{zh:"\u81F3\u7F8E\u4E4B\u7269\uFF0C\u6C38\u4E0D\u51CB\u96F6",en:"Maybe the best of things and no good thing ever dies"})]),_:1}),createBaseVNode("div",_hoisted_1$X,[createBaseVNode("div",_hoisted_2$K,[createVNode(g,{data:((m=t.archiveStore.data)==null?void 0:m.articles.length)&&(($=t.archiveStore.data)==null?void 0:$.tags.length),loading:t.isFetching},{placeholder:withCtx(()=>[createVNode(c,{class:"archive-empty",key:"empty"},{default:withCtx(()=>[createVNode(i,{lkey:t.LANGUAGE_KEYS.ARTICLE_PLACEHOLDER},null,8,["lkey"])]),_:1})]),loading:withCtx(()=>[createBaseVNode("ul",_hoisted_3$A,[(openBlock(),createElementBlock(Fragment,null,renderList(4,E=>createBaseVNode("li",{key:E,class:"item"},[createBaseVNode("div",_hoisted_4$x,[createBaseVNode("div",_hoisted_5$t,[createVNode(d)]),createBaseVNode("div",_hoisted_6$r,[createVNode(u,{lines:6})])])])),64))])]),default:withCtx(()=>{var E;return[createBaseVNode("div",_hoisted_7$o,[createBaseVNode("ul",_hoisted_8$n,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.articleTree,f=>(openBlock(),createElementBlock("li",{key:f.year,class:"year-item"},[createBaseVNode("h3",_hoisted_9$m,[_hoisted_10$l,createBaseVNode("span",_hoisted_11$i,[createVNode(i,{zh:t.replaceToChineseNumber(f.year),en:f.year},null,8,["zh","en"])])]),createBaseVNode("ul",_hoisted_12$i,[(openBlock(!0),createElementBlock(Fragment,null,renderList(f.months,N=>(openBlock(),createElementBlock("li",{key:N.month,class:"month"},[createBaseVNode("h4",_hoisted_13$g,[createBaseVNode("span",_hoisted_14$e,[createVNode(i,{zh:t.toChineseMonth(N.month),en:t.toEngMonth(N.month)},null,8,["zh","en"]),_hoisted_15$c])]),createBaseVNode("ul",_hoisted_16$a,[(openBlock(!0),createElementBlock(Fragment,null,renderList(N.articles,(v,A)=>(openBlock(),createElementBlock("li",{key:A,class:"article"},[createBaseVNode("h5",_hoisted_17$a,[createBaseVNode("span",_hoisted_18$a," D"+toDisplayString(v.createAt.day),1),createBaseVNode("a",{class:"link",target:"_blank",title:v.title,href:t.getArticleDetailRoute(v.id)},toDisplayString(v.title),9,_hoisted_19$7)]),createBaseVNode("p",{class:"description",innerHTML:v.description},null,8,_hoisted_20$6)]))),128))])]))),128))])]))),128))]),createBaseVNode("div",_hoisted_21$6,[createBaseVNode("h3",_hoisted_22$4,[_hoisted_23$3,createBaseVNode("span",_hoisted_24$3,[createVNode(i,{zh:"\u5206\u95E8\u522B\u7C7B",en:"Tags"})])]),createBaseVNode("ul",_hoisted_25$3,[(openBlock(!0),createElementBlock(Fragment,null,renderList((E=t.archiveStore.data)==null?void 0:E.tags,(f,N)=>(openBlock(),createElementBlock("li",{key:N,class:"tag"},[createBaseVNode("h5",_hoisted_26$3,[createBaseVNode("a",{target:"_blank",class:"link",title:f.description,href:t.getTagArchiveRoute(f.slug)},[createVNode(i,{zh:f.name,en:f.slug},null,8,["zh","en"])],8,_hoisted_27$3),createBaseVNode("span",_hoisted_28$2,"("+toDisplayString(f.count||0)+")",1)]),createBaseVNode("p",_hoisted_29$2,toDisplayString(f.description),1)]))),128))])])])]}),_:1},8,["data","loading"])])])],2)}var ArchivePage=_export_sfc(_sfc_main$10,[["render",_sfc_render$10],["__scopeId","data-v-7a6c0a2a"]]);const COMMENT_API_PATH="/comment",LIKE_COMMENT_API_PATH="/like/comment",COMMENT_EMPTY_PID=0,useCommentStore=defineStore("comment",{state:()=>({fetching:!1,posting:!1,comments:[],pagination:null}),getters:{commentTreeList:t=>{const o=t.comments.map(a=>a.id),n=t.comments.filter(a=>a.pid===COMMENT_EMPTY_PID||!o.includes(a.pid)),s=t.comments.filter(a=>a.pid!==COMMENT_EMPTY_PID&&o.includes(a.pid)),r=new Map(t.comments.map(a=>[a.id,a])),l=new Map(n.map(a=>[a.id,{comment:a,children:[]}])),i=a=>{const c=r.get(a);if(!!c)return c.pid===COMMENT_EMPTY_PID?c.id:i(c.pid)};return s.forEach(a=>{const c=i(a.pid);if(c&&l.has(c)){const d=l.get(c);l.set(c,S(C({},d),{children:[...d.children,a]}))}}),Array.from(l.values())}},actions:{clearList(){this.comments=[],this.pagination=null},fetchList(t={}){t=C({page:1,per_page:50,sort:SortType.Desc,delay:0,loadmore:!1},t);const o=t.page===1,n=t.sort===SortType.Desc;return o&&this.clearList(),this.fetching=!0,service$1.get(COMMENT_API_PATH,{params:t}).then(s=>new Promise(r=>{fetchDelay(t.delay)(()=>{n&&s.result.data.reverse(),t.loadmore?n?this.comments.unshift(...s.result.data):this.comments.push(...s.result.data):this.comments=s.result.data,this.pagination=s.result.pagination,r(void 0)})})).finally(()=>{this.fetching=!1})},postComment(t){return this.posting=!0,service$1.post(COMMENT_API_PATH,t).then(o=>{this.comments.push(o.result),this.pagination&&this.pagination.total++}).finally(()=>{this.posting=!1})},postCommentLike(t){return service$1.patch(LIKE_COMMENT_API_PATH,{comment_id:t}).then(()=>{const o=this.comments.find(n=>n.id===t);o&&o.likes++})}}});var content_vue_vue_type_style_index_0_scoped_true_lang="";const ARTICLE_CONTENT_ELEMENT_IDS={default:"article_content_default",more:"article_content_more"},_sfc_main$$=defineComponent({name:"ArticleContent",props:{article:{type:Object,required:!1},fetching:{type:Boolean,required:!0}},setup(t){const{isMobile:o}=useEnhancer(),n=useArticleDetailStore(),s=computed(()=>{var $;return isHybridType(($=t.article)==null?void 0:$.origin)}),r=computed(()=>{var $;return isReprintType(($=t.article)==null?void 0:$.origin)}),l=computed(()=>{var $;return isOriginalType(($=t.article)==null?void 0:$.origin)}),i=ref(),a=ref(!1),c=computed(()=>n.isLongContent&&!n.renderedFullContent),d=()=>{a.value=!0,nextTick(()=>{setTimeout(()=>{n.renderFullContent(),a.value=!1},0)})},u=$=>{var N;const E=(N=i.value)==null?void 0:N.querySelector(`#${$}`),f=E&&E.querySelectorAll(`.${LOZAD_CLASS_NAME}`);(f==null?void 0:f.length)&&window.$lozad(f,{loaded:A=>A.classList.add(LOADED_CLASS_NAME)}).observe()},g=()=>u(ARTICLE_CONTENT_ELEMENT_IDS.default),m=()=>u(ARTICLE_CONTENT_ELEMENT_IDS.more);return onMounted(()=>{g()}),{LANGUAGE_KEYS,element:i,isHybrid:s,isReprint:r,isOriginal:l,isMobile:o,articleDetailStore:n,isRenderMoreEnabled:c,isRenderMoreContent:a,ARTICLE_CONTENT_ELEMENT_IDS,handleRenderMore:d,handleContentAnimateDone:g,handleRenderMoreAnimateDone:m}}}),_withScopeId$t=t=>(pushScopeId("data-v-02611d83"),t=t(),popScopeId(),t),_hoisted_1$W={class:"skeleton",key:"skeleton"},_hoisted_2$J={class:"knowledge",key:"knowledge"},_hoisted_3$z={class:"title"},_hoisted_4$w=["id","innerHTML"],_hoisted_5$s={key:0,class:"readmore"},_hoisted_6$q=["disabled"],_hoisted_7$n=_withScopeId$t(()=>createBaseVNode("i",{class:"iconfont icon-loadmore"},null,-1)),_hoisted_8$m=["id","innerHTML"];function _sfc_render$$(t,o,n,s,r,l){const i=resolveComponent("i18n"),a=resolveComponent("skeleton-line"),c=resolveComponent("skeleton-paragraph"),d=resolveComponent("placeholder");return openBlock(),createElementBlock("div",{ref:"element",class:normalizeClass(["detail",{mobile:t.isMobile}])},[createVNode(Transition,{name:"module"},{default:withCtx(()=>[t.fetching?createCommentVNode("",!0):(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(["oirigin",{self:t.isOriginal,other:t.isReprint,hybrid:t.isHybrid}])},[t.isOriginal?(openBlock(),createBlock(i,{key:0,lkey:t.LANGUAGE_KEYS.ORIGIN_ORIGINAL},null,8,["lkey"])):t.isReprint?(openBlock(),createBlock(i,{key:1,lkey:t.LANGUAGE_KEYS.ORIGIN_REPRINT},null,8,["lkey"])):t.isHybrid?(openBlock(),createBlock(i,{key:2,lkey:t.LANGUAGE_KEYS.ORIGIN_HYBRID},null,8,["lkey"])):createCommentVNode("",!0)],2))]),_:1}),createVNode(d,{loading:t.fetching,onAfterEnter:t.handleContentAnimateDone},{loading:withCtx(()=>[createBaseVNode("div",_hoisted_1$W,[createVNode(a,{class:"title"}),createVNode(c,{class:"content",lines:9,"line-height":"1.2em"})])]),default:withCtx(()=>{var u,g;return[createBaseVNode("div",_hoisted_2$J,[createBaseVNode("h2",_hoisted_3$z,toDisplayString((u=t.article)==null?void 0:u.title),1),createBaseVNode("div",{class:"markdown-html",id:t.ARTICLE_CONTENT_ELEMENT_IDS.default,innerHTML:(g=t.articleDetailStore.defaultContent)==null?void 0:g.html},null,8,_hoisted_4$w),createVNode(Transition,{name:"module",mode:"out-in",onAfterEnter:t.handleRenderMoreAnimateDone},{default:withCtx(()=>{var m;return[t.isRenderMoreEnabled?(openBlock(),createElementBlock("div",_hoisted_5$s,[createBaseVNode("button",{class:"readmore-btn",disabled:t.isRenderMoreContent,onClick:o[0]||(o[0]=(...$)=>t.handleRenderMore&&t.handleRenderMore(...$))},[createVNode(i,{lkey:t.isRenderMoreContent?t.LANGUAGE_KEYS.ARTICLE_RENDERING:t.LANGUAGE_KEYS.ARTICLE_READ_ALL},null,8,["lkey"]),_hoisted_7$n],8,_hoisted_6$q)])):t.articleDetailStore.renderedFullContent?(openBlock(),createElementBlock("div",{key:1,class:"markdown-html",id:t.ARTICLE_CONTENT_ELEMENT_IDS.more,innerHTML:(m=t.articleDetailStore.moreContent)==null?void 0:m.html},null,8,_hoisted_8$m)):createCommentVNode("",!0)]}),_:1},8,["onAfterEnter"])])]}),_:1},8,["loading","onAfterEnter"])],2)}var ArticleContent=_export_sfc(_sfc_main$$,[["render",_sfc_render$$],["__scopeId","data-v-02611d83"]]);const _sfc_main$_=defineComponent({name:"UAdsense",props:{insClass:String,insStyle:String}});function _sfc_render$_(t,o,n,s,r,l){const i=resolveComponent("Adsense");return openBlock(),createBlock(i,{"ins-class":t.insClass||"","ins-style":t.insStyle,"data-ad-format":"auto","data-ad-slot":"7405264495","data-full-width-responsive":"true"},null,8,["ins-class","ins-style"])}var UAdsense=_export_sfc(_sfc_main$_,[["render",_sfc_render$_]]),mammon_vue_vue_type_style_index_0_scoped_true_lang$1="";const _sfc_main$Z=defineComponent({name:"ArticleMammon",components:{UAdsense},props:{fetching:{type:Boolean,required:!0}}}),_hoisted_1$V={class:"mammon"};function _sfc_render$Z(t,o,n,s,r,l){const i=resolveComponent("skeleton-paragraph"),a=resolveComponent("u-adsense"),c=resolveComponent("placeholder");return openBlock(),createElementBlock("div",_hoisted_1$V,[createVNode(c,{loading:t.fetching},{loading:withCtx(()=>[createVNode(i,{key:"skeleton",class:"skeleton","line-height":"1em",lines:4})]),default:withCtx(()=>[createVNode(a,{key:"adsense",class:"mammon-box","ins-class":"mammon-ins"})]),_:1},8,["loading"])])}var ArticleMammon=_export_sfc(_sfc_main$Z,[["render",_sfc_render$Z],["__scopeId","data-v-300ea732"]]),GAEventActions;(function(t){t.Click="\u70B9\u51FB",t.View="\u89E6\u53CA",t.Toggle="\u5207\u6362"})(GAEventActions||(GAEventActions={}));var GAEventTags;(function(t){t.Comment="\u8BC4\u8BBA",t.Share="\u5206\u4EAB",t.Tool="\u90E8\u4EF6",t.AppPage="page-App",t.AboutPage="page-About",t.FreelancerPage="page-freelancer"})(GAEventTags||(GAEventTags={}));const copy=t=>{window.$isCopyFromApp=!0,navigator.clipboard.writeText(t).finally(()=>{window.$isCopyFromApp=!1})};var share_vue_vue_type_style_index_0_scoped_true_lang$1="";const _sfc_main$Y=defineComponent({name:"Share",setup(){const{route:t,gtag:o}=useEnhancer(),n=()=>getPageUrl(t.fullPath),s=()=>document.title||META.title,r=()=>document.getElementsByName("description")[0].getAttribute("content")||META.description;return{socials:[{name:"\u5FAE\u4FE1",class:"wechat",url:()=>`/partials/qrcode.html?url=${n()}`},{name:"\u5FAE\u535A",class:"weibo",url:()=>`https://service.weibo.com/share/share.php?url=${n()}&title=${s()}&source=${n()}&sourceUrl=${n()}&content=${r()}`},{name:"twitter",url:()=>`https://twitter.com/share?text=${s()}&url=${n()}`},{name:"QQ\u7A7A\u95F4",class:"qzone",url:()=>`https://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?url=${n()}&title=${s()}&summary=${r()}&site=${n()}`},{name:"\u8C46\u74E3",class:"douban",url:()=>`https://www.douban.com/recommend/?url=${n()}&title=${s()}`},{name:"\u4EBA\u4EBA",class:"renren",url:()=>`https://widget.renren.com/dialog/share?resourceUrl=${n()}&srcUrl=${n()}&title=${s()}&description=${r()}`},{name:"\u5370\u8C61\u7B14\u8BB0",class:"evernote",url:()=>`https://www.evernote.com/clip.action?url=${n()}&title=${s()}`},{name:"facebook",url:()=>`https://www.facebook.com/sharer/sharer.php?u=${n()}`},{name:"linkedin",url:()=>`https://www.linkedin.com/shareArticle?title=${s()}&summary=${r()}&mini=true&url=${n()}`}],copyPageUrl:()=>{copy(n()),o==null||o.event("\u590D\u5236\u5F53\u9875\u94FE\u63A5",{event_category:GAEventActions.Click,event_label:GAEventTags.Share})},openShareWindow:(c,d)=>{const u=d().includes("mailto")?d().replace(/\s|\||Surmon.me/g,""):encodeURI(d()),g=`\u5206\u4EAB ${META.title}`,m=screen.availWidth/6*2,$=screen.availHeight/5*2,E=(screen.availHeight-$)/2,f=(screen.availWidth-m)/2,v=`top=${E},left=${f},width=${m},height=${$},scrollbars=0,status=0,menubar=0,resizable=2,location=0`,A=window.open(u,g,v);A==null||A.focus(),o==null||o.event("\u5F53\u9875\u5206\u4EAB",{event_category:GAEventActions.Click,event_label:GAEventTags.Share})}}}}),_withScopeId$s=t=>(pushScopeId("data-v-0e5c4f92"),t=t(),popScopeId(),t),_hoisted_1$U={class:"share"},_hoisted_2$I=["title","onClick"],_hoisted_3$y=_withScopeId$s(()=>createBaseVNode("i",{class:"iconfont icon-link"},null,-1)),_hoisted_4$v=[_hoisted_3$y];function _sfc_render$Y(t,o,n,s,r,l){return openBlock(),createElementBlock("div",_hoisted_1$U,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.socials,(i,a)=>(openBlock(),createElementBlock("button",{class:normalizeClass(["share-ejector",i.class||i.name]),key:a,title:"Share to: "+i.name,onClick:c=>t.openShareWindow(i.name,i.url)},[createBaseVNode("i",{class:normalizeClass(["iconfont",`icon-${i.class||i.name}`])},null,2)],10,_hoisted_2$I))),128)),createBaseVNode("button",{class:"share-ejector link",onClick:o[0]||(o[0]=(...i)=>t.copyPageUrl&&t.copyPageUrl(...i))},_hoisted_4$v)])}var Share=_export_sfc(_sfc_main$Y,[["render",_sfc_render$Y],["__scopeId","data-v-0e5c4f92"]]),share_vue_vue_type_style_index_0_scoped_true_lang="";const _sfc_main$X=defineComponent({name:"ArticleShare",components:{BaseShare:Share},props:{fetching:{type:Boolean,required:!0}},setup(){const{isMobile:t}=useEnhancer(),o=t.value?3:10;return{isMobile:t,skeletonCount:o}}}),_hoisted_1$T={class:"share-module"},_hoisted_2$H={class:"skeleton"};function _sfc_render$X(t,o,n,s,r,l){const i=resolveComponent("skeleton-base"),a=resolveComponent("base-share"),c=resolveComponent("placeholder");return openBlock(),createElementBlock("div",_hoisted_1$T,[createVNode(c,{loading:t.fetching},{loading:withCtx(()=>[createBaseVNode("div",_hoisted_2$H,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.skeletonCount,d=>(openBlock(),createBlock(i,{key:d,radius:0,style:normalizeStyle({width:`calc((100% - (1em * ${t.skeletonCount-1})) / ${t.skeletonCount})`})},null,8,["style"]))),128))])]),default:withCtx(()=>[createVNode(a,{class:normalizeClass(["article-share",{mobile:t.isMobile}])},null,8,["class"])]),_:1},8,["loading"])])}var ArticleShare=_export_sfc(_sfc_main$X,[["render",_sfc_render$X],["__scopeId","data-v-401cc724"]]),meta_vue_vue_type_style_index_0_scoped_true_lang="";const _sfc_main$W=defineComponent({name:"ArticleMeta",props:{article:{type:Object,required:!1},fetching:{type:Boolean,required:!0}},setup(t){const{i18n:o,isMobile:n}=useEnhancer(),s=computed(()=>{var a;return getPageUrl(getArticleDetailRoute((a=t.article)==null?void 0:a.id))});return{VALUABLE_LINKS,LANGUAGE_KEYS,isMobile:n,articleUrl:s,copyArticleUrl:()=>{s.value&&copy(s.value)},getDateTitle:a=>humanizeYMD(a,o.language.value),getDateLink:a=>getDateArchiveRoute(dateToYMD(new Date(a))),getTagArchiveRoute,getCategoryArchiveRoute}}}),_withScopeId$r=t=>(pushScopeId("data-v-e12b700c"),t=t(),popScopeId(),t),_hoisted_1$S={class:"item"},_hoisted_2$G={key:0},_hoisted_3$x={key:0},_hoisted_4$u=_withScopeId$r(()=>createBaseVNode("span",{class:"separator"},"|",-1)),_hoisted_5$r={class:"item"},_hoisted_6$p={class:"title"},_hoisted_7$m={key:0},_hoisted_8$l={class:"item"},_hoisted_9$l={class:"title"},_hoisted_10$k={class:"item"},_hoisted_11$h=_withScopeId$r(()=>createBaseVNode("span",{class:"title"},"\u7248\u6743\u58F0\u660E\uFF1A",-1)),_hoisted_12$h=createTextVNode(" \u81EA\u7531\u8F6C\u8F7D - \u7F72\u540D - \u975E\u5546\u4E1A\u6027\u4F7F\u7528 "),_hoisted_13$f=_withScopeId$r(()=>createBaseVNode("span",{class:"title"},"Copyright clarify:",-1)),_hoisted_14$d=createTextVNode(" Creative Commons BY-NC 3.0 CN ");function _sfc_render$W(t,o,n,s,r,l){const i=resolveComponent("skeleton-paragraph"),a=resolveComponent("i18n"),c=resolveComponent("router-link"),d=resolveComponent("responsive"),u=resolveComponent("ulink"),g=resolveComponent("placeholder");return openBlock(),createBlock(g,{loading:t.fetching},{loading:withCtx(()=>[createBaseVNode("div",{class:normalizeClass(["metas-skeleton",{mobile:t.isMobile}]),key:"skeleton"},[createVNode(i,{align:!0,lines:4,"line-height":"1.2em"})],2)]),default:withCtx(()=>[t.article?(openBlock(),createElementBlock("div",{class:normalizeClass(["metas",{mobile:t.isMobile}]),key:"content"},[createBaseVNode("p",_hoisted_1$S,[createVNode(a,{zh:"\u672C\u6587\u4E8E ",en:"Article created at "}),createVNode(c,{class:"date-link",title:t.getDateTitle(t.article.create_at),to:t.getDateLink(t.article.create_at)},{default:withCtx(()=>[createTextVNode(toDisplayString(t.getDateTitle(t.article.create_at)),1)]),_:1},8,["title","to"]),createVNode(a,{zh:"\u53D1\u5E03\u5728 ",en:"in category "}),(openBlock(!0),createElementBlock(Fragment,null,renderList(t.article.category,(m,$)=>(openBlock(),createElementBlock("span",{class:"category-link",key:$},[createVNode(c,{to:t.getCategoryArchiveRoute(m.slug),title:m.description||m.name},{default:withCtx(()=>[createVNode(a,{zh:m.name,en:m.slug},null,8,["zh","en"])]),_:2},1032,["to","title"]),t.article.category[$+1]?(openBlock(),createElementBlock("span",_hoisted_2$G,[createVNode(a,{zh:"\u3001",en:","})])):createCommentVNode("",!0)]))),128)),t.article.category.length?createCommentVNode("",!0):(openBlock(),createElementBlock("span",_hoisted_3$x,[createVNode(a,{zh:"\u672A\u77E5\u5206\u7C7B\u4E0B",en:"(no catgory)"})])),_hoisted_4$u,createVNode(d,null,{desktop:withCtx(()=>[createVNode(a,null,{zh:withCtx(()=>[createTextVNode("\u5F53\u524D\u5DF2\u88AB\u56F4\u89C2 "+toDisplayString(t.article.meta.views)+" \u6B21",1)]),en:withCtx(()=>[createTextVNode(toDisplayString(t.article.meta.views)+" views.",1)]),_:1})]),mobile:withCtx(()=>[createTextVNode(toDisplayString(t.article.meta.views)+" views.",1)]),_:1})]),createBaseVNode("p",_hoisted_5$r,[createBaseVNode("span",_hoisted_6$p,[createVNode(a,{zh:"\u76F8\u5173\u6807\u7B7E\uFF1A",en:"Related tags:"})]),(openBlock(!0),createElementBlock(Fragment,null,renderList(t.article.tag,(m,$)=>(openBlock(),createElementBlock("span",{class:"tag-link",key:$},[createVNode(c,{to:t.getTagArchiveRoute(m.slug),title:m.description||m.name},{default:withCtx(()=>[createVNode(a,{zh:m.name,en:m.slug},null,8,["zh","en"])]),_:2},1032,["to","title"]),t.article.tag[$+1]?(openBlock(),createElementBlock("span",_hoisted_7$m,[createVNode(a,{zh:"\u3001",en:","})])):createCommentVNode("",!0)]))),128))]),createBaseVNode("p",_hoisted_8$l,[createBaseVNode("span",_hoisted_9$l,[createVNode(a,{zh:"\u6C38\u4E45\u5730\u5740\uFF1A",en:"Article address:"})]),createBaseVNode("span",{class:"site-url",onClick:o[0]||(o[0]=(...m)=>t.copyArticleUrl&&t.copyArticleUrl(...m))},toDisplayString(t.articleUrl),1)]),createBaseVNode("div",_hoisted_10$k,[createVNode(a,null,{zh:withCtx(()=>[_hoisted_11$h,createVNode(u,{href:"https://creativecommons.org/licenses/by-nc/3.0/cn/deed.zh"},{default:withCtx(()=>[_hoisted_12$h]),_:1})]),en:withCtx(()=>[_hoisted_13$f,createVNode(u,{href:"https://creativecommons.org/licenses/by-nc/3.0/cn/deed.en"},{default:withCtx(()=>[_hoisted_14$d]),_:1})]),_:1})])],2)):createCommentVNode("",!0)]),_:1},8,["loading"])}var ArticleMeta=_export_sfc(_sfc_main$W,[["render",_sfc_render$W],["__scopeId","data-v-e12b700c"]]),related_vue_vue_type_style_index_0_scoped_true_lang="";const _sfc_main$V=defineComponent({name:"ArticleRelated",props:{articles:{type:Array,required:!0},fetching:{type:Boolean,required:!0}},setup(){const{globalState:t,isMobile:o}=useEnhancer();return{isMobile:o,getArticleDetailRoute,getRelatedArticleThumb:s=>getArchiveArticleThumbnailUrl(s,t.imageExt.value.isWebP)}}}),_hoisted_1$R={key:1,class:"skeleton-list"},_hoisted_2$F={class:"articles",key:"articles"},_hoisted_3$w={class:"title"};function _sfc_render$V(t,o,n,s,r,l){const i=resolveComponent("skeleton-paragraph"),a=resolveComponent("skeleton-base"),c=resolveComponent("router-link"),d=resolveComponent("placeholder");return openBlock(),createElementBlock("div",{class:normalizeClass(["related",{mobile:t.isMobile}])},[createVNode(d,{loading:t.fetching,data:!!t.articles.length},{loading:withCtx(()=>[t.isMobile?(openBlock(),createBlock(i,{key:0,class:"skeleton","line-height":"1em",lines:4})):(openBlock(),createElementBlock("ul",_hoisted_1$R,[(openBlock(),createElementBlock(Fragment,null,renderList(4,u=>createVNode(a,{class:"article",key:u})),64))]))]),default:withCtx(()=>[createBaseVNode("ul",_hoisted_2$F,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.articles.slice(0,t.isMobile?4:6),(u,g)=>(openBlock(),createElementBlock("li",{class:normalizeClass([{disabled:u.disabled},"item"]),key:g},[createVNode(c,{class:"item-article",title:u.title,to:t.getArticleDetailRoute(u.id)},{default:withCtx(()=>[createBaseVNode("div",{class:"thumb",style:normalizeStyle({backgroundImage:`url(${t.getRelatedArticleThumb(u.thumb)})`})},null,4),createBaseVNode("div",_hoisted_3$w,toDisplayString(u.title),1)]),_:2},1032,["title","to"])],2))),128))])]),_:1},8,["loading","data"])],2)}var ArticleRelated=_export_sfc(_sfc_main$V,[["render",_sfc_render$V],["__scopeId","data-v-7339f1a0"]]);const email=/\w[-\w.+]*@([A-Za-z0-9][-A-Za-z0-9]+\.)+[A-Za-z]{2,14}/,url=/^((https|http):\/\/)+[A-Za-z0-9]+\.[A-Za-z0-9]+[\/=\?%\-&_~`@[\]\':+!]*([^<>\"\"])*$/,focusPosition=(t,o=0)=>{var l;if(!t)return;if(t.focus(),!o){const i=(l=window.getSelection())==null?void 0:l.getRangeAt(0),a=i.cloneRange();return a.selectNodeContents(t),a.setEnd(i.endContainer,i.endOffset),a.toString().length}let n=0,s=!1;const r=i=>{const a=i.childNodes;for(let c=0;c<a.length;++c){const d=a[c],u=d.nodeType===1&&d.tagName==="BR";if(d.nodeType!==3&&!u){r(d);return}if(n+=u?1:d.textContent.length,n>=o){if(s){r(d);return}s=!0;const g=document.getSelection(),m=document.createRange(),$=n-d.textContent.length;m.setStart(d,o-$),m.setEnd(d,o-$),g.removeAllRanges(),g.addRange(m);break}}};r(t)},insertContent=t=>{const{element:o,content:n}=t,[s,r]=Array.isArray(n)?n:[n];if(!o||!s&&!r)return!1;const l=o.innerText,i=(window.getSelection||document.getSelection)(),a=i==null?void 0:i.toString();if(a){const d=!!s&&!r?s:s+a+r,u=l.replace(a,d);o.innerText=u,focusPosition(o,u.indexOf(d)+d.length-1)}else{const c=s+r,d=(()=>{try{return i.getRangeAt(0)}catch{}})(),u=d==null?void 0:d.startOffset,g=d==null?void 0:d.endOffset;if(d&&u===g&&u>0){const m=[l.slice(0,u),c,l.slice(u)];o.innerText=m.join(""),focusPosition(o,m[0].length+m[1].length-1)}else{const m=l+c;o.innerText=m,focusPosition(o,m.length-1)}}},EMOJIS=["\u{1F603}","\u{1F602}","\u{1F605}","\u{1F609}","\u{1F60C}","\u{1F614}","\u{1F613}","\u{1F622}","\u{1F60D}","\u{1F618}","\u{1F61C}","\u{1F621}","\u{1F624}","\u{1F62D}","\u{1F631}","\u{1F633}","\u{1F635}","\u{1F31A}","\u{1F64F}","\u{1F446}","\u{1F447}","\u{1F44C}","\u{1F918}","\u{1F44D}","\u{1F44E}","\u{1F4AA}","\u{1F44F}","\u{1F33B}","\u{1F339}","\u{1F48A}","\u{1F436}","\u2764\uFE0F","\u{1F494}","\u{1F4A9}","\u{1F47B}","\u{1F1E8}\u{1F1F3}","\u{1F1FA}\u{1F1F8}","\u{1F1EF}\u{1F1F5} ","\u{1F6A9}"];var CommentEvent;(function(t){t.Reply="reply",t.Like="like",t.Sort="sort",t.Page="page",t.CancelReply="cancel-reply",t.SyncProfile="update:profile",t.SaveProfile="save-profile",t.EditProfile="edit-profile",t.ClearProfile="clear-profile",t.CancelProfile="cancel-profile",t.TogglePreview="toggle-preview",t.Submit="submit"})(CommentEvent||(CommentEvent={}));const humanizeGravatarUrlByEmail=t=>email.test(t)?getGravatarByEmail(t):getFileCDNUrl("/images/comment/anonymous.jpg"),luanchEmojiRain=t=>{const o=window.$luanchEmojiRain;t.includes("2333")||t.includes("\u54C8\u54C8")?o({speed:12,staggered:!0,increaseSpeed:.4,emoji:getFileCDNUrl("/images/emojis/haha.png")}):t.includes("666")||t.includes("\u8D5E")?o({speed:12,staggered:!0,increaseSpeed:.4,emoji:getFileCDNUrl("/images/emojis/666.png")}):t.includes("\u5475\u5475")?o({staggered:!1,speed:8,increaseSpeed:.04,emoji:getFileCDNUrl("/images/emojis/hehe.png")}):Math.random()<=.6&&o({scale:.6,staggered:!0,speed:8,increaseSpeed:.04,emoji:getFileCDNUrl("/images/emojis/funny.png")})};var topbar_vue_vue_type_style_index_0_scoped_true_lang="",Events$1;(function(t){t.Sort="sort"})(Events$1||(Events$1={}));const _sfc_main$U=defineComponent({name:"CommentTopbar",props:{fetching:{type:Boolean,required:!0},total:{type:Number},sort:{type:Number,required:!0},likes:{type:Number,required:!0},postId:{type:Number,required:!0}},emits:[Events$1.Sort],setup(t,o){const{i18n:n,gtag:s,isMobile:r,isZhLang:l}=useEnhancer(),i=useArticleDetailStore(),a=useMetaStore(),{isLiked:c,like:d}=usePageLike(t.postId),u=ref(!1);return{VALUABLE_LINKS,LANGUAGE_KEYS,SortType,isMobile:r,isZhLang:l,isVisibleSponsor:u,isPageLiked:c,handleSponsor:()=>{u.value=!0,s==null||s.event("\u8BC4\u8BBA\u8D5E\u8D4F\u5F39\u7A97",{event_category:GAEventActions.Click,event_label:GAEventTags.Comment})},handleLikePage:async()=>{if(c.value)return!1;s==null||s.event("\u559C\u6B22\u5F53\u9875",{event_category:GAEventActions.Click,event_label:GAEventTags.Comment});try{t.postId===CommentPostType.Guestbook?await a.postSiteLike():await i.postArticleLike(t.postId),d()}catch(E){const f=n.t(LANGUAGE_KEYS.COMMENT_POST_ERROR_ACTION);console.warn(f,E),alert(f)}},handleSortList:E=>{E!==t.sort&&o.emit(Events$1.Sort,E)}}}}),_withScopeId$q=t=>(pushScopeId("data-v-29d32453"),t=t(),popScopeId(),t),_hoisted_1$Q={class:"topbar-skeleton",key:"skeleton"},_hoisted_2$E={class:"statistics-skeleton"},_hoisted_3$v={class:"sort-skeleton"},_hoisted_4$t={class:"topbar",key:"element"},_hoisted_5$q={class:"statistics"},_hoisted_6$o={class:"total"},_hoisted_7$l={class:"count"},_hoisted_8$k=_withScopeId$q(()=>createBaseVNode("i",{class:"iconfont icon-heart"},null,-1)),_hoisted_9$k={class:"count"},_hoisted_10$j=createTextVNode("\u8D5E"),_hoisted_11$g=_withScopeId$q(()=>createBaseVNode("i",{class:"iconfont icon-dollar"},null,-1)),_hoisted_12$g=[_hoisted_11$g],_hoisted_13$e=["src"],_hoisted_14$c={class:"sort"};function _sfc_render$U(t,o,n,s,r,l){const i=resolveComponent("skeleton-line"),a=resolveComponent("i18n"),c=resolveComponent("popup"),d=resolveComponent("client-only"),u=resolveComponent("desktop-only"),g=resolveComponent("placeholder");return openBlock(),createBlock(g,{loading:t.fetching},{loading:withCtx(()=>[createBaseVNode("div",_hoisted_1$Q,[createBaseVNode("div",_hoisted_2$E,[createVNode(i,{class:"count-skeleton"}),createVNode(i,{class:"like-skeleton"})]),createBaseVNode("div",_hoisted_3$v,[createVNode(i)])])]),default:withCtx(()=>[createBaseVNode("div",_hoisted_4$t,[createBaseVNode("div",_hoisted_5$q,[createBaseVNode("div",_hoisted_6$o,[createBaseVNode("strong",_hoisted_7$l,toDisplayString(t.total||0),1),createVNode(a,{lkey:t.LANGUAGE_KEYS.COMMENT_LIST_COUNT},null,8,["lkey"])]),createBaseVNode("button",{class:normalizeClass(["like",{liked:t.isPageLiked}]),onClick:o[0]||(o[0]=(...m)=>t.handleLikePage&&t.handleLikePage(...m))},[_hoisted_8$k,createBaseVNode("strong",_hoisted_9$k,toDisplayString(t.likes||0),1),t.isZhLang&&t.isMobile?(openBlock(),createElementBlock(Fragment,{key:0},[_hoisted_10$j],64)):(openBlock(),createBlock(a,{key:1,lkey:t.LANGUAGE_KEYS.COMMENT_LIKE_COUNT},null,8,["lkey"]))],2),createVNode(u,null,{default:withCtx(()=>[createBaseVNode("button",{class:"sponsor",onClick:o[1]||(o[1]=(...m)=>t.handleSponsor&&t.handleSponsor(...m))},_hoisted_12$g),createVNode(d,null,{default:withCtx(()=>[createVNode(c,{visible:t.isVisibleSponsor,"onUpdate:visible":o[2]||(o[2]=m=>t.isVisibleSponsor=m),border:!1},{default:withCtx(()=>[createBaseVNode("iframe",{class:"sponsor-modal",src:t.VALUABLE_LINKS.SPONSOR},null,8,_hoisted_13$e)]),_:1},8,["visible"])]),_:1})]),_:1})]),createBaseVNode("div",_hoisted_14$c,[createBaseVNode("button",{class:normalizeClass(["button",{actived:t.sort===t.SortType.Desc}]),onClick:o[3]||(o[3]=m=>t.handleSortList(t.SortType.Desc))},[createVNode(a,{lkey:t.LANGUAGE_KEYS.COMMENT_PAGINATION_NEW},null,8,["lkey"])],2),createBaseVNode("button",{class:normalizeClass(["button",{actived:t.sort===t.SortType.Hot}]),onClick:o[4]||(o[4]=m=>t.handleSortList(t.SortType.Hot))},[createVNode(a,{lkey:t.LANGUAGE_KEYS.COMMENT_PAGINATION_HOT},null,8,["lkey"])],2)])])]),_:1},8,["loading"])}var CommentTopbar=_export_sfc(_sfc_main$U,[["render",_sfc_render$U],["__scopeId","data-v-29d32453"]]),main_vue_vue_type_style_index_0_scoped_true_lang$3="";const _sfc_main$T=defineComponent({name:"CommentMain",props:{fetching:{type:Boolean,default:!1},hasData:{type:Boolean,required:!0}},setup(){const{isMobile:t}=useEnhancer();return{LANGUAGE_KEYS,isMobile:t}}}),_hoisted_1$P={class:"main-skeleton"},_hoisted_2$D={class:"gravatar"},_hoisted_3$u={class:"content"},_hoisted_4$s={class:"list-empty"},_hoisted_5$p={class:"main"};function _sfc_render$T(t,o,n,s,r,l){const i=resolveComponent("skeleton-base"),a=resolveComponent("skeleton-paragraph"),c=resolveComponent("i18n"),d=resolveComponent("placeholder");return openBlock(),createBlock(d,{loading:t.fetching,data:t.hasData},{loading:withCtx(()=>[createBaseVNode("ul",_hoisted_1$P,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.isMobile?3:5,u=>(openBlock(),createElementBlock("li",{key:u,class:"item"},[createBaseVNode("div",_hoisted_2$D,[createVNode(i)]),createBaseVNode("div",_hoisted_3$u,[createVNode(a,{lines:4})])]))),128))])]),placeholder:withCtx(()=>[createBaseVNode("div",_hoisted_4$s,[createVNode(c,{lkey:t.LANGUAGE_KEYS.COMMENT_LIST_PLACEHOLDER},null,8,["lkey"])])]),default:withCtx(()=>[createBaseVNode("div",_hoisted_5$p,[renderSlot(t.$slots,"list",{},void 0,!0),renderSlot(t.$slots,"pagination",{},void 0,!0)])]),_:3},8,["loading","data"])}var CommentMain=_export_sfc(_sfc_main$T,[["render",_sfc_render$T],["__scopeId","data-v-a6f6f212"]]);const _sfc_main$S=defineComponent({name:"CommentLink",props:{href:String}}),_hoisted_1$O=["href"];function _sfc_render$S(t,o,n,s,r,l){return t.href?(openBlock(),createElementBlock("a",mergeProps({key:0,target:"_blank",rel:"external nofollow noopener",href:t.href},t.$attrs),[renderSlot(t.$slots,"default")],16,_hoisted_1$O)):(openBlock(),createElementBlock("span",normalizeProps(mergeProps({key:1},t.$attrs)),[renderSlot(t.$slots,"default")],16))}var CommentLink=_export_sfc(_sfc_main$S,[["render",_sfc_render$S]]);const osIconsNameMap={"Mac OS":"apple",Windows:"windows",Android:"android",Ubuntu:"ubuntu",Linux:"linux",iOS:"apple",Unix:"unix"},browersIconsNameMap={Chrome:"chrome",Chromium:"chrome",WeChat:"wechat",Safari:"safari","Mobile Safari":"safari",UCBrowser:"uc",Maxthon:"maxthon",Firefox:"firefox",IE:"ie",Opera:"opera",Edge:"edge"},_sfc_main$R=defineComponent({name:"CommentUA",props:{ua:{type:String,required:!0}},setup(t){const o=computed(()=>uaParser(t.ua)),n=computed(()=>{const r=o.value.result.os.name;return r&&osIconsNameMap[r]}),s=computed(()=>{const r=o.value.result.browser.name;return browersIconsNameMap[r||"internet"]});return{uaResult:o,osIconName:n,browserIconName:s}}}),_hoisted_1$N={class:"ua"},_hoisted_2$C={class:"os"},_hoisted_3$t={class:"browser"};function _sfc_render$R(t,o,n,s,r,l){return openBlock(),createElementBlock("span",_hoisted_1$N,[createBaseVNode("span",_hoisted_2$C,[t.osIconName?(openBlock(),createElementBlock("i",{key:0,class:normalizeClass(["iconfont",`icon-${t.osIconName}`])},null,2)):createCommentVNode("",!0),createBaseVNode("span",null,toDisplayString(t.uaResult.result.os.name),1),createBaseVNode("span",null,toDisplayString(t.uaResult.result.os.version),1)]),createBaseVNode("span",_hoisted_3$t,[createBaseVNode("i",{class:normalizeClass(["iconfont",`icon-${t.browserIconName}`])},null,2),createBaseVNode("span",null,toDisplayString(t.uaResult.result.browser.name),1),createBaseVNode("span",null,toDisplayString(t.uaResult.result.browser.major),1)])])}var CommentUa=_export_sfc(_sfc_main$R,[["render",_sfc_render$R]]),item_vue_vue_type_style_index_0_scoped_true_lang="";const _sfc_main$Q=defineComponent({name:"CommentItem",components:{CommentLink,CommentUa},props:{comment:{type:Object,required:!0},liked:{type:Boolean,default:!1},isChild:{type:Boolean,default:!1}},emits:[CommentEvent.Reply,CommentEvent.Like],setup(t,o){const{i18n:n,isMobile:s}=useEnhancer(),r=useCommentStore(),l=u=>{var E;const g=(E=r.comments.find(f=>f.id===u))==null?void 0:E.author.name,m=g?`@${g}`:"";return`${`#${u}`} ${m}`},i=u=>timeAgo(u,n.language.value),a=u=>{o.emit(CommentEvent.Reply,u)},c=u=>{o.emit(CommentEvent.Like,u)},d=u=>{scrollToElementAnchor(getCommentItemElementID(u),-300)};return{LANGUAGE_KEYS,t:n.t,isMobile:s,humanlizeDate:i,humanizeGravatarUrlByEmail,getCommentItemElementID,getReplyParentCommentText:l,firstUpperCase,markdownToHTML,replyComment:a,likeComment:c,scrollToCommentItem:d}}}),_withScopeId$p=t=>(pushScopeId("data-v-63ea2388"),t=t(),popScopeId(),t),_hoisted_1$M=["id"],_hoisted_2$B={class:"cm-avatar"},_hoisted_3$s=["alt","src"],_hoisted_4$r={class:"cm-body"},_hoisted_5$o={class:"cm-header"},_hoisted_6$n={key:0,class:"location"},_hoisted_7$k={key:0,class:"separator"},_hoisted_8$j={class:"flool"},_hoisted_9$j={class:"cm-content"},_hoisted_10$i={key:0,class:"reply"},_hoisted_11$f={class:"text"},_hoisted_12$f=["innerHTML"],_hoisted_13$d={class:"cm-footer"},_hoisted_14$b={class:"create_at"},_hoisted_15$b=_withScopeId$p(()=>createBaseVNode("i",{class:"iconfont icon-reply"},null,-1)),_hoisted_16$9=["disabled"],_hoisted_17$9=_withScopeId$p(()=>createBaseVNode("i",{class:"iconfont icon-zan"},null,-1)),_hoisted_18$9={class:"cm-children"};function _sfc_render$Q(t,o,n,s,r,l){const i=resolveComponent("comment-link"),a=resolveComponent("desktop-only"),c=resolveComponent("comment-ua"),d=resolveComponent("i18n");return openBlock(),createElementBlock("li",{key:t.comment.id,id:t.getCommentItemElementID(t.comment.id),class:normalizeClass([{mobile:t.isMobile,child:t.isChild},"comment-item"])},[createVNode(a,null,{default:withCtx(()=>[createBaseVNode("div",_hoisted_2$B,[createVNode(i,{class:"link",href:t.comment.author.site},{default:withCtx(()=>[createBaseVNode("img",{alt:t.comment.author.name||t.t(t.LANGUAGE_KEYS.COMMENT_ANONYMOUS),src:t.humanizeGravatarUrlByEmail(t.comment.author.email),draggable:"false"},null,8,_hoisted_3$s)]),_:1},8,["href"])])]),_:1}),createBaseVNode("div",_hoisted_4$r,[createBaseVNode("div",_hoisted_5$o,[createVNode(i,{class:"user-name",href:t.comment.author.site},{default:withCtx(()=>[createTextVNode(toDisplayString(t.firstUpperCase(t.comment.author.name)),1)]),_:1},8,["href"]),t.comment.agent?(openBlock(),createBlock(c,{key:0,ua:t.comment.agent},null,8,["ua"])):createCommentVNode("",!0),createVNode(a,null,{default:withCtx(()=>[t.comment.ip_location?(openBlock(),createElementBlock("span",_hoisted_6$n,[createBaseVNode("span",null,toDisplayString(t.comment.ip_location.country),1),t.comment.ip_location.country&&t.comment.ip_location.city?(openBlock(),createElementBlock("span",_hoisted_7$k,"-")):createCommentVNode("",!0),createBaseVNode("span",null,toDisplayString(t.comment.ip_location.city),1)])):createCommentVNode("",!0)]),_:1}),createBaseVNode("span",_hoisted_8$j,"#"+toDisplayString(t.comment.id),1)]),createBaseVNode("div",_hoisted_9$j,[t.comment.pid?(openBlock(),createElementBlock("p",_hoisted_10$i,[createBaseVNode("span",_hoisted_11$f,[createVNode(d,{lkey:t.LANGUAGE_KEYS.COMMENT_REPLY},null,8,["lkey"])]),createBaseVNode("button",{class:"parent",onClick:o[0]||(o[0]=u=>t.scrollToCommentItem(t.comment.pid))},toDisplayString(t.getReplyParentCommentText(t.comment.pid)),1),createVNode(d,{zh:"\uFF1A",en:":"})])):createCommentVNode("",!0),createBaseVNode("div",{class:"markdown-html comment",innerHTML:t.markdownToHTML(t.comment.content,{sanitize:!0})},null,8,_hoisted_12$f)]),createBaseVNode("div",_hoisted_13$d,[createBaseVNode("span",_hoisted_14$b,toDisplayString(t.humanlizeDate(t.comment.create_at)),1),createBaseVNode("button",{class:"reply",onClick:o[1]||(o[1]=u=>t.replyComment(t.comment.id))},[_hoisted_15$b,createVNode(d,{lkey:t.LANGUAGE_KEYS.COMMENT_REPLY},null,8,["lkey"])]),createBaseVNode("button",{class:normalizeClass(["like",{liked:t.liked,actived:Boolean(t.comment.likes)}]),disabled:t.liked,onClick:o[2]||(o[2]=u=>t.likeComment(t.comment.id))},[_hoisted_17$9,createVNode(d,{lkey:t.LANGUAGE_KEYS.COMMENT_LIKE},null,8,["lkey"]),createBaseVNode("span",null," ("+toDisplayString(t.comment.likes)+")",1)],10,_hoisted_16$9)]),createBaseVNode("div",_hoisted_18$9,[renderSlot(t.$slots,"children",{},void 0,!0)])])],10,_hoisted_1$M)}var CommentItem=_export_sfc(_sfc_main$Q,[["render",_sfc_render$Q],["__scopeId","data-v-63ea2388"]]),index_vue_vue_type_style_index_0_scoped_true_lang$4="";const _sfc_main$P=defineComponent({name:"CommentList",components:{CommentItem},props:{comments:{type:Array,required:!0},isChildList:{type:Boolean,default:!1}},emits:[CommentEvent.Reply],setup(t,o){const{i18n:n,gtag:s}=useEnhancer(),{like:r,isLiked:l}=useCommentsLike(),i=useCommentStore(),a=ref(),c=ref(null),d=()=>{var f;const E=(f=a.value)==null?void 0:f.querySelectorAll(`.${LOZAD_CLASS_NAME}`);(E==null?void 0:E.length)&&(c.value=window.$lozad(E,{loaded:N=>N.classList.add(LOADED_CLASS_NAME)}),c.value.observe())},u=()=>{d()},g=E=>{o.emit(CommentEvent.Reply,E)},m=async E=>{if(s==null||s.event("\u6B32\u8D5E\u8BC4\u8BBA",{event_category:GAEventActions.Click,event_label:GAEventTags.Comment}),l(E))return!1;try{await i.postCommentLike(E),r(E)}catch(f){const N=n.t(LANGUAGE_KEYS.COMMENT_POST_ERROR_ACTION);console.warn(N,f),alert(N)}},$=E=>E.map(f=>({comment:f,children:[]}));return onMounted(()=>{d()}),onBeforeUnmount(()=>{var E;(E=c.value)==null||E.observer.disconnect(),c.value=null}),{listElement:a,addCommentAnimateDone:u,isCommentLiked:l,likeComment:m,replyComment:g,buildeCommentTree:$}}}),_hoisted_1$L={class:"comment-list",ref:"listElement"};function _sfc_render$P(t,o,n,s,r,l){const i=resolveComponent("comment-list"),a=resolveComponent("comment-item");return openBlock(),createElementBlock("ul",_hoisted_1$L,[createVNode(TransitionGroup,{name:"list-fade",onAfterEnter:t.addCommentAnimateDone},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.comments,c=>(openBlock(),createBlock(a,{key:c.comment.id,comment:c.comment,liked:t.isCommentLiked(c.comment.id),"is-child":t.isChildList,onLike:t.likeComment,onReply:t.replyComment},createSlots({_:2},[c.children.length?{name:"children",fn:withCtx(()=>[createVNode(i,{comments:t.buildeCommentTree(c.children),isChildList:!0,onReply:t.replyComment},null,8,["comments","onReply"])])}:void 0]),1032,["comment","liked","is-child","onLike","onReply"]))),128))]),_:1},8,["onAfterEnter"])],512)}var CommentList=_export_sfc(_sfc_main$P,[["render",_sfc_render$P],["__scopeId","data-v-538b3485"]]),loadmore_vue_vue_type_style_index_0_scoped_true_lang="";const _sfc_main$O=defineComponent({name:"CommentPagination",props:{fetching:{type:Boolean,required:!0},pagination:{type:Object,required:!1}},setup(t,o){return{LANGUAGE_KEYS,handleLoadmore:()=>{t.pagination&&o.emit(CommentEvent.Page,t.pagination.current_page+1)}}}}),_withScopeId$o=t=>(pushScopeId("data-v-fffeea2a"),t=t(),popScopeId(),t),_hoisted_1$K={key:0,class:"loadmore"},_hoisted_2$A=_withScopeId$o(()=>createBaseVNode("i",{class:"iconfont icon-loadmore"},null,-1));function _sfc_render$O(t,o,n,s,r,l){const i=resolveComponent("i18n");return openBlock(),createBlock(Transition,{name:"module"},{default:withCtx(()=>{var a,c,d;return[!t.fetching&&((a=t.pagination)==null?void 0:a.total_page)>1&&((c=t.pagination)==null?void 0:c.current_page)!==((d=t.pagination)==null?void 0:d.total_page)?(openBlock(),createElementBlock("div",_hoisted_1$K,[createBaseVNode("button",{class:"button",onClick:o[0]||(o[0]=(...u)=>t.handleLoadmore&&t.handleLoadmore(...u))},[createVNode(i,{lkey:t.LANGUAGE_KEYS.COMMENT_LOADMORE},null,8,["lkey"]),_hoisted_2$A])])):createCommentVNode("",!0)]}),_:1})}var CommentLoadmore=_export_sfc(_sfc_main$O,[["render",_sfc_render$O],["__scopeId","data-v-fffeea2a"]]),publisher_vue_vue_type_style_index_0_scoped_true_lang="";const _sfc_main$N=defineComponent({name:"CommentPublisher",props:{disabled:{type:Boolean,required:!0},replyPid:{type:Number,required:!0},profile:{type:Object,required:!0},cached:{type:Boolean,required:!0},editing:{type:Boolean,required:!0}},emits:[CommentEvent.SyncProfile,CommentEvent.SaveProfile,CommentEvent.EditProfile,CommentEvent.ClearProfile,CommentEvent.CancelProfile,CommentEvent.CancelReply],setup(t,o){const{i18n:n,isMobile:s}=useEnhancer(),r=useCommentStore(),l=ref(t.profile);watch(()=>t.profile,m=>l.value=m,{deep:!0});const i=computed(()=>r.comments.find(m=>m.id===t.replyPid)),a=m=>{if(m.preventDefault(),!t.profile.name)return alert(n.t(LANGUAGE_KEYS.COMMENT_POST_NAME)+"?");if(!t.profile.email)return alert(n.t(LANGUAGE_KEYS.COMMENT_POST_EMAIL)+"?");if(!email.test(t.profile.email))return alert(n.t(LANGUAGE_KEYS.COMMENT_POST_ERROR_EMAIL));if(t.profile.site&&!url.test(t.profile.site))return alert(n.t(LANGUAGE_KEYS.COMMENT_POST_ERROR_URL));o.emit(CommentEvent.SaveProfile)},c=()=>{t.editing||o.emit(CommentEvent.EditProfile)},d=()=>{t.cached&&o.emit(CommentEvent.ClearProfile)},u=()=>{o.emit(CommentEvent.CancelReply)},g=m=>{scrollToElementAnchor(getCommentItemElementID(m),-300)};return{COMMENT_PUBLISHER_ELEMENT_ID,LANGUAGE_KEYS,t:n.t,isMobile:s,firstUpperCase,humanizeGravatarUrlByEmail,profileState:l,markdownToHTML,replyingComment:i,cancelCommentReply:u,scrollToComment:g,editUserProfile:c,saveUserProfile:a,clearUserProfile:d}}}),_withScopeId$n=t=>(pushScopeId("data-v-77817be0"),t=t(),popScopeId(),t),_hoisted_1$J=["id"],_hoisted_2$z={class:"user"},_hoisted_3$r={class:"name"},_hoisted_4$q=["disabled","placeholder"],_hoisted_5$n={class:"email"},_hoisted_6$m=["disabled","placeholder"],_hoisted_7$j={class:"site"},_hoisted_8$i=["disabled","placeholder"],_hoisted_9$i={key:0,class:"save"},_hoisted_10$h=["disabled"],_hoisted_11$e=_withScopeId$n(()=>createBaseVNode("i",{class:"iconfont icon-success"},null,-1)),_hoisted_12$e=[_hoisted_11$e],_hoisted_13$c={key:1,class:"edit"},_hoisted_14$a={class:"name"},_hoisted_15$a={class:"setting"},_hoisted_16$8=_withScopeId$n(()=>createBaseVNode("i",{class:"iconfont icon-setting"},null,-1)),_hoisted_17$8={class:"account-setting"},_hoisted_18$8={class:"user-tool"},_hoisted_19$6={class:"postbox"},_hoisted_20$5={class:"user"},_hoisted_21$5={class:"gravatar"},_hoisted_22$3=["alt","src"],_hoisted_23$2={class:"editor"},_hoisted_24$2={key:0,class:"will-reply"},_hoisted_25$2={class:"reply-user"},_hoisted_26$2={class:"reply-text"},_hoisted_27$2=["innerHTML"];function _sfc_render$N(t,o,n,s,r,l){const i=resolveComponent("i18n"),a=resolveComponent("desktop-only");return openBlock(),createElementBlock("form",{id:t.COMMENT_PUBLISHER_ELEMENT_ID,class:normalizeClass([{mobile:t.isMobile},"publisher"]),name:"comment"},[createBaseVNode("div",_hoisted_2$z,[!t.cached||t.editing?(openBlock(),createElementBlock(Fragment,{key:0},[createBaseVNode("div",_hoisted_3$r,[withDirectives(createBaseVNode("input",{"onUpdate:modelValue":o[0]||(o[0]=c=>t.profileState.name=c),required:"",type:"text",name:"name",autocomplete:"on",disabled:t.disabled,placeholder:t.t(t.LANGUAGE_KEYS.COMMENT_POST_NAME)+" *"},null,8,_hoisted_4$q),[[vModelText,t.profileState.name]])]),createBaseVNode("div",_hoisted_5$n,[withDirectives(createBaseVNode("input",{"onUpdate:modelValue":o[1]||(o[1]=c=>t.profileState.email=c),required:"",type:"email",name:"email",autocomplete:"on",disabled:t.disabled,placeholder:t.t(t.LANGUAGE_KEYS.COMMENT_POST_EMAIL)+" *"},null,8,_hoisted_6$m),[[vModelText,t.profileState.email]])]),createBaseVNode("div",_hoisted_7$j,[withDirectives(createBaseVNode("input",{"onUpdate:modelValue":o[2]||(o[2]=c=>t.profileState.site=c),type:"url",name:"url",autocomplete:"on",disabled:t.disabled,placeholder:t.t(t.LANGUAGE_KEYS.COMMENT_POST_SITE)},null,8,_hoisted_8$i),[[vModelText,t.profileState.site]])]),t.editing?(openBlock(),createElementBlock("div",_hoisted_9$i,[createBaseVNode("button",{type:"submit",disabled:t.disabled,onClick:o[3]||(o[3]=(...c)=>t.saveUserProfile&&t.saveUserProfile(...c))},_hoisted_12$e,8,_hoisted_10$h)])):createCommentVNode("",!0)],64)):(openBlock(),createElementBlock("div",_hoisted_13$c,[createBaseVNode("strong",_hoisted_14$a,toDisplayString(t.firstUpperCase(t.profileState.name)),1),createBaseVNode("span",_hoisted_15$a,[_hoisted_16$8,createBaseVNode("span",_hoisted_17$8,[createVNode(i,{lkey:t.LANGUAGE_KEYS.COMMENT_ACCOUNT_SETTING},null,8,["lkey"])]),createBaseVNode("ul",_hoisted_18$8,[createBaseVNode("li",{onClick:o[4]||(o[4]=withModifiers((...c)=>t.editUserProfile&&t.editUserProfile(...c),["stop","prevent"]))},[createVNode(i,{lkey:t.LANGUAGE_KEYS.COMMENT_ACCOUNT_EDIT},null,8,["lkey"])]),createBaseVNode("li",{onClick:o[5]||(o[5]=withModifiers((...c)=>t.clearUserProfile&&t.clearUserProfile(...c),["stop","prevent"]))},[createVNode(i,{lkey:t.LANGUAGE_KEYS.COMMENT_ACCOUNT_CLEAR},null,8,["lkey"])])])])]))]),createBaseVNode("div",_hoisted_19$6,[createBaseVNode("div",_hoisted_20$5,[createVNode(a,null,{default:withCtx(()=>[createBaseVNode("div",_hoisted_21$5,[createBaseVNode("img",{alt:t.profileState.name||t.t(t.LANGUAGE_KEYS.COMMENT_ANONYMOUS),src:t.humanizeGravatarUrlByEmail(t.profileState.email),draggable:"false"},null,8,_hoisted_22$3)])]),_:1})]),createBaseVNode("div",_hoisted_23$2,[createVNode(Transition,{name:"module"},{default:withCtx(()=>[Boolean(t.replyPid)?(openBlock(),createElementBlock("div",_hoisted_24$2,[createBaseVNode("div",_hoisted_25$2,[createBaseVNode("span",_hoisted_26$2,[createVNode(i,{lkey:t.LANGUAGE_KEYS.COMMENT_REPLY},null,8,["lkey"]),createBaseVNode("button",{class:"reply-user-name",onClick:o[6]||(o[6]=withModifiers(c=>t.scrollToComment(t.replyingComment.id),["prevent"]))}," #"+toDisplayString(t.replyingComment.id)+" @"+toDisplayString(t.replyingComment.author.name)+"\uFF1A ",1)]),createBaseVNode("button",{class:"cancel iconfont icon-cancel",onClick:o[7]||(o[7]=withModifiers((...c)=>t.cancelCommentReply&&t.cancelCommentReply(...c),["prevent"]))})]),createBaseVNode("div",{class:"reply-preview markdown-html comment",innerHTML:t.markdownToHTML(t.replyingComment.content,{sanitize:!0})},null,8,_hoisted_27$2)])):createCommentVNode("",!0)]),_:1}),renderSlot(t.$slots,"pen",{},void 0,!0)])])],10,_hoisted_1$J)}var CommentPublisher=_export_sfc(_sfc_main$N,[["render",_sfc_render$N],["__scopeId","data-v-77817be0"]]),pen_vue_vue_type_style_index_0_scoped_true_lang="",PenEvents;(function(t){t.Update="update:modelValue",t.InputReady="input-ready"})(PenEvents||(PenEvents={}));const _sfc_main$M=defineComponent({name:"CommentPen",props:{modelValue:{type:String,required:!0},disabled:{type:Boolean,required:!0},posting:{type:Boolean,required:!0},preview:{type:Boolean,required:!0}},emits:[PenEvents.Update,PenEvents.InputReady,CommentEvent.TogglePreview,CommentEvent.Submit],setup(t,o){const{i18n:n}=useEnhancer(),s=ref(t.modelValue),r=ref();let l=null;const i=computed(()=>t.preview?markdownToHTML(s.value,{sanitize:!0}):null),a=()=>{o.emit(CommentEvent.TogglePreview)},c=N=>{N!==s.value&&(s.value=N,r.value&&(r.value.innerText=N))},d=()=>{var v;const N=(v=r.value)==null?void 0:v.innerText;N!==s.value&&(s.value=N,o.emit(PenEvents.Update,N))},u=N=>{N.preventDefault(),o.emit(CommentEvent.Submit,s.value)},g=(N,v="")=>{insertContent({element:r.value,content:[N,v]}),d()},m=N=>{g(` ${N} `)},$=()=>{g(" ![","](https://) ")},E=()=>{g(" [","](https://) ")},f=()=>{g("\n```javascript\n","\n```\n")};return watch(()=>t.modelValue,c),onMounted(()=>{o.emit(PenEvents.InputReady,r.value),l=new MutationObserver(N=>{d()}),l.observe(r.value,{attributes:!0,characterData:!0,childList:!0,subtree:!0})}),onBeforeUnmount(()=>{l==null||l.disconnect()}),{t:n.t,EMOJIS,LANGUAGE_KEYS,inputElement:r,previewContent:i,insertEmoji:m,insertImage:$,insertLink:E,insertCode:f,handleInputChange:d,handleTogglePreview:a,handleSubmit:u}}}),_withScopeId$m=t=>(pushScopeId("data-v-3109698a"),t=t(),popScopeId(),t),_hoisted_1$I={class:"pen"},_hoisted_2$y={class:"markdown"},_hoisted_3$q=["contenteditable","placeholder"],_hoisted_4$p=["innerHTML"],_hoisted_5$m={class:"pencilbox"},_hoisted_6$l={class:"stationery"},_hoisted_7$i=["disabled"],_hoisted_8$h=_withScopeId$m(()=>createBaseVNode("i",{class:"iconfont icon-emoji"},null,-1)),_hoisted_9$h={class:"emoji-box"},_hoisted_10$g={class:"emoji-list"},_hoisted_11$d=["onClick"],_hoisted_12$d=["disabled"],_hoisted_13$b=_withScopeId$m(()=>createBaseVNode("i",{class:"iconfont icon-image"},null,-1)),_hoisted_14$9=[_hoisted_13$b],_hoisted_15$9=["disabled"],_hoisted_16$7=_withScopeId$m(()=>createBaseVNode("i",{class:"iconfont icon-link-horizontal"},null,-1)),_hoisted_17$7=[_hoisted_16$7],_hoisted_18$7=["disabled"],_hoisted_19$5=_withScopeId$m(()=>createBaseVNode("i",{class:"iconfont icon-code"},null,-1)),_hoisted_20$4=[_hoisted_19$5],_hoisted_21$4=["disabled"],_hoisted_22$2=["disabled"];function _sfc_render$M(t,o,n,s,r,l){const i=resolveComponent("i18n");return openBlock(),createElementBlock("div",_hoisted_1$I,[createBaseVNode("div",_hoisted_2$y,[createBaseVNode("div",{ref:"inputElement",class:"markdown-input",contenteditable:!t.disabled,placeholder:t.t(t.LANGUAGE_KEYS.COMMENT_POST_PLACEHOLDER)},null,8,_hoisted_3$q),createVNode(Transition,{name:"list-fade"},{default:withCtx(()=>[t.preview?(openBlock(),createElementBlock("div",{key:0,class:"markdown-preview markdown-html comment",innerHTML:t.previewContent},null,8,_hoisted_4$p)):createCommentVNode("",!0)]),_:1})]),createBaseVNode("div",_hoisted_5$m,[createBaseVNode("div",_hoisted_6$l,[createBaseVNode("button",{class:"emoji",title:"emoji",type:"button",disabled:t.disabled||t.preview},[_hoisted_8$h,createBaseVNode("div",_hoisted_9$h,[createBaseVNode("ul",_hoisted_10$g,[o[0]||(setBlockTracking(-1),o[0]=(openBlock(!0),createElementBlock(Fragment,null,renderList(t.EMOJIS,(a,c)=>(openBlock(),createElementBlock("li",{key:c,class:"item",onClick:d=>t.insertEmoji(a)},[createTextVNode(toDisplayString(a),1)],8,_hoisted_11$d))),128)),setBlockTracking(1),o[0])])])],8,_hoisted_7$i),createBaseVNode("button",{class:"image",title:"image",disabled:t.disabled||t.preview,onClick:o[1]||(o[1]=withModifiers((...a)=>t.insertImage&&t.insertImage(...a),["prevent"]))},_hoisted_14$9,8,_hoisted_12$d),createBaseVNode("button",{class:"link",title:"link",disabled:t.disabled||t.preview,onClick:o[2]||(o[2]=withModifiers((...a)=>t.insertLink&&t.insertLink(...a),["prevent"]))},_hoisted_17$7,8,_hoisted_15$9),createBaseVNode("button",{class:"code",title:"code",disabled:t.disabled||t.preview,onClick:o[3]||(o[3]=withModifiers((...a)=>t.insertCode&&t.insertCode(...a),["prevent"]))},_hoisted_20$4,8,_hoisted_18$7),createBaseVNode("button",{class:normalizeClass(["preview",{actived:t.preview}]),title:"preview",disabled:t.disabled,onClick:o[4]||(o[4]=withModifiers((...a)=>t.handleTogglePreview&&t.handleTogglePreview(...a),["prevent"]))},[createBaseVNode("i",{class:normalizeClass(["iconfont",t.preview?"icon-eye-close":"icon-eye"])},null,2)],10,_hoisted_21$4)]),createBaseVNode("button",{type:"submit",class:"submit",disabled:t.disabled,onClick:o[5]||(o[5]=(...a)=>t.handleSubmit&&t.handleSubmit(...a))},[createVNode(i,{lkey:t.posting?t.LANGUAGE_KEYS.COMMENT_POST_SUBMITTING:t.LANGUAGE_KEYS.COMMENT_POST_SUBMIT},null,8,["lkey"])],8,_hoisted_22$2)])])}var CommentPen=_export_sfc(_sfc_main$M,[["render",_sfc_render$M],["__scopeId","data-v-3109698a"]]),index_vue_vue_type_style_index_0_scoped_true_lang$3="";const _sfc_main$L=defineComponent({name:"Comment",components:{CommentTopbar,CommentMain,CommentList,CommentLoadmore,CommentPublisher,CommentPen},props:{fetching:{type:Boolean,default:!1},likes:{type:Number,default:0},postId:{type:Number,required:!0}},setup(props){const{i18n,gtag,globalState,isMobile}=useEnhancer(),metaStore=useMetaStore(),commentStore=useCommentStore(),blockList=computed(()=>{var t;return(t=metaStore.appOptions.data)==null?void 0:t.blacklist}),isPostingComment=computed(()=>commentStore.posting),markdownInputElement=ref(),isFetching=computed(()=>props.fetching||commentStore.fetching),state=reactive({sort:SortType.Desc,replyPID:0}),userState=reactive({cached:!1,editing:!1}),baseProfile={name:"",email:"",site:""},profileState=ref(baseProfile),penState=reactive({content:"",preview:!1}),syncUserStorageToState=()=>{const t=getJSON(USER);t&&(userState.cached=!0,userState.editing=!1,profileState.value=t)},syncUserProfileToStorage=()=>{userState.cached=!0,userState.editing=!1,setJSON(USER,profileState.value)},clearUserProfile=()=>{userState.cached=!1,userState.editing=!1,profileState.value=C({},baseProfile),remove(USER)},editUserProfile=()=>{userState.editing=!0},handleMarkdownInputReady=t=>{markdownInputElement.value=t},resetCommentReply=()=>{state.replyPID=0},clearPenContent=()=>{penState.content=""},togglePenPreview=()=>{penState.preview=!penState.preview},replyComment=t=>{gtag==null||gtag.event("\u6B32\u56DE\u8BC4\u8BBA",{event_category:GAEventActions.Click,event_label:GAEventTags.Comment}),state.replyPID=t,scrollToElementAnchor(COMMENT_PUBLISHER_ELEMENT_ID,300),markdownInputElement.value&&focusPosition(markdownInputElement.value)},fetchCommentList=(t={})=>{scrollToElementAnchor(COMMENT_ELEMENT_ID,-73),commentStore.fetchList(S(C({},t),{sort:state.sort,post_id:props.postId,delay:368}))},getSortComments=t=>{state.sort!==t&&(state.sort=t,fetchCommentList())},getPageComments=t=>{fetchCommentList({page:t,loadmore:!0})},submitComment=async()=>{gtag==null||gtag.event("\u6B32\u53D1\u8BC4\u8BBA",{event_category:GAEventActions.Click,event_label:GAEventTags.Comment});const profile=profileState.value;if(!profile.name)return alert(i18n.t(LANGUAGE_KEYS.COMMENT_POST_NAME)+"?");if(!profile.email)return alert(i18n.t(LANGUAGE_KEYS.COMMENT_POST_EMAIL)+"?");if(!email.test(profile.email))return alert(i18n.t(LANGUAGE_KEYS.COMMENT_POST_ERROR_EMAIL));if(profile.site&&!url.test(profile.site))return alert(i18n.t(LANGUAGE_KEYS.COMMENT_POST_ERROR_URL));if(!penState.content||!penState.content.trim())return alert(i18n.t(LANGUAGE_KEYS.COMMENT_POST_CONTENT)+"?");const lineOverflow=penState.content.split(`
`).length>36,lengthOverflow=penState.content.length>2e3;if(lineOverflow||lengthOverflow)return alert(i18n.t(LANGUAGE_KEYS.COMMENT_POST_ERROR_CONTENT));const{mails,keywords}=blockList.value,hitMail=mails.includes(profile.email),hitKeyword=keywords.length&&eval(`/${keywords.join("|")}/ig`).test(penState.content);return hitMail||hitKeyword?(alert(i18n.t(LANGUAGE_KEYS.COMMENT_POST_ERROR_SUBMIT)),console.warn(`\u8BC4\u8BBA\u53D1\u5E03\u5931\u8D25
1\uFF1A\u88AB Akismet \u8FC7\u6EE4
2\uFF1A\u90AE\u7BB1/IP \u88AB\u5217\u5165\u9ED1\u540D\u5355
3\uFF1A\u5185\u5BB9\u5305\u542B\u9ED1\u540D\u5355\u5173\u952E\u8BCD`),!1):commentStore.postComment({pid:state.replyPID,post_id:props.postId,content:penState.content,agent:globalState.userAgent.original,author:profile}).then(()=>{penState.preview=!1,userState.cached=!0,userState.editing=!1,resetCommentReply(),clearPenContent(),syncUserProfileToStorage(),luanchEmojiRain(penState.content)}).catch(t=>{console.warn(`\u8BC4\u8BBA\u53D1\u5E03\u5931\u8D25\uFF0C\u53EF\u80FD\u539F\u56E0\uFF1A\u88AB Akismet \u8FC7\u6EE4\uFF0C\u6216\u8005\uFF1A
`,t),alert(i18n.t(LANGUAGE_KEYS.COMMENT_POST_ERROR_SUBMIT))})};return watch(()=>isFetching.value,t=>{t&&resetCommentReply()}),onMounted(()=>{syncUserStorageToState()}),onBeforeUnmount(()=>{resetCommentReply()}),onUnmounted(()=>{commentStore.clearList()}),{COMMENT_ELEMENT_ID,isMobile,isFetching,isPostingComment,commentStore,state,userState,profileState,penState,editUserProfile,syncUserProfileToStorage,clearUserProfile,togglePenPreview,replyComment,submitComment,resetCommentReply,getSortComments,getPageComments,handleMarkdownInputReady}}}),_hoisted_1$H=["id"];function _sfc_render$L(t,o,n,s,r,l){var m;const i=resolveComponent("comment-topbar"),a=resolveComponent("comment-list"),c=resolveComponent("comment-loadmore"),d=resolveComponent("comment-main"),u=resolveComponent("comment-pen"),g=resolveComponent("comment-publisher");return openBlock(),createElementBlock("div",{id:t.COMMENT_ELEMENT_ID,class:normalizeClass([{mobile:t.isMobile},"comment-box"])},[createVNode(i,{total:(m=t.commentStore.pagination)==null?void 0:m.total,likes:t.likes,"post-id":t.postId,fetching:t.isFetching,sort:t.state.sort,onSort:t.getSortComments},null,8,["total","likes","post-id","fetching","sort","onSort"]),createVNode(d,{fetching:t.isFetching,"has-data":Boolean(t.commentStore.commentTreeList.length)},{list:withCtx(()=>[createVNode(a,{comments:t.commentStore.commentTreeList,onReply:t.replyComment},null,8,["comments","onReply"])]),pagination:withCtx(()=>[createVNode(c,{fetching:t.isFetching,pagination:t.commentStore.pagination,onPage:t.getPageComments},null,8,["fetching","pagination","onPage"])]),_:1},8,["fetching","has-data"]),createVNode(g,{disabled:t.isPostingComment||t.isFetching,cached:t.userState.cached,editing:t.userState.editing,"reply-pid":t.state.replyPID,profile:t.profileState,"onUpdate:profile":o[1]||(o[1]=$=>t.profileState=$),onCancelReply:t.resetCommentReply,onEditProfile:t.editUserProfile,onSaveProfile:t.syncUserProfileToStorage,onClearProfile:t.clearUserProfile},{pen:withCtx(()=>[createVNode(u,{modelValue:t.penState.content,"onUpdate:modelValue":o[0]||(o[0]=$=>t.penState.content=$),preview:t.penState.preview,disabled:t.isPostingComment||t.isFetching,posting:t.isPostingComment,onInputReady:t.handleMarkdownInputReady,onTogglePreview:t.togglePenPreview,onSubmit:t.submitComment},null,8,["modelValue","preview","disabled","posting","onInputReady","onTogglePreview","onSubmit"])]),_:1},8,["disabled","cached","editing","reply-pid","profile","onCancelReply","onEditProfile","onSaveProfile","onClearProfile"])],10,_hoisted_1$H)}var Comment=_export_sfc(_sfc_main$L,[["render",_sfc_render$L],["__scopeId","data-v-1f28b51b"]]),index_vue_vue_type_style_index_0_lang="";const _sfc_main$K=defineComponent({name:"ArticleDetail",components:{Comment,ArticleContent,ArticleMammon,ArticleShare,ArticleMeta,ArticleRelated},props:{articleId:{type:Number,required:!0}},setup(t){const{meta:o,isMobile:n}=useEnhancer(),s=useArticleDetailStore(),r=useCommentStore(),l=computed(()=>s.article||void 0),i=computed(()=>s.fetching),a=computed(()=>{if(!l.value)return[];const d=6,u=[...l.value.related].filter(g=>g.id!==t.articleId).slice(0,d);return n.value||u.length>=d?u:[...u,...new Array(d-u.length).fill({disabled:!0,title:"NULL",_id:"",thumb:""})]});o(()=>{var d,u,g,m,$;return{pageTitle:(d=l.value)==null?void 0:d.title,keywords:((g=(u=l.value)==null?void 0:u.keywords)==null?void 0:g.join(","))||((m=l.value)==null?void 0:m.title),description:(($=l.value)==null?void 0:$.description)||""}});const c=d=>{const u=368;return Promise.all([s.fetchDetail({articleID:d,delay:u}),r.fetchList({post_id:d,delay:u})])};return onBeforeMount(()=>{watch(()=>t.articleId,d=>c(d),{flush:"post"})}),useUniversalFetch(()=>c(t.articleId)),{isMobile:n,article:l,fetching:i,relatedArticles:a,ARTICLE_CONTENT_ELEMENT_ID,ARTICLE_META_ELEMENT_ID,ARTICLE_RELETED_ELEMENT_ID,ARTICLE_SHARE_ELEMENT_ID}}}),_hoisted_1$G={class:"module"},_hoisted_2$x={class:"module"},_hoisted_3$p={class:"module"},_hoisted_4$o={class:"module"},_hoisted_5$l={class:"releted"},_hoisted_6$k={class:"comment"};function _sfc_render$K(t,o,n,s,r,l){var $,E;const i=resolveComponent("article-content"),a=resolveComponent("article-mammon"),c=resolveComponent("client-only"),d=resolveComponent("article-share"),u=resolveComponent("article-meta"),g=resolveComponent("article-related"),m=resolveComponent("comment");return openBlock(),createElementBlock("div",{class:normalizeClass(["article-page",{mobile:t.isMobile}])},[createBaseVNode("div",_hoisted_1$G,[createVNode(i,{id:t.ARTICLE_CONTENT_ELEMENT_ID,fetching:t.fetching,article:t.article},null,8,["id","fetching","article"])]),createVNode(c,null,{default:withCtx(()=>[createBaseVNode("div",_hoisted_2$x,[createVNode(a,{fetching:t.fetching},null,8,["fetching"])])]),_:1}),createBaseVNode("div",_hoisted_3$p,[createVNode(d,{id:t.ARTICLE_SHARE_ELEMENT_ID,fetching:t.fetching},null,8,["id","fetching"])]),createBaseVNode("div",_hoisted_4$o,[createVNode(u,{id:t.ARTICLE_META_ELEMENT_ID,fetching:t.fetching,article:t.article},null,8,["id","fetching","article"])]),createBaseVNode("div",_hoisted_5$l,[createVNode(g,{id:t.ARTICLE_RELETED_ELEMENT_ID,fetching:t.fetching,articles:t.relatedArticles},null,8,["id","fetching","articles"])]),createBaseVNode("div",_hoisted_6$k,[createVNode(m,{fetching:t.fetching,"post-id":t.articleId,likes:(E=($=t.article)==null?void 0:$.meta)==null?void 0:E.likes},null,8,["fetching","post-id","likes"])])],2)}var ArticlePage=_export_sfc(_sfc_main$K,[["render",_sfc_render$K]]);const useCategoryStore=defineStore("category",{state:()=>({fetched:!1,fetching:!1,categories:[]}),actions:{fetchAll(){return this.fetched?Promise.resolve():(this.fetching=!0,service$1.get("/category",{params:{per_page:50}}).then(t=>{this.categories=t.result.data,this.fetched=!0}).finally(()=>{this.fetching=!1}))}}});var header_vue_vue_type_style_index_0_scoped_true_lang$2="";const _sfc_main$J=defineComponent({name:"ArticleListHeader",props:{backgroundColor:{type:String,default:""},backgroundImage:{type:String,default:""},icon:{type:String,required:!0}},setup(t){const{isMobile:o}=useEnhancer(),n=computed(()=>t.backgroundImage||getFileCDNUrl("/images/page-feeelancer/banner.jpg"));return{LANGUAGE_KEYS,isMobile:o,backgroundImageUrl:n}}}),_hoisted_1$F={class:"content"},_hoisted_2$w={class:"logo"},_hoisted_3$o={class:"title"},_hoisted_4$n={class:"text"};function _sfc_render$J(t,o,n,s,r,l){return openBlock(),createElementBlock("div",{class:normalizeClass(["header",{mobile:t.isMobile}])},[createBaseVNode("div",{class:"background",style:normalizeStyle({backgroundColor:t.backgroundColor,backgroundImage:`url(${t.backgroundImageUrl})`})},null,4),createBaseVNode("div",_hoisted_1$F,[createBaseVNode("div",_hoisted_2$w,[createVNode(Transition,{name:"module",mode:"out-in"},{default:withCtx(()=>[createBaseVNode("i",{key:"date",class:normalizeClass(["iconfont",t.icon])},null,2)]),_:1})]),createBaseVNode("div",_hoisted_3$o,[createVNode(Transition,{name:"module",mode:"out-in"},{default:withCtx(()=>[createBaseVNode("h5",_hoisted_4$n,[renderSlot(t.$slots,"default",{},void 0,!0)])]),_:3})])])],2)}var ArticleListHeader=_export_sfc(_sfc_main$J,[["render",_sfc_render$J],["__scopeId","data-v-bd935154"]]);const _sfc_main$I=defineComponent({name:"CategoryPage",components:{ArticleListHeader,ArticleList},props:{categorySlug:{type:String,required:!0}},setup(t){const{i18n:o,meta:n,isZhLang:s}=useEnhancer(),r=useArticleStore(),l=useCategoryStore(),i=computed(()=>l.categories.find(m=>m.slug===t.categorySlug));n(()=>{var N;const m=firstUpperCase(t.categorySlug),$=o.t(t.categorySlug),E=s.value?[$,m]:[m,"Category"],f=((N=i.value)==null?void 0:N.description)||E.join(",");return{pageTitle:E.join(" | "),description:f}});const a=computed(()=>getExtendsValue(i.value,"icon")||"icon-category"),c=computed(()=>getExtendsValue(i.value,"background")),d=computed(()=>getExtendsValue(i.value,"bgcolor")),u=async()=>{await r.fetchList({category_slug:t.categorySlug,page:r.list.pagination.current_page+1}),onClient(nextScreen)},g=m=>(onClient(scrollToTop),Promise.all([l.fetchAll(),r.fetchList({category_slug:m})]));return onBeforeMount(()=>{watch(()=>t.categorySlug,m=>g(m),{flush:"post"})}),useUniversalFetch(()=>g(t.categorySlug)),{article:r,currentCategory:i,currentCategoryIcon:a,currentCategoryImage:c,currentCategoryColor:d,loadmoreArticles:u}}}),_hoisted_1$E={class:"category-archive-page"};function _sfc_render$I(t,o,n,s,r,l){const i=resolveComponent("article-list-header"),a=resolveComponent("article-list");return openBlock(),createElementBlock("div",_hoisted_1$E,[createVNode(i,{"background-color":t.currentCategoryColor,"background-image":t.currentCategoryImage,icon:t.currentCategoryIcon},{default:withCtx(()=>{var c;return[createBaseVNode("span",null,toDisplayString(((c=t.currentCategory)==null?void 0:c.description)||"..."),1)]}),_:1},8,["background-color","background-image","icon"]),createVNode(a,{fetching:t.article.list.fetching,articles:t.article.list.data,pagination:t.article.list.pagination,onLoadmore:t.loadmoreArticles},null,8,["fetching","articles","pagination","onLoadmore"])])}var CategoryPage=_export_sfc(_sfc_main$I,[["render",_sfc_render$I]]);const useTagStore=defineStore("tag",{state:()=>({fetched:!1,fetching:!1,tags:[]}),getters:{fullNameTags:t=>{const o=t.tags,n=new Map;return o.forEach(s=>{n.set(s.name,s),n.set(s.name.toLowerCase(),s),n.set(s.name.toUpperCase(),s),n.set(firstUpperCase(s.name),s)}),n}},actions:{fetchAll(){return this.fetched?Promise.resolve():(this.fetching=!0,service$1.get("/tag",{params:{cache:1}}).then(t=>{this.tags=t.result.data,this.fetched=!0}).finally(()=>{this.fetching=!1}))}}});var tag_vue_vue_type_style_index_0_scoped_true_lang$1="";const _sfc_main$H=defineComponent({name:"TagPage",components:{ArticleListHeader,ArticleList},props:{tagSlug:{type:String,required:!0}},setup(t){const{meta:o,isZhLang:n}=useEnhancer(),s=useTagStore(),r=useArticleStore(),l=computed(()=>s.tags.find(g=>g.slug===t.tagSlug));o(()=>{var f,N;const g=firstUpperCase(t.tagSlug),m=(f=l.value)==null?void 0:f.name,$=n.value?[m,g]:[g,"Tag"],E=((N=l.value)==null?void 0:N.description)||$.join(",");return{pageTitle:$.join(" | "),description:E}});const i=computed(()=>getExtendsValue(l.value,"icon")||"icon-tag"),a=computed(()=>getExtendsValue(l.value,"background")),c=computed(()=>getExtendsValue(l.value,"bgcolor")),d=async()=>{await r.fetchList({tag_slug:t.tagSlug,page:r.list.pagination.current_page+1}),onClient(nextScreen)},u=g=>(onClient(scrollToTop),Promise.all([s.fetchAll(),r.fetchList({tag_slug:g})]));return onBeforeMount(()=>{watch(()=>t.tagSlug,g=>u(g),{flush:"post"})}),useUniversalFetch(()=>u(t.tagSlug)),{articleStore:r,currentTag:l,currentTagIcon:i,currentTagImage:a,currentTagColor:c,loadmoreArticles:d}}}),_withScopeId$l=t=>(pushScopeId("data-v-17a6025b"),t=t(),popScopeId(),t),_hoisted_1$D={class:"tag-archive-page"},_hoisted_2$v=_withScopeId$l(()=>createBaseVNode("span",{class:"delimiter"},"-",-1));function _sfc_render$H(t,o,n,s,r,l){const i=resolveComponent("i18n"),a=resolveComponent("article-list-header"),c=resolveComponent("article-list");return openBlock(),createElementBlock("div",_hoisted_1$D,[createVNode(a,{"background-color":t.currentTagColor,"background-image":t.currentTagImage,icon:t.currentTagIcon},{default:withCtx(()=>[t.currentTag?(openBlock(),createElementBlock(Fragment,{key:0},[createVNode(i,{zh:t.currentTag.name,en:t.currentTag.slug},null,8,["zh","en"]),_hoisted_2$v,createBaseVNode("span",null,toDisplayString(t.currentTag.description||"..."),1)],64)):createCommentVNode("",!0)]),_:1},8,["background-color","background-image","icon"]),createVNode(c,{fetching:t.articleStore.list.fetching,articles:t.articleStore.list.data,pagination:t.articleStore.list.pagination,onLoadmore:t.loadmoreArticles},null,8,["fetching","articles","pagination","onLoadmore"])])}var TagPage=_export_sfc(_sfc_main$H,[["render",_sfc_render$H],["__scopeId","data-v-17a6025b"]]);const _sfc_main$G=defineComponent({name:"DatePage",components:{ArticleListHeader,ArticleList},props:{date:{type:String,required:!0}},setup(t){const{meta:o}=useEnhancer(),n=useArticleStore();o(()=>({pageTitle:`${t.date} | Date`}));const s=l=>(onClient(scrollToTop),n.fetchList(l)),r=()=>s({date:t.date,page:n.list.pagination.current_page+1}).then(nextScreen);return onBeforeMount(()=>{watch(()=>t.date,l=>s({date:l}),{flush:"post"})}),useUniversalFetch(()=>s({date:t.date})),{articleStore:n,loadmoreArticles:r}}}),_hoisted_1$C={class:"date-archive-page"};function _sfc_render$G(t,o,n,s,r,l){const i=resolveComponent("i18n"),a=resolveComponent("article-list-header"),c=resolveComponent("article-list");return openBlock(),createElementBlock("div",_hoisted_1$C,[createVNode(a,{icon:"icon-clock"},{default:withCtx(()=>[createVNode(i,{zh:`\u53D1\u5E03\u4E8E ${t.date} \u7684\u6240\u6709\u6587\u7AE0`,en:`${t.date} articles`},null,8,["zh","en"])]),_:1}),createVNode(c,{fetching:t.articleStore.list.fetching,articles:t.articleStore.list.data,pagination:t.articleStore.list.pagination,onLoadmore:t.loadmoreArticles},null,8,["fetching","articles","pagination","onLoadmore"])])}var DatePage=_export_sfc(_sfc_main$G,[["render",_sfc_render$G]]);const _sfc_main$F=defineComponent({name:"SearchPage",components:{ArticleListHeader,ArticleList},props:{keyword:{type:String,required:!0}},setup(t){const{meta:o}=useEnhancer(),n=useArticleStore();o(()=>({pageTitle:`${t.keyword} | Search`}));const s=l=>(onClient(scrollToTop),n.fetchList(l)),r=async()=>{await s({keyword:t.keyword,page:n.list.pagination.current_page+1}),onClient(nextScreen)};return onBeforeMount(()=>{watch(()=>t.keyword,l=>s({keyword:l}),{flush:"post"})}),useUniversalFetch(()=>s({keyword:t.keyword})),{article:n,loadmoreArticles:r}}}),_hoisted_1$B={class:"search-archive-page"};function _sfc_render$F(t,o,n,s,r,l){const i=resolveComponent("i18n"),a=resolveComponent("article-list-header"),c=resolveComponent("article-list");return openBlock(),createElementBlock("div",_hoisted_1$B,[createVNode(a,{icon:"icon-search"},{default:withCtx(()=>[createVNode(i,{zh:`\u548C \u201C${t.keyword}\u201D \u6709\u5173\u7684\u6240\u6709\u6587\u7AE0`,en:`'${t.keyword}' related articles`},null,8,["zh","en"])]),_:1}),createVNode(c,{fetching:t.article.list.fetching,articles:t.article.list.data,pagination:t.article.list.pagination,onLoadmore:t.loadmoreArticles},null,8,["fetching","articles","pagination","onLoadmore"])])}var SearchPage=_export_sfc(_sfc_main$F,[["render",_sfc_render$F]]),TunnelModule;(function(t){t.BiliBili="bilibili",t.Wallpaper="wallpaper",t.GitHub="gitHub",t.Music="music"})(TunnelModule||(TunnelModule={}));const getTunnelApiPath=t=>`/${t}`,API_TUNNEL_PREFIX="/_tunnel",tunnel=axios.create({baseURL:API_TUNNEL_PREFIX,proxy:isServer});tunnel.interceptors.response.use(t=>t.data);const service={$:tunnel,request:(...t)=>tunnel.request(...t),dispatch:t=>tunnel.get(getTunnelApiPath(t))},createMusicPlayer=t=>{var A;const{amplitude:o}=t,n=(A=t.volume)!=null?A:40,s=reactive({inited:!1,ready:!1,index:0,count:0,volume:n,wave:!1,playing:!1,speeds:0,progress:0}),r=computed(()=>s.volume===0),l=reactive({fetching:!1,data:[]}),i=computed(()=>l.data.map(y=>S(C({},y),{url:`https://music.163.com/song/media/outer/url?id=${y.id}.mp3`,cover_art_url:y.cover_art_url?getFileProxyUrl(y.cover_art_url.replace("http://","/music/")+"?param=600y600"):null}))),a=async()=>{try{l.fetching=!0,l.data=await service.dispatch(TunnelModule.Music),s.count=l.data.length}catch(y){throw l.data=[],s.count=0,y}finally{l.fetching=!1}},c=computed(()=>{if(s.inited&&s.index!==void 0)return o.getActiveSongMetadata()}),d=()=>o.play(),u=()=>o.pause(),g=()=>o.prev(),m=()=>o.next(),$=y=>o.setVolume(y),E=()=>$(r.value?n:0),f=()=>o.getPlayerState()==="playing"?u():d(),N=y=>{o.init({delay:668,debug:!1,volume:s.volume,songs:y,start_song:0,continue_next:!0,callbacks:{initialized:()=>{s.ready=!0,s.inited=!0},play:()=>{s.ready=!0,s.wave=!0,s.playing=!0},pause:()=>{s.wave=!1,s.playing=!1},stop:()=>{s.wave=!1,s.playing=!1},volumechange:()=>{s.volume=o.getVolume()},timeupdate:()=>{s.speeds=o.getSongPlayedSeconds(),s.progress=o.getSongPlayedPercentage()},song_change:()=>{s.index=o.getActiveIndex()},ended:()=>{s.playing=!1},error:k=>{console.warn("\u64AD\u653E\u5668\u51FA\u73B0\u5F02\u5E38\uFF0C\u81EA\u52A8\u4E0B\u4E00\u9996\uFF01",s.index,k),s.playing=!1,window.setTimeout(m,1668)}}}),o.setRepeat(!0)},v=async()=>{try{if(await a(),!i.value.length){s.ready=!1,console.warn("\u64AD\u653E\u5217\u8868\u4E3A\u7A7A\uFF0C\u672A\u627E\u5230\u6709\u6548\u97F3\u4E50\uFF0C\u65E0\u6CD5\u521D\u59CB\u5316\uFF01");return}N(i.value)}catch(y){s.ready=!1,console.warn("\u64AD\u653E\u5217\u8868\u8BF7\u6C42\u5931\u8D25\uFF0C\u65E0\u6CD5\u521D\u59CB\u5316\uFF01",y)}};return{state:readonly(s),muted:r,currentSong:c,start:v,play:d,pause:u,changeVolume:$,toggleMuted:E,togglePlay:f,prevSong:g,nextSong:m}},MusicPlayerSymbol=Symbol("music-player"),createMusic=t=>{const o=createMusicPlayer(t);return t.autoStart&&o.start(),S(C({},o),{install(n){n.provide(MusicPlayerSymbol,o)}})},useMusic=()=>inject(MusicPlayerSymbol);var music_vue_vue_type_style_index_0_scoped_true_lang="";const _sfc_main$E=defineComponent({name:"MusicPage",setup(){const{i18n:t,meta:o,isZhLang:n}=useEnhancer(),s=useMusic();o(()=>{const d=firstUpperCase(t.t(LANGUAGE_KEYS.PAGE_MUSIC,Language.En));return{pageTitle:(n.value?[t.t(LANGUAGE_KEYS.PAGE_MUSIC),d]:[d]).join(" | ")}});const r=parseFloat((15/450*100).toFixed(1)),l=50-r/2,i=2*Math.PI*l,a=(()=>{const d=parseInt(String(l),10);return`M 50 50 m 0 -${d} a ${d} ${d} 0 1 1 0 ${d*2} a ${d} ${d} 0 1 1 0 -${d*2}`})(),c=computed(()=>{if(s)return{strokeDasharray:`${i}px, ${i}px`,strokeDashoffset:(1-s.state.progress/100)*i+"px"}});return{player:s,muted:s==null?void 0:s.muted,currentSong:s==null?void 0:s.currentSong,trackPath:a,relativeStrokeWidth:r,circlePathStyle:c}}}),_withScopeId$k=t=>(pushScopeId("data-v-184c348b"),t=t(),popScopeId(),t),_hoisted_1$A={class:"music-page"},_hoisted_2$u={class:"player"},_hoisted_3$n=["disabled"],_hoisted_4$m=_withScopeId$k(()=>createBaseVNode("i",{class:"iconfont icon-music-prev"},null,-1)),_hoisted_5$k=[_hoisted_4$m],_hoisted_6$j={class:"album-box"},_hoisted_7$h={class:"circle-progress"},_hoisted_8$g={viewBox:"0 0 100 100"},_hoisted_9$g=["d","stroke-width"],_hoisted_10$f=["d","stroke-width"],_hoisted_11$c=["src"],_hoisted_12$c={class:"toggle-box"},_hoisted_13$a=["disabled"],_hoisted_14$8={class:"toggle-muted"},_hoisted_15$8=["disabled"],_hoisted_16$6=["disabled"],_hoisted_17$6=_withScopeId$k(()=>createBaseVNode("i",{class:"iconfont icon-music-next"},null,-1)),_hoisted_18$6=[_hoisted_17$6],_hoisted_19$4={class:"song-info"},_hoisted_20$3={class:"name"},_hoisted_21$3=createTextVNode("Kind words are the music of the world.");function _sfc_render$E(t,o,n,s,r,l){var i,a,c,d,u,g,m,$;return openBlock(),createElementBlock("div",_hoisted_1$A,[createBaseVNode("div",_hoisted_2$u,[createBaseVNode("button",{class:"prev-song",disabled:!((a=(i=t.player)==null?void 0:i.state)==null?void 0:a.ready),onClick:o[0]||(o[0]=E=>{var f;return(f=t.player)==null?void 0:f.prevSong()})},_hoisted_5$k,8,_hoisted_3$n),createBaseVNode("div",_hoisted_6$j,[createBaseVNode("div",_hoisted_7$h,[(openBlock(),createElementBlock("svg",_hoisted_8$g,[createBaseVNode("path",{class:"circle-progress-circle-track",fill:"none",d:t.trackPath,"stroke-width":t.relativeStrokeWidth},null,8,_hoisted_9$g),createBaseVNode("path",{class:"circle-progress-circle-path","stroke-linecap":"bevel",fill:"none",d:t.trackPath,"stroke-width":t.relativeStrokeWidth,style:normalizeStyle(t.circlePathStyle)},null,12,_hoisted_10$f)]))]),createBaseVNode("div",{class:normalizeClass(["song-bg-box",{playing:(c=t.player)==null?void 0:c.state.playing}])},[createBaseVNode("img",{src:(d=t.currentSong)==null?void 0:d.cover_art_url,draggable:"false"},null,8,_hoisted_11$c)],2),createBaseVNode("div",_hoisted_12$c,[createVNode(Transition,{name:"module",mode:"out-in"},{default:withCtx(()=>{var E,f,N;return[(openBlock(),createElementBlock("button",{key:((E=t.player)==null?void 0:E.state.playing)?"pause":"play",disabled:!((f=t.player)==null?void 0:f.state.ready),class:"toggle-btn",onClick:o[1]||(o[1]=v=>{var A;return(A=t.player)==null?void 0:A.togglePlay()})},[createBaseVNode("i",{class:normalizeClass(["iconfont",((N=t.player)==null?void 0:N.state.playing)?"icon-music-pause":"icon-music-play"])},null,2)],8,_hoisted_13$a))]}),_:1})]),createBaseVNode("div",_hoisted_14$8,[createBaseVNode("button",{class:"muted-btn",disabled:!((u=t.player)==null?void 0:u.state.ready),onClick:o[2]||(o[2]=E=>{var f;return(f=t.player)==null?void 0:f.toggleMuted()})},[createBaseVNode("i",{class:normalizeClass(["iconfont",t.muted?"icon-music-muted":"icon-music-unmuted"])},null,2)],8,_hoisted_15$8)])]),createBaseVNode("button",{class:"next-song",disabled:!((g=t.player)==null?void 0:g.state.ready),onClick:o[3]||(o[3]=E=>{var f;return(f=t.player)==null?void 0:f.nextSong()})},_hoisted_18$6,8,_hoisted_16$6)]),createBaseVNode("div",_hoisted_19$4,[createBaseVNode("h4",_hoisted_20$3,[t.currentSong?(openBlock(),createElementBlock(Fragment,{key:0},[createTextVNode(toDisplayString(t.currentSong.name)+" By "+toDisplayString(t.currentSong.artist)+" | "+toDisplayString(t.currentSong.album||"unknow"),1)],64)):(openBlock(),createElementBlock(Fragment,{key:1},[_hoisted_21$3],64))]),createBaseVNode("h5",null,toDisplayString((((m=t.player)==null?void 0:m.state.index)||0)+1)+" / "+toDisplayString((($=t.player)==null?void 0:$.state.count)||"Infinity"),1)])])}var MusicPage=_export_sfc(_sfc_main$E,[["render",_sfc_render$E],["__scopeId","data-v-184c348b"]]);const useLensStore=defineStore("lens",{state:()=>({plogs:{fetching:!1,data:[]},vlogs:{fetching:!1,data:[]}}),actions:{fetchVlogs(){return this.vlogs.data.length?Promise.resolve():(this.vlogs.fetching=!0,service.dispatch(TunnelModule.BiliBili).then(t=>{this.vlogs.data=t}).finally(()=>{this.vlogs.fetching=!1}))}}}),randomNumber=t=>Math.floor(Math.random()*t)+1;var lens_vue_vue_type_style_index_0_scoped_true_lang="";const _sfc_main$D=defineComponent({name:"LensPage",components:{PageBanner},setup(){const{globalState:t,i18n:o,meta:n,isMobile:s,isDarkTheme:r,isZhLang:l}=useEnhancer(),i=useLensStore(),a=ref(null),c=ref(),d=`/images/page-lens/banner-${randomNumber(3)}.jpg`;n(()=>{const f=firstUpperCase(o.t(LANGUAGE_KEYS.PAGE_LENS,Language.En));return{pageTitle:(l.value?[o.t(LANGUAGE_KEYS.PAGE_LENS),f]:[f]).join(" | "),description:`${META.author} \u7684 Vlog \u89C6\u9891`}});const u=f=>timeAgo(f*1e3,o.language.value),g=f=>getFileProxyUrl(`/bilibili/${f.replace("http://","")}@560w_350h.${t.imageExt.value.ext}`),m=f=>{window.open(`https://www.bilibili.com/video/av${f.aid}`)},$=()=>i.fetchVlogs(),E=()=>{var N;const f=(N=c.value)==null?void 0:N.querySelectorAll(`.${LOZAD_CLASS_NAME}`);(f==null?void 0:f.length)&&(a.value=window.$lozad(f,{loaded:v=>v.classList.add(LOADED_CLASS_NAME)}),a.value.observe())};return onMounted(()=>{E()}),onBeforeUnmount(()=>{var f;(f=a.value)==null||f.observer.disconnect(),a.value=null}),useUniversalFetch(()=>$()),{VALUABLE_LINKS,LANGUAGE_KEYS,lensStore:i,isMobile:s,isDarkTheme:r,videoListElement:c,humanlizeDate:u,getThumbUrl:g,handlePlay:m,observeLozad:E,bannerImageUrl:d}}}),_withScopeId$j=t=>(pushScopeId("data-v-47479431"),t=t(),popScopeId(),t),_hoisted_1$z=createTextVNode("\u751F\u5982\u9006\u65C5\uFF0C\u4E00\u82C7\u4EE5\u822A"),_hoisted_2$t=createTextVNode('"why did you want to climb mount Everest?"'),_hoisted_3$m={class:"container"},_hoisted_4$l={class:"header"},_hoisted_5$j={class:"bilibili"},_hoisted_6$i={class:"left"},_hoisted_7$g=_withScopeId$j(()=>createBaseVNode("i",{class:"iconfont icon-bilibili-full"},null,-1)),_hoisted_8$f=createTextVNode(" (\u309C-\u309C)\u3064\u30ED \u5E72\u676F~ "),_hoisted_9$f={class:"qrcode"},_hoisted_10$e={class:"global"},_hoisted_11$b=_withScopeId$j(()=>createBaseVNode("i",{class:"iconfont icon-instagram"},null,-1)),_hoisted_12$b=_withScopeId$j(()=>createBaseVNode("span",{class:"text"},"Follow me on Instagram",-1)),_hoisted_13$9=_withScopeId$j(()=>createBaseVNode("i",{class:"iconfont icon-youtube"},null,-1)),_hoisted_14$7=_withScopeId$j(()=>createBaseVNode("span",{class:"text"},"Subscribe my YouTube",-1)),_hoisted_15$7={class:"wechat-channel"},_hoisted_16$5=_withScopeId$j(()=>createBaseVNode("div",{class:"module-title vlog"},"Vlogs",-1)),_hoisted_17$5=_withScopeId$j(()=>createBaseVNode("div",{class:"vlog-loading",key:"loading"},"Loading...",-1)),_hoisted_18$5={class:"videos",ref:"videoListElement"},_hoisted_19$3=["onClick","title"],_hoisted_20$2={class:"thumb"},_hoisted_21$2=_withScopeId$j(()=>createBaseVNode("div",{class:"mask"},[createBaseVNode("div",{class:"button"},[createBaseVNode("i",{class:"iconfont icon-music-play"})])],-1)),_hoisted_22$1={class:"length"},_hoisted_23$1=["data-background-image"],_hoisted_24$1={class:"title"},_hoisted_25$1={class:"text"},_hoisted_26$1=["textContent"],_hoisted_27$1=_withScopeId$j(()=>createBaseVNode("hr",{class:"separator"},null,-1)),_hoisted_28$1={class:"meta"},_hoisted_29$1={class:"item play"},_hoisted_30$1=_withScopeId$j(()=>createBaseVNode("i",{class:"iconfont icon-video-play"},null,-1)),_hoisted_31$1={class:"item comment"},_hoisted_32$1=_withScopeId$j(()=>createBaseVNode("i",{class:"iconfont icon-comment"},null,-1)),_hoisted_33$1={class:"item created"},_hoisted_34$1=_withScopeId$j(()=>createBaseVNode("i",{class:"iconfont icon-clock"},null,-1));function _sfc_render$D(t,o,n,s,r,l){const i=resolveComponent("i18n"),a=resolveComponent("page-banner"),c=resolveComponent("ulink"),d=resolveComponent("uimage"),u=resolveComponent("empty"),g=resolveComponent("placeholder");return openBlock(),createElementBlock("div",{class:normalizeClass(["lens-page",{mobile:t.isMobile,dark:t.isDarkTheme}])},[createVNode(a,{position:38,image:t.bannerImageUrl},{title:withCtx(()=>[createVNode(i,{zh:"\u51E1\u5FC3\u6240\u5411\uFF0C\u7D20\u5C65\u4EE5\u5F80",en:"Because it's there"})]),description:withCtx(()=>[createVNode(i,null,{zh:withCtx(()=>[_hoisted_1$z]),en:withCtx(()=>[_hoisted_2$t]),_:1})]),_:1},8,["image"]),createBaseVNode("div",_hoisted_3$m,[createBaseVNode("div",_hoisted_4$l,[createBaseVNode("div",_hoisted_5$j,[createBaseVNode("div",_hoisted_6$i,[_hoisted_7$g,createVNode(c,{class:"button",href:t.VALUABLE_LINKS.BILIBILI},{default:withCtx(()=>[_hoisted_8$f]),_:1},8,["href"])]),createBaseVNode("div",_hoisted_9$f,[createVNode(d,{cdn:"",class:"image",src:"/images/page-lens/bilibili.jpg"})])]),createBaseVNode("div",_hoisted_10$e,[createVNode(c,{class:"instagram",href:t.VALUABLE_LINKS.INSTAGRAM},{default:withCtx(()=>[_hoisted_11$b,_hoisted_12$b]),_:1},8,["href"]),createVNode(c,{class:"youtube",href:t.VALUABLE_LINKS.YOUTUBE},{default:withCtx(()=>[_hoisted_13$9,_hoisted_14$7]),_:1},8,["href"])]),createBaseVNode("div",_hoisted_15$7,[createVNode(d,{cdn:"",src:"/images/page-lens/wechat-channel.jpg"})])]),_hoisted_16$5,createVNode(g,{data:t.lensStore.vlogs.data.length,loading:t.lensStore.vlogs.fetching,onAfterEnter:t.observeLozad},{placeholder:withCtx(()=>[createVNode(u,{class:"vlog-empty",key:"empty"},{default:withCtx(()=>[createVNode(i,{lkey:t.LANGUAGE_KEYS.ARTICLE_PLACEHOLDER},null,8,["lkey"])]),_:1})]),loading:withCtx(()=>[_hoisted_17$5]),default:withCtx(()=>[createBaseVNode("ul",_hoisted_18$5,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.lensStore.vlogs.data,(m,$)=>(openBlock(),createElementBlock("li",{class:"item",onClick:E=>t.handlePlay(m),title:m.title,key:$},[createBaseVNode("div",_hoisted_20$2,[_hoisted_21$2,createBaseVNode("span",_hoisted_22$1,toDisplayString(m.length),1),createBaseVNode("div",{class:"background lozad","data-background-image":t.getThumbUrl(m.pic)},null,8,_hoisted_23$1)]),createBaseVNode("h5",_hoisted_24$1,[createBaseVNode("span",_hoisted_25$1,toDisplayString(m.title),1)]),createBaseVNode("p",{class:"description",style:{"-webkit-box-orient":"vertical"},textContent:toDisplayString(m.description||"-")},null,8,_hoisted_26$1),_hoisted_27$1,createBaseVNode("p",_hoisted_28$1,[createBaseVNode("span",_hoisted_29$1,[_hoisted_30$1,createBaseVNode("span",null,toDisplayString(m.play),1)]),createBaseVNode("span",_hoisted_31$1,[_hoisted_32$1,createBaseVNode("span",null,toDisplayString(m.comment),1)]),createBaseVNode("span",_hoisted_33$1,[_hoisted_34$1,createBaseVNode("span",null,toDisplayString(t.humanlizeDate(m.created)),1)])])],8,_hoisted_19$3))),128))],512)]),_:1},8,["data","loading","onAfterEnter"])])],2)}var LensPage=_export_sfc(_sfc_main$D,[["render",_sfc_render$D],["__scopeId","data-v-47479431"]]),job_vue_vue_type_style_index_0_scoped_true_lang="";const _sfc_main$C=defineComponent({name:"JobPage",components:{PageBanner},setup(){const{i18n:t,meta:o,isMobile:n,isZhLang:s}=useEnhancer();return o(()=>{const i=firstUpperCase(t.t(LANGUAGE_KEYS.PAGE_JOB,Language.En));return{pageTitle:(s.value?[t.t(LANGUAGE_KEYS.PAGE_JOB),i]:[i]).join(" | "),description:`\u627E ${META.author} \u5185\u63A8`}}),{jobs:[{id:"qiniu",company:"\u4E03\u725B\u4E91",logo:"/images/page-job/qiniu.jpg",url:"https://www.qiniu.com/company",location:"\u4E0A\u6D77",description:"\u516C\u53F8\u8D5A\u94B1\uFF0CLeader nice\uFF0C\u540C\u4E8B\u5B8C\u7F8E\uFF0C\u4E1A\u52A1\u9760\u8C31\uFF0C\u4ECE\u4E0D\u52A0\u73ED",email:META.email},{id:"bytedance",company:"\u5B57\u8282\u8DF3\u52A8",logo:"/images/page-job/bytedance.jpg",qrcode:"/images/page-job/bytedance-qrcode.png",url:"https://job.toutiao.com/s/J9oWrQQ",location:"\u56FD\u5185",description:"\u996D\u597D\u5403\uFF0C\u4E0D\u8981\u94B1<br> \u85AA\u8D44\u4E0D\u4F4E\uFF0C\u52A0\u73ED\u7ED9\u94B1\uFF1B\u9A6C\u4E0A\u4E0A\u5E02\uFF0C\u672A\u6765\u53EF\u671F",email:META.email},{id:"meituan",company:"\u7F8E\u56E2\u70B9\u8BC4",logo:"/images/page-job/meituan.png",url:"http://zhaopin.meituan.com",description:"\u4F18\u60E0\u5238\u591A <br> \u6280\u672F OK",email:"iamjooger@gmail.com"},{id:"ant",company:"\u8682\u8681\u91D1\u670D",location:"\u56FD\u5185",logo:"/images/page-job/ant.jpg",url:"https://www.antgroup.com/about/join-us",description:"\u5DE8\u5934\u5E02\u503C\uFF0C\u5927\u725B\u7FA4\u5C45",email:META.email},{id:"github-veact",company:"GitHub Veact Project",location:"remote",logo:"/images/page-job/github.jpg",url:"https://github.com/veactjs",description:"Become the maintainer of the <code>veact</code> project",email:META.email},{id:"todo",company:"\u5047\u88C5\u662F\u5E7F\u544A\u4F4D",logo:"/images/page-job/github-package.png",description:"\u5982\u679C\u4F60\u6709\u81EA\u8BA4\u4E3A\u4E0D\u9519\u7684\u673A\u4F1A\uFF0C\u8BF7\u8054\u7CFB\u6211~",email:META.email}],isMobile:n,handleSubmit:i=>{const a="\u55E8\uFF01\u6C42\u5185\u63A8\uFF01",c=`\u6211\u60F3\u6C42\u5185\u63A8 ${i.company} - ${i.location||""} \u7684\u804C\u4F4D\uFF0C\u6211\u5728\u7B80\u5386\u5728\u9644\u4EF6\u4E2D\u3002%0D%0A %0D%0A from ${META.title}`,d=`mailto:${i.email}?subject=${a}&body=${c}`;window.open(d)},getFileCDNUrl}}}),_withScopeId$i=t=>(pushScopeId("data-v-1f317521"),t=t(),popScopeId(),t),_hoisted_1$y={class:"container"},_hoisted_2$s={class:"jobs"},_hoisted_3$l={class:"content"},_hoisted_4$k={key:0,class:"location"},_hoisted_5$i=["innerHTML"],_hoisted_6$h=["onClick"],_hoisted_7$f=_withScopeId$i(()=>createBaseVNode("i",{class:"iconfont icon-mail-plane"},null,-1));function _sfc_render$C(t,o,n,s,r,l){const i=resolveComponent("i18n"),a=resolveComponent("page-banner"),c=resolveComponent("uimage"),d=resolveComponent("ulink");return openBlock(),createElementBlock("div",{class:normalizeClass(["job-page",{mobile:t.isMobile}])},[createVNode(a,{image:"/images/page-job/banner.jpg"},{title:withCtx(()=>[createVNode(i,{zh:"\u5185\u63A8\u627E\u6211\uFF0C\u7EDD\u5BF9\u9760\u8C31",en:"We work together"})]),description:withCtx(()=>[createVNode(i,{zh:"\u4E00\u624B\u4EBA\u8109\uFF0C\u5047\u4E00\u8D54\u4E07",en:"We fight for future together"})]),_:1}),createBaseVNode("div",_hoisted_1$y,[createBaseVNode("ul",_hoisted_2$s,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.jobs,(u,g)=>(openBlock(),createElementBlock("li",{class:normalizeClass(["item",u.id]),key:g},[createBaseVNode("div",{class:"logo",style:normalizeStyle({backgroundImage:`url('${t.getFileCDNUrl(u.logo)}')`})},[u.qrcode?(openBlock(),createBlock(c,{key:0,cdn:"",class:"qrcode",src:u.qrcode},null,8,["src"])):createCommentVNode("",!0)],4),createBaseVNode("div",_hoisted_3$l,[createVNode(d,{class:"title",href:u.url},{default:withCtx(()=>[createTextVNode(toDisplayString(u.company)+" ",1),u.location?(openBlock(),createElementBlock("span",_hoisted_4$k,"\uFF08"+toDisplayString(u.location)+"\uFF09",1)):createCommentVNode("",!0)]),_:2},1032,["href"]),u.description?(openBlock(),createElementBlock("p",{key:0,class:"description",innerHTML:u.description},null,8,_hoisted_5$i)):createCommentVNode("",!0),u.email?(openBlock(),createElementBlock("button",{key:1,class:"submit",onClick:m=>t.handleSubmit(u)},[createTextVNode(toDisplayString(u.email.replace("@","#"))+" ",1),_hoisted_7$f],8,_hoisted_6$h)):createCommentVNode("",!0)])],2))),128))])])],2)}var JobPage=_export_sfc(_sfc_main$C,[["render",_sfc_render$C],["__scopeId","data-v-1f317521"]]),about_vue_vue_type_style_index_0_scoped_true_lang="";const _sfc_main$B=defineComponent({name:"AboutPage",setup(){const{i18n:t,meta:o,gtag:n,globalState:s,isZhLang:r,isMobile:l}=useEnhancer(),i=useMetaStore(),a=toRef(s.switchBox,"liveMap"),c=computed(()=>i.adminInfo.data),d=computed(()=>{var E;return((E=c.value)==null?void 0:E.gravatar)||getFileCDNUrl("/images/gravatar.jpg")}),u=getFileStaticUrl("/assets/page-about-background.mp4");return o(()=>{const E=firstUpperCase(t.t(LANGUAGE_KEYS.PAGE_ABOUT,Language.En));return{pageTitle:(r.value?[t.t(LANGUAGE_KEYS.PAGE_ABOUT),E]:[E]).join(" | "),description:`\u5173\u4E8E ${META.author}`}}),{VALUABLE_LINKS,FRIEND_LINKS,RouteName,getPageRoute,isMobile:l,isOnLiveMap:a,backgroundVideo:u,gravatar:d,adminInfo:c,handleHoverFollowMe:()=>{n==null||n.event("\u52A0\u5FAE\u4FE1\u7801",{event_category:GAEventActions.View,event_label:GAEventTags.AboutPage})},handleTouchSponsor:()=>{n==null||n.event("\u8D5E\u8D4F Sponsor",{event_category:GAEventActions.Click,event_label:GAEventTags.AboutPage})},toggleLiveMap:()=>{s.switchTogglers.liveMap(),s.switchBox.liveMap&&(n==null||n.event("\u8F68\u8FF9\u5730\u56FE",{event_category:GAEventActions.View,event_label:GAEventTags.AboutPage}))}}}}),_withScopeId$h=t=>(pushScopeId("data-v-73ded99b"),t=t(),popScopeId(),t),_hoisted_1$x={class:"banner"},_hoisted_2$r={class:"background"},_hoisted_3$k={class:"video",loop:"",muted:"",autoplay:"",controls:!1},_hoisted_4$j=["src"],_hoisted_5$h={class:"gravatar"},_hoisted_6$g=["src"],_hoisted_7$e={class:"name"},_hoisted_8$e={class:"role"},_hoisted_9$e={class:"socials"},_hoisted_10$d={class:"normal"},_hoisted_11$a=_withScopeId$h(()=>createBaseVNode("i",{class:"iconfont icon-github"},null,-1)),_hoisted_12$a=_withScopeId$h(()=>createBaseVNode("span",{class:"text"},"GitHub",-1)),_hoisted_13$8=_withScopeId$h(()=>createBaseVNode("i",{class:"iconfont icon-twitter"},null,-1)),_hoisted_14$6=_withScopeId$h(()=>createBaseVNode("span",{class:"text"},"Twitter",-1)),_hoisted_15$6=_withScopeId$h(()=>createBaseVNode("i",{class:"iconfont icon-instagram"},null,-1)),_hoisted_16$4=_withScopeId$h(()=>createBaseVNode("span",{class:"text"},"Instagram",-1)),_hoisted_17$4={class:"mini"},_hoisted_18$4=_withScopeId$h(()=>createBaseVNode("i",{class:"iconfont icon-telegram"},null,-1)),_hoisted_19$2=_withScopeId$h(()=>createBaseVNode("i",{class:"iconfont icon-linkedin"},null,-1)),_hoisted_20$1=_withScopeId$h(()=>createBaseVNode("i",{class:"iconfont icon-douban"},null,-1)),_hoisted_21$1=_withScopeId$h(()=>createBaseVNode("i",{class:"iconfont icon-bilibili"},null,-1)),_hoisted_22=_withScopeId$h(()=>createBaseVNode("i",{class:"iconfont icon-zhihu"},null,-1)),_hoisted_23={class:"container"},_hoisted_24={class:"profile"},_hoisted_25={class:"content"},_hoisted_26={class:"item"},_hoisted_27=_withScopeId$h(()=>createBaseVNode("i",{class:"iconfont icon-heart"},null,-1)),_hoisted_28={class:"like-text"},_hoisted_29={class:"item"},_hoisted_30=_withScopeId$h(()=>createBaseVNode("i",{class:"iconfont icon-swordsman"},null,-1)),_hoisted_31=["src"],_hoisted_32={class:"item"},_hoisted_33=_withScopeId$h(()=>createBaseVNode("i",{class:"iconfont icon-music"},null,-1)),_hoisted_34={class:"music"},_hoisted_35=createTextVNode(" Techno, Electronic, Disco, Rock, Popular "),_hoisted_36=_withScopeId$h(()=>createBaseVNode("i",{class:"iconfont icon-spotify"},null,-1)),_hoisted_37=_withScopeId$h(()=>createBaseVNode("i",{class:"iconfont icon-163music-logo"},null,-1)),_hoisted_38={class:"item"},_hoisted_39=_withScopeId$h(()=>createBaseVNode("i",{class:"iconfont icon-coffee"},null,-1)),_hoisted_40=_withScopeId$h(()=>createBaseVNode("span",{class:"separator"},"|",-1)),_hoisted_41=_withScopeId$h(()=>createBaseVNode("span",{class:"separator"},"|",-1)),_hoisted_42=_withScopeId$h(()=>createBaseVNode("span",{class:"separator"},"|",-1)),_hoisted_43={class:"item"},_hoisted_44=_withScopeId$h(()=>createBaseVNode("i",{class:"iconfont icon-discussion"},null,-1)),_hoisted_45=_withScopeId$h(()=>createBaseVNode("span",{class:"separator"},"|",-1)),_hoisted_46=_withScopeId$h(()=>createBaseVNode("div",{class:"separator"},null,-1)),_hoisted_47={class:"item"},_hoisted_48=_withScopeId$h(()=>createBaseVNode("i",{class:"iconfont icon-friend"},null,-1)),_hoisted_49={class:"friends"},_hoisted_50=["href"],_hoisted_51=_withScopeId$h(()=>createBaseVNode("span",null,"...",-1)),_hoisted_52={class:"wechat"},_hoisted_53={class:"qrcode"},_hoisted_54={class:"slogan"},_hoisted_55={class:"text"},_hoisted_56={class:"friend-me"},_hoisted_57=_withScopeId$h(()=>createBaseVNode("i",{class:"iconfont icon-wechat"},null,-1)),_hoisted_58=_withScopeId$h(()=>createBaseVNode("div",{class:"location-box"},[createBaseVNode("iframe",{class:"iframe",src:"/partials/map.html"})],-1)),_hoisted_59={class:"github-box"},_hoisted_60={class:"sponsors"},_hoisted_61=_withScopeId$h(()=>createBaseVNode("i",{class:"iconfont icon-heart"},null,-1)),_hoisted_62=_withScopeId$h(()=>createBaseVNode("span",{class:"text"},"Sponsor me",-1)),_hoisted_63=_withScopeId$h(()=>createBaseVNode("i",{class:"iconfont icon-paypal"},null,-1)),_hoisted_64=_withScopeId$h(()=>createBaseVNode("span",{class:"text"},"PayPal me",-1)),_hoisted_65=_withScopeId$h(()=>createBaseVNode("i",{class:"iconfont icon-qrcode"},null,-1)),_hoisted_66=_withScopeId$h(()=>createBaseVNode("span",{class:"text"},"More payment",-1)),_hoisted_67=_withScopeId$h(()=>createBaseVNode("span",{class:"divider"},null,-1)),_hoisted_68=_withScopeId$h(()=>createBaseVNode("span",{class:"divider"},null,-1));function _sfc_render$B(t,o,n,s,r,l){var $,E;const i=resolveComponent("ulink"),a=resolveComponent("i18n"),c=resolveComponent("popup"),d=resolveComponent("client-only"),u=resolveComponent("router-link"),g=resolveComponent("uimage"),m=resolveComponent("desktop-only");return openBlock(),createElementBlock("div",{class:normalizeClass(["about-page",{mobile:t.isMobile}])},[createBaseVNode("div",_hoisted_1$x,[createBaseVNode("div",_hoisted_2$r,[createBaseVNode("video",_hoisted_3$k,[createBaseVNode("source",{src:t.backgroundVideo,type:"video/mp4"},null,8,_hoisted_4$j)])]),createBaseVNode("div",_hoisted_5$h,[createBaseVNode("img",{src:t.gravatar,class:"avatar",draggable:"false"},null,8,_hoisted_6$g),createBaseVNode("h2",_hoisted_7$e,toDisplayString((($=t.adminInfo)==null?void 0:$.name)||"-"),1),createBaseVNode("p",_hoisted_8$e,toDisplayString(((E=t.adminInfo)==null?void 0:E.slogan)||"-"),1),createBaseVNode("div",_hoisted_9$e,[createBaseVNode("span",_hoisted_10$d,[createVNode(i,{class:"item github",href:t.VALUABLE_LINKS.GITHUB},{default:withCtx(()=>[_hoisted_11$a,_hoisted_12$a]),_:1},8,["href"]),createVNode(i,{class:"item twitter",href:t.VALUABLE_LINKS.TWITTER},{default:withCtx(()=>[_hoisted_13$8,_hoisted_14$6]),_:1},8,["href"]),createVNode(i,{class:"item instagram",href:t.VALUABLE_LINKS.INSTAGRAM},{default:withCtx(()=>[_hoisted_15$6,_hoisted_16$4]),_:1},8,["href"])]),createBaseVNode("span",_hoisted_17$4,[createVNode(i,{class:"item telegram",href:t.VALUABLE_LINKS.TELEGRAM},{default:withCtx(()=>[_hoisted_18$4]),_:1},8,["href"]),createVNode(i,{class:"item linkedin",href:t.VALUABLE_LINKS.LINKEDIN},{default:withCtx(()=>[_hoisted_19$2]),_:1},8,["href"]),createVNode(i,{class:"item douban",href:t.VALUABLE_LINKS.DOUBAN},{default:withCtx(()=>[_hoisted_20$1]),_:1},8,["href"]),createVNode(i,{class:"item bilibili",href:t.VALUABLE_LINKS.BILIBILI},{default:withCtx(()=>[_hoisted_21$1]),_:1},8,["href"]),createVNode(i,{class:"item zhihu",href:t.VALUABLE_LINKS.ZHIHU},{default:withCtx(()=>[_hoisted_22]),_:1},8,["href"])])])])]),createBaseVNode("div",_hoisted_23,[createBaseVNode("div",_hoisted_24,[createBaseVNode("div",_hoisted_25,[createBaseVNode("div",_hoisted_26,[_hoisted_27,createBaseVNode("span",_hoisted_28,[createVNode(a,{zh:"\u9152\u6C60\u8089\u6797\u3001\u6840\u9A9C\u4E0D\u7F81\u3001\u65E5\u591C\u7B19\u6B4C\u3001\u4E94\u97F3\u516D\u5F8B\u3001\u4F9D\u7FE0\u504E\u7EA2\u3001\u76EE\u8425\u5FC3\u5320",en:"misfits. rebels. troublemakers. rocker."})])]),createBaseVNode("div",_hoisted_29,[_hoisted_30,createBaseVNode("span",{class:"live-map",onClick:o[0]||(o[0]=(...f)=>t.toggleLiveMap&&t.toggleLiveMap(...f))},[createVNode(a,{zh:"\u8DEF\u4E3A\u7EB8\uFF0C\u5730\u6210\u518C\uFF0C\u884C\u4F5C\u7B14\uFF0C\u5FC3\u5F53\u58A8\uFF1B\u601D\u65E0\u754C\uFF0C\u884C\u6709\u7586",en:"Every path I went astray built my Rome."})]),createVNode(d,null,{default:withCtx(()=>[createVNode(c,{visible:t.isOnLiveMap,onClose:t.toggleLiveMap},{default:withCtx(()=>[createBaseVNode("iframe",{src:t.VALUABLE_LINKS.GOOGLE_LIVE_MAP,frameborder:"0",class:"live-map"},null,8,_hoisted_31)]),_:1},8,["visible","onClose"])]),_:1})]),createBaseVNode("div",_hoisted_32,[_hoisted_33,createBaseVNode("span",_hoisted_34,[createVNode(u,{to:t.getPageRoute(t.RouteName.Music)},{default:withCtx(()=>[_hoisted_35]),_:1},8,["to"]),createVNode(i,{class:"spotify",href:t.VALUABLE_LINKS.SPOTIFY},{default:withCtx(()=>[_hoisted_36]),_:1},8,["href"]),createVNode(i,{class:"music-163",href:t.VALUABLE_LINKS.MUSIC_163},{default:withCtx(()=>[_hoisted_37]),_:1},8,["href"])])]),createBaseVNode("div",_hoisted_38,[_hoisted_39,createVNode(u,{class:"text-link",to:t.getPageRoute(t.RouteName.Job)},{default:withCtx(()=>[createVNode(a,{zh:"\u627E\u6211\u5185\u63A8",en:"Find job"})]),_:1},8,["to"]),_hoisted_40,createVNode(u,{class:"text-link",to:t.getPageRoute(t.RouteName.Freelancer)},{default:withCtx(()=>[createVNode(a,{zh:"\u627E\u6211\u5E72\u6D3B",en:"Hire me"})]),_:1},8,["to"]),_hoisted_41,createVNode(u,{class:"text-link",to:t.getPageRoute(t.RouteName.Lens)},{default:withCtx(()=>[createVNode(a,{zh:"\u5173\u6CE8\u6211\u7684 Vlog",en:"Follow me"})]),_:1},8,["to"]),_hoisted_42,createVNode(u,{class:"text-link",to:t.getPageRoute(t.RouteName.Merch)},{default:withCtx(()=>[createVNode(a,{zh:"\u4F53\u9A8C\u6211\u7684\u5468\u8FB9",en:"Merch bar"})]),_:1},8,["to"])]),createBaseVNode("div",_hoisted_43,[_hoisted_44,createVNode(i,{class:"text-link",href:t.VALUABLE_LINKS.QQ_GROUP},{default:withCtx(()=>[createVNode(a,{zh:"\u5BC2\u5BDE\u540C\u6027\u4EA4\u53CB\u7FA4",en:"QQ group"})]),_:1},8,["href"]),_hoisted_45,createVNode(i,{class:"text-link",href:t.VALUABLE_LINKS.TELEGRAM_GROUP},{default:withCtx(()=>[createVNode(a,{zh:"\u7535\u62A5\u7FA4",en:"Telegram group"})]),_:1},8,["href"])]),_hoisted_46,createBaseVNode("div",_hoisted_47,[_hoisted_48,createBaseVNode("span",_hoisted_49,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.FRIEND_LINKS,(f,N)=>(openBlock(),createElementBlock("a",{key:f,href:f,class:"link",target:"_blank",rel:"external nofollow noopener"},toDisplayString(N),9,_hoisted_50))),128))]),_hoisted_51])]),createVNode(m,null,{default:withCtx(()=>[createBaseVNode("div",_hoisted_52,[createBaseVNode("div",_hoisted_53,[createVNode(g,{cdn:"",class:"image",src:"/images/page-about/wechat-qrcode.jpg"}),createBaseVNode("div",_hoisted_54,[createBaseVNode("span",_hoisted_55,[createVNode(a,{zh:"\u626B\u7801\u52A0\u5FAE\uFF0C\u70B9\u71C3\u7075\u9B42",en:"Scan the QR code on WeChat"})])])]),createBaseVNode("div",{class:"cover",onMouseenter:o[1]||(o[1]=(...f)=>t.handleHoverFollowMe&&t.handleHoverFollowMe(...f))},[createBaseVNode("div",_hoisted_56,[_hoisted_57,createVNode(a,{zh:"\u4F17\u91CC\u5BFB\u4ED6",en:"WeChat"})])],32)])]),_:1})]),_hoisted_58,createVNode(m,null,{default:withCtx(()=>[createBaseVNode("div",_hoisted_59,[createBaseVNode("div",_hoisted_60,[createVNode(i,{class:"button github",href:t.VALUABLE_LINKS.GITHUB_SPONSORS,onMousedown:t.handleTouchSponsor},{default:withCtx(()=>[_hoisted_61,_hoisted_62]),_:1},8,["href","onMousedown"]),createVNode(i,{class:"button paypal",href:t.VALUABLE_LINKS.PAYPAL,onMousedown:t.handleTouchSponsor},{default:withCtx(()=>[_hoisted_63,_hoisted_64]),_:1},8,["href","onMousedown"]),createVNode(i,{class:"button more",href:t.VALUABLE_LINKS.SPONSOR,onMousedown:t.handleTouchSponsor},{default:withCtx(()=>[_hoisted_65,_hoisted_66]),_:1},8,["href","onMousedown"])]),_hoisted_67,createVNode(g,{cdn:"",class:"pal",src:"/images/page-about/peace-and-love.jpg"}),_hoisted_68,createVNode(i,{class:"homepage-link",href:t.VALUABLE_LINKS.GITHUB},{default:withCtx(()=>[createVNode(g,{cdn:"",src:"/effects/ghchart.svg"})]),_:1},8,["href"])])]),_:1})])],2)}var AboutPage=_export_sfc(_sfc_main$B,[["render",_sfc_render$B],["__scopeId","data-v-73ded99b"]]),list_vue_vue_type_style_index_0_scoped_true_lang="";const _sfc_main$A=defineComponent({name:"MerchProducts",props:{imageStyle:Object,products:{type:Array,require:!0}}}),_withScopeId$g=t=>(pushScopeId("data-v-991ef5d8"),t=t(),popScopeId(),t),_hoisted_1$w={class:"products"},_hoisted_2$q={class:"content"},_hoisted_3$j=["innerHTML"],_hoisted_4$i={class:"detail"},_hoisted_5$g={class:"text"},_hoisted_6$f=["href"],_hoisted_7$d=createTextVNode(" \u53BB\u770B\u770B "),_hoisted_8$d=_withScopeId$g(()=>createBaseVNode("i",{class:"iconfont icon-new-window"},null,-1)),_hoisted_9$d=[_hoisted_7$d,_hoisted_8$d];function _sfc_render$A(t,o,n,s,r,l){const i=resolveComponent("ulink");return openBlock(),createElementBlock("ul",_hoisted_1$w,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.products,(a,c)=>(openBlock(),createElementBlock("li",{class:"item",key:c},[createBaseVNode("div",{class:"image",style:normalizeStyle(C({backgroundImage:`url('${a.src}')`},t.imageStyle))},null,4),createBaseVNode("div",_hoisted_2$q,[createVNode(i,{class:"title",href:a.url},{default:withCtx(()=>[createTextVNode(toDisplayString(a.name),1)]),_:2},1032,["href"]),createBaseVNode("p",{class:"description",innerHTML:a.description},null,8,_hoisted_3$j)]),createBaseVNode("div",_hoisted_4$i,[createBaseVNode("p",_hoisted_5$g,toDisplayString(a.detail||"\u6682\u65E0\u63CF\u8FF0"),1),createBaseVNode("a",{class:"link",target:"_blank",href:a.url},_hoisted_9$d,8,_hoisted_6$f)])]))),128))])}var ProductList=_export_sfc(_sfc_main$A,[["render",_sfc_render$A],["__scopeId","data-v-991ef5d8"]]),index_vue_vue_type_style_index_0_scoped_true_lang$2="";const _sfc_main$z=defineComponent({name:"MerchPage",components:{PageBanner,ProductList},setup(){const{i18n:t,meta:o,isMobile:n,isZhLang:s,adConfig:r}=useEnhancer(),l=computed(()=>r.value.PC_MERCH_PRODUCTS),i=computed(()=>r.value.PC_MERCH_BROKERS);return o(()=>{const a=firstUpperCase(t.t(LANGUAGE_KEYS.PAGE_MERCH,Language.En));return{pageTitle:(s.value?[t.t(LANGUAGE_KEYS.PAGE_MERCH),a]:[a]).join(" | "),description:`${META.author} \u7684\u5468\u8FB9\u597D\u7269`}}),{products:l,brokers:i,isMobile:n}}}),_withScopeId$f=t=>(pushScopeId("data-v-1053fe77"),t=t(),popScopeId(),t),_hoisted_1$v={class:"container"},_hoisted_2$p=_withScopeId$f(()=>createBaseVNode("div",{class:"module-title",id:"products"},"\u6211\u5728\u7528\u7684\u63A8\u8350\u597D\u7269",-1)),_hoisted_3$i=_withScopeId$f(()=>createBaseVNode("div",{class:"module-title",id:"brokers"},"\u6211\u7B5B\u9009\u540E\u5728\u7528\u7684\u6E2F\u7F8E\u80A1\u5238\u5546",-1)),_hoisted_4$h=_withScopeId$f(()=>createBaseVNode("div",{class:"end"},null,-1));function _sfc_render$z(t,o,n,s,r,l){const i=resolveComponent("i18n"),a=resolveComponent("page-banner"),c=resolveComponent("product-list");return openBlock(),createElementBlock("div",{class:normalizeClass(["merch-page",{mobile:t.isMobile}])},[createVNode(a,{position:70,image:"/images/page-merch/banner.jpg"},{title:withCtx(()=>[createVNode(i,{zh:"\u4EB2\u8EAB\u4F53\u9A8C\uFF0C\u771F\u5B9E\u4E0D\u865A",en:"Merch bar"})]),description:withCtx(()=>[createVNode(i,{zh:"\u624B\u52A8\u7EF4\u62A4\uFF0C\u672A\u7528\u4E0D\u63A8",en:"Maybe you will like it"})]),_:1}),createBaseVNode("div",_hoisted_1$v,[_hoisted_2$p,createVNode(c,{products:t.products},null,8,["products"]),_hoisted_3$i,createVNode(c,{products:t.brokers,"image-style":{backgroundSize:"50%"}},null,8,["products"]),_hoisted_4$h])],2)}var MerchPage=_export_sfc(_sfc_main$z,[["render",_sfc_render$z],["__scopeId","data-v-1053fe77"]]),freelancer_vue_vue_type_style_index_0_scoped_true_lang="";const _sfc_main$y=defineComponent({name:"FreelancerPage",components:{UAdsense,PageBanner},setup(){const{i18n:t,meta:o,gtag:n,isMobile:s,isZhLang:r}=useEnhancer();return o(()=>{const c=firstUpperCase(t.t(LANGUAGE_KEYS.PAGE_FREELANCER,Language.En));return{pageTitle:(r.value?[t.t(LANGUAGE_KEYS.PAGE_FREELANCER),c]:[c]).join(" | ")}}),{VALUABLE_LINKS,LANGUAGE_KEYS,services:[{id:"web",iconfont:"icon-html5",name:{zh:"Web \u5BA2\u6237\u7AEF",en:"Web Client"},descriptions:[{zh:"Vue \u5E94\u7528\u5F00\u53D1",en:"Vue application"},{en:"React application",zh:"React \u5E94\u7528\u5F00\u53D1"},{en:"Angular application",zh:"Angular \u5E94\u7528\u5F00\u53D1"}]},{id:"nodejs",iconfont:"icon-nodejs",name:"Node.js",descriptions:[{en:"Node.js application",zh:"Node.js \u6574\u7AD9\u5EFA\u8BBE"},{en:"Node.js online bussniess",zh:"Node.js Web \u670D\u52A1\u5F00\u53D1"},{en:"Node.js CLI application",zh:"Node.js \u547D\u4EE4\u884C\u5DE5\u5177\u5F00\u53D1"}]},{id:"app",iconfont:"icon-app",name:{zh:"\u6DF7\u5408\u5E94\u7528",en:"Hybrid App"},descriptions:[{en:"Flutter application",zh:"Flutter \u5E94\u7528\u5F00\u53D1"},{en:"React Native application",zh:"React Native \u5E94\u7528\u5F00\u53D1"},{en:"Electron application",zh:"Electron \u5E94\u7528\u5F00\u53D1"}]},{id:"wechat",iconfont:"icon-wechat",name:{zh:"\u5FAE\u4FE1\u5468\u8FB9",en:"WeChat"},descriptions:[{en:"HTML5 web page",zh:"H5 \u5F00\u53D1"},{en:"WeChat official account",zh:"\u516C\u4F17\u53F7\u5F00\u53D1"},{en:"WeChat mini program",zh:"\u5C0F\u7A0B\u5E8F\u5F00\u53D1"}]},{id:"consult",iconfont:"icon-tool",name:{zh:"\u6280\u672F\u54A8\u8BE2",en:"Consultant"},descriptions:[{en:"Everything about web",zh:"\u8BED\u8A00\u3001\u6846\u67B6\u7591\u96BE\u6742\u75C7"},{en:"Business and technical",zh:"\u4E1A\u52A1\u4E0E\u6280\u672F\u65B9\u6848\u8BBE\u8BA1"},{en:"Technical consultant",zh:"\u957F\u671F\u6280\u672F\u987E\u95EE\u6307\u5BFC"}]}],steps:[{name:{zh:"1. \u63D0\u4EA4\u9700\u6C42",en:"1. Consult"},descriptions:[{en:"Product requirements document",zh:"\u63D0\u4F9B\u6784\u601D\u6210\u719F\u7684\u9700\u6C42\u6587\u6863"},{en:"Prototype design document",zh:"\u6E05\u6670\u53EF\u7528\u7684\u8BBE\u8BA1\u56FE\u6216\u539F\u578B"}]},{name:{zh:"2. \u786E\u8BA4\u9700\u6C42",en:"2. Confirm"},descriptions:[{en:"Price and schedule",zh:"\u786E\u8BA4\u62A5\u4EF7\u53CA\u5F00\u53D1\u5468\u671F"},{en:"Development cycle",zh:"\u534F\u5546\u5F00\u53D1\u5468\u671F\u548C\u8981\u70B9"}]},{name:{zh:"3. \u9884\u4ED8\u5F00\u53D1",en:"3. Develop"},descriptions:[{en:"Payment the trust and deposit",zh:"\u9884\u4ED8\u90E8\u5206\u6216\u5168\u90E8"},{en:"Develop project",zh:"\u8FDB\u5165\u5F00\u53D1\u6D41\u7A0B"}]},{name:{zh:"4. \u9884\u6536\u4FEE\u6B63",en:"4. Review"},descriptions:[{en:"Review and experience",zh:"\u63D0\u4F9B\u9884\u89C8\u6F14\u793A"},{en:"Fixbug and optimize",zh:"\u7EC6\u8282\u4FEE\u6B63\u8C03\u4F18"}]},{name:{zh:"5. \u4EA4\u4ED8\u7EF4\u62A4",en:"5. Delivery"},descriptions:[{en:"Pay balance",zh:"\u4ED8\u6E05\u5C3E\u6B3E\uFF0C\u4EA4\u4ED8\u9879\u76EE"},{en:"Maintenance cycle",zh:"\u4E00\u5B9A\u5468\u671F\u5185\u6301\u7EED\u7EF4\u62A4"}]}],isMobile:s,handleSubmitEmail:()=>{const c=r.value?"\u55E8\uFF01Surmon\uFF0C\u4E45\u4EF0\u5927\u540D\uFF01":`Technical consultant / ${META.title}`,d=r.value?"\u6211\u6709\u4E00\u4E2A\u9700\u6C42\uFF1A%0D%0A %0D%0A - \u9700\u6C42\u7B80\u8FF0\uFF1A %0D%0A %0D%0A - \u9700\u6C42\u6587\u6863\uFF1A%0D%0A %0D%0A - \u9884\u7B97\u91D1\u989D\uFF1A%0D%0A %0D%0A - \u9884\u7B97\u5468\u671F\uFF1A":"Hi Surmon, My name is ",u=`mailto:${META.email}`+(s.value?"":`?subject=${c}&body=${d}`);window.open(u),n==null||n.event("\u54A8\u8BE2\u90AE\u4EF6",{event_category:GAEventActions.Click,event_label:GAEventTags.FreelancerPage})}}}}),_withScopeId$e=t=>(pushScopeId("data-v-ef63dd16"),t=t(),popScopeId(),t),_hoisted_1$u={class:"title"},_hoisted_2$o={class:"desc"},_hoisted_3$h=_withScopeId$e(()=>createBaseVNode("i",{class:"iconfont icon-upwork"},null,-1)),_hoisted_4$g={class:"module"},_hoisted_5$f={class:"container"},_hoisted_6$e={class:"module-list"},_hoisted_7$c={class:"name"},_hoisted_8$c={key:0},_hoisted_9$c={class:"mammon container"},_hoisted_10$c={class:"step"},_hoisted_11$9={class:"step-content container"},_hoisted_12$9={class:"step-list"},_hoisted_13$7={class:"name"},_hoisted_14$5={class:"rule"},_hoisted_15$5={class:"rule-content container"};function _sfc_render$y(t,o,n,s,r,l){const i=resolveComponent("i18n"),a=resolveComponent("ulink"),c=resolveComponent("desktop-only"),d=resolveComponent("page-banner"),u=resolveComponent("u-adsense"),g=resolveComponent("client-only");return openBlock(),createElementBlock("div",{class:normalizeClass(["freelancer-page",{mobile:t.isMobile}])},[createVNode(d,{class:"banner-content",position:66,image:"/images/page-feeelancer/banner.jpg"},{title:withCtx(()=>[createBaseVNode("div",_hoisted_1$u,[createVNode(i,{lkey:t.LANGUAGE_KEYS.PAGE_FREELANCER_SLOGAN},null,8,["lkey"])])]),description:withCtx(()=>[createBaseVNode("div",_hoisted_2$o,[createBaseVNode("button",{class:"submit-email",title:"email me",onClick:o[0]||(o[0]=(...m)=>t.handleSubmitEmail&&t.handleSubmitEmail(...m))},[createVNode(i,{lkey:t.LANGUAGE_KEYS.PAGE_FREELANCER_EMAIL_ME},null,8,["lkey"])]),createVNode(c,null,{default:withCtx(()=>[createVNode(a,{class:"upwork",href:t.VALUABLE_LINKS.UPWORK},{default:withCtx(()=>[createVNode(i,{lkey:t.LANGUAGE_KEYS.PAGE_FREELANCER_HIRE_ME},null,8,["lkey"]),_hoisted_3$h]),_:1},8,["href"])]),_:1})])]),_:1}),createBaseVNode("div",_hoisted_4$g,[createBaseVNode("div",_hoisted_5$f,[createBaseVNode("ul",_hoisted_6$e,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.services,(m,$)=>(openBlock(),createElementBlock("li",{class:"item",key:$},[createBaseVNode("p",{class:normalizeClass(["icon",m.id])},[createBaseVNode("i",{class:normalizeClass(["iconfont",m.iconfont])},null,2)],2),createBaseVNode("h3",_hoisted_7$c,[typeof m.name=="string"?(openBlock(),createElementBlock("span",_hoisted_8$c,toDisplayString(m.name),1)):(openBlock(),createBlock(i,{key:1,en:m.name.en,zh:m.name.zh},null,8,["en","zh"]))]),(openBlock(!0),createElementBlock(Fragment,null,renderList(m.descriptions,(E,f)=>(openBlock(),createElementBlock("p",{class:"desc",key:f},[createVNode(i,{en:E.en,zh:E.zh},null,8,["en","zh"])]))),128))]))),128))])])]),createVNode(c,null,{default:withCtx(()=>[createVNode(g,{transition:""},{default:withCtx(()=>[createBaseVNode("div",_hoisted_9$c,[createVNode(u,{"ins-style":"display:inline-block;width:1050px;height:192px"})])]),_:1})]),_:1}),createBaseVNode("div",_hoisted_10$c,[createBaseVNode("div",_hoisted_11$9,[createBaseVNode("ul",_hoisted_12$9,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.steps,(m,$)=>(openBlock(),createElementBlock("li",{class:"item",key:$},[createBaseVNode("h3",_hoisted_13$7,[createVNode(i,{zh:m.name.zh,en:m.name.en},null,8,["zh","en"])]),(openBlock(!0),createElementBlock(Fragment,null,renderList(m.descriptions,(E,f)=>(openBlock(),createElementBlock("p",{class:"desc",key:f},[createVNode(i,{en:E.en,zh:E.zh},null,8,["en","zh"])]))),128))]))),128))])])]),createBaseVNode("div",_hoisted_14$5,[createBaseVNode("div",_hoisted_15$5,[createVNode(i,{zh:"\u5982\u679C\u4F60\u8BA4\u4E3A\u81EA\u5DF1\u7684\u80FD\u529B\u8DB3\u4EE5\u652F\u6491\u4E00\u4F4D\u51FA\u8272\u3001\u7701\u5FC3\u3001\u4F18\u79C0\u3001\u5E05\u6C14\u3001\u5B8C\u7F8E\u7684\u7684\u5168\u6808\u5DE5\u7A0B\u5E08\u7684\u751F\u4EA7\u529B\uFF0C\u8BF7 EMail \u6211\uFF1B\u975E\u5E38\u4F18\u79C0\uFF0C\u6CA1\u6709\u4E4B\u4E00",en:"Any application that can be written in JavaScript, will eventually be written in JavaScript."})])])],2)}var FreelancerPage=_export_sfc(_sfc_main$y,[["render",_sfc_render$y],["__scopeId","data-v-ef63dd16"]]),guestbook_vue_vue_type_style_index_0_scoped_true_lang="";const _sfc_main$x=defineComponent({name:"GuestbookPage",components:{Comment},setup(){const{i18n:t,meta:o,isMobile:n,isDarkTheme:s,isZhLang:r}=useEnhancer(),l=useMetaStore(),i=useCommentStore(),a=computed(()=>{var d;return((d=l.appOptions.data)==null?void 0:d.meta.likes)||0});o(()=>{const d=firstUpperCase(t.t(LANGUAGE_KEYS.PAGE_GUESTBOOK,Language.En));return{pageTitle:(r.value?[t.t(LANGUAGE_KEYS.PAGE_GUESTBOOK),d]:[d]).join(" | "),description:`\u7ED9 ${META.author} \u7559\u8A00`}});const c=()=>Promise.all([l.fetchAppOptions(!0),i.fetchList({post_id:0,delay:368})]);return useUniversalFetch(()=>c()),{LANGUAGE_KEYS,isMobile:n,isDarkTheme:s,siteLikes:a}}}),_hoisted_1$t={class:"banner"},_hoisted_2$n={class:"slogan"},_hoisted_3$g={class:"text"},_hoisted_4$f={class:"comment"};function _sfc_render$x(t,o,n,s,r,l){const i=resolveComponent("uimage"),a=resolveComponent("i18n"),c=resolveComponent("comment");return openBlock(),createElementBlock("div",{class:normalizeClass(["guestbook-page",{mobile:t.isMobile,dark:t.isDarkTheme}])},[createBaseVNode("div",_hoisted_1$t,[createVNode(i,{cdn:"",class:"image",src:"/images/page-guestbook/banner.jpg"}),createBaseVNode("span",_hoisted_2$n,[createBaseVNode("span",_hoisted_3$g,[createVNode(a,{lkey:t.LANGUAGE_KEYS.GUESTBOOK_SLOGAN},null,8,["lkey"])])])]),createBaseVNode("div",_hoisted_4$f,[createVNode(c,{"post-id":0,likes:t.siteLikes},null,8,["likes"])])],2)}var GuestbookPage=_export_sfc(_sfc_main$x,[["render",_sfc_render$x],["__scopeId","data-v-3c3dc145"]]),app_vue_vue_type_style_index_0_scoped_true_lang="";const _sfc_main$w=defineComponent({name:"Application",setup(){const{i18n:t,meta:o,gtag:n,isMobile:s,isZhLang:r}=useEnhancer();o(()=>{const a=firstUpperCase(t.t(LANGUAGE_KEYS.PAGE_APP,Language.En));return{pageTitle:(r.value?[t.t(LANGUAGE_KEYS.PAGE_APP),a]:[a]).join(" | "),description:`${META.title} App \u4E0B\u8F7D`}});const l=a=>{n==null||n.event(a,{event_category:GAEventActions.Click,event_label:GAEventTags.AppPage})};return{META,VALUABLE_LINKS,LANGUAGE_KEYS,isMobile:s,handleAppAction:l,handleAndroidApp:a=>{l("APP Android \u4E0B\u8F7D"),window.confirm(r.value?"Android apk \u6587\u4EF6\u6258\u7BA1\u5728 GitHub\uFF0C\u5E0C\u671B\u4F60\u53EF\u4EE5\u987A\u5229\u8BBF\u95EE~":"Will open raw.githubusercontent.com to download android app...")||a.preventDefault()}}}}),_withScopeId$d=t=>(pushScopeId("data-v-33f3d68e"),t=t(),popScopeId(),t),_hoisted_1$s={class:"app"},_hoisted_2$m={class:"logo"},_hoisted_3$f={class:"title"},_hoisted_4$e={class:"desc"},_hoisted_5$e=_withScopeId$d(()=>createBaseVNode("p",{class:"version"},"v1.1.4 (2020-03-06)",-1)),_hoisted_6$d={class:"screen"},_hoisted_7$b={class:"download"},_hoisted_8$b=_withScopeId$d(()=>createBaseVNode("i",{class:"iconfont icon-android"},null,-1)),_hoisted_9$b={class:"text"},_hoisted_10$b=_withScopeId$d(()=>createBaseVNode("i",{class:"iconfont icon-apple"},null,-1)),_hoisted_11$8={class:"text"},_hoisted_12$8=_withScopeId$d(()=>createBaseVNode("i",{class:"iconfont icon-git"},null,-1)),_hoisted_13$6=_withScopeId$d(()=>createBaseVNode("span",{class:"text"},"Source Code",-1));function _sfc_render$w(t,o,n,s,r,l){const i=resolveComponent("uimage"),a=resolveComponent("i18n"),c=resolveComponent("ulink");return openBlock(),createElementBlock("div",{class:normalizeClass(["app-page",{mobile:t.isMobile}])},[createBaseVNode("div",_hoisted_1$s,[createBaseVNode("div",_hoisted_2$m,[createVNode(i,{cdn:"",alt:"app-logo",src:"/images/page-app/logo.png"})]),createBaseVNode("h2",_hoisted_3$f,toDisplayString(t.META.title),1),createBaseVNode("p",_hoisted_4$e,[createVNode(a,{lkey:t.LANGUAGE_KEYS.APP_SLOGAN},null,8,["lkey"])]),_hoisted_5$e,createBaseVNode("div",_hoisted_6$d,[createVNode(i,{cdn:"",alt:"app-hot",class:"screen-img",src:"/images/page-app/hot.png"}),createBaseVNode("div",_hoisted_7$b,[createVNode(i,{cdn:"",class:"qrcode",alt:"qrcode",src:"/images/page-app/qrcode.png"}),createVNode(c,{class:"button",href:t.VALUABLE_LINKS.APP_APK_FILE,onClick:o[0]||(o[0]=d=>t.handleAndroidApp(d))},{default:withCtx(()=>[_hoisted_8$b,createBaseVNode("span",_hoisted_9$b,[createVNode(a,{lkey:t.LANGUAGE_KEYS.DEVICE_ANDROID},null,8,["lkey"])])]),_:1},8,["href"]),createVNode(c,{class:"button",href:t.VALUABLE_LINKS.SURMON_APP_REPOSITORIE+"#ios",onMousedown:o[1]||(o[1]=d=>t.handleAppAction("APP IOS"))},{default:withCtx(()=>[_hoisted_10$b,createBaseVNode("span",_hoisted_11$8,[createVNode(a,{lkey:t.LANGUAGE_KEYS.DEVICE_IOS},null,8,["lkey"])])]),_:1},8,["href"]),createVNode(c,{class:"button code",href:t.VALUABLE_LINKS.SURMON_APP_REPOSITORIE,onMousedown:o[2]||(o[2]=d=>t.handleAppAction("APP GitHub \u5730\u5740"))},{default:withCtx(()=>[_hoisted_12$8,_hoisted_13$6]),_:1},8,["href"])])])])],2)}var AppPage=_export_sfc(_sfc_main$w,[["render",_sfc_render$w],["__scopeId","data-v-33f3d68e"]]),CategorySlug;(function(t){t.Code="code",t.Insight="insight"})(CategorySlug||(CategorySlug={}));var RouteName;(function(t){t.Home="home",t.Article="article-detail",t.TagArchive="tag-archive",t.CategoryArchive="category-archive",t.DateArchive="date-archive",t.SearchArchive="search-archive",t.Guestbook="guestbook",t.Freelancer="freelancer",t.App="app",t.Music="music",t.Job="job",t.About="about",t.Merch="merch",t.Lens="lens",t.Archive="archive",t.Error="error"})(RouteName||(RouteName={}));const routes=[{path:"/",name:RouteName.Home,component:IndexPage},{path:"/archive",name:RouteName.Archive,component:ArchivePage,meta:{ssrCacheAge:60*60*6,layout:LayoutColumn.Full}},{path:"/article/:article_id",name:RouteName.Article,component:ArticlePage,props:t=>({articleId:Number(t.params.article_id)}),meta:{async validate({route:t,i18n:o}){if(!Number.isInteger(Number(t.params.article_id)))return Promise.reject({code:INVALID_ERROR,message:o.t(LANGUAGE_KEYS.QUERY_PARAMS_ERROR)+"Article ID \u2192 <number>"})}}},{path:"/category/:category_slug",name:RouteName.CategoryArchive,component:CategoryPage,props:t=>({categorySlug:t.params.category_slug}),meta:{async validate({route:t,i18n:o,store:n}){var r;const{category_slug:s}=t.params;if(!s)return Promise.reject({code:INVALID_ERROR,message:o.t(LANGUAGE_KEYS.QUERY_PARAMS_ERROR)+"Category slug \u2192 <string>"});if(!((r=n.state.value)==null?void 0:r.category.categories.find(i=>i.slug===s)))return Promise.reject({code:NOT_FOUND,message:o.t(LANGUAGE_KEYS.QUERY_PARAMS_ERROR)+`Category ${s} not found`})}}},{path:"/tag/:tag_slug",name:RouteName.TagArchive,component:TagPage,props:t=>({tagSlug:t.params.tag_slug}),meta:{async validate({route:t,i18n:o,store:n}){var r;const{tag_slug:s}=t.params;if(!s)return Promise.reject({code:INVALID_ERROR,message:o.t(LANGUAGE_KEYS.QUERY_PARAMS_ERROR)+"Tag slug \u2192 <string>"});if(!((r=n.state.value)==null?void 0:r.tag.tags.find(i=>i.slug===s)))return Promise.reject({code:NOT_FOUND,message:o.t(LANGUAGE_KEYS.QUERY_PARAMS_ERROR)+`Tag ${s} not found`})}}},{path:"/date/:date",name:RouteName.DateArchive,component:DatePage,props:t=>({date:t.params.date}),meta:{ssrCacheAge:60*60*24,async validate({route:t,i18n:o}){const{date:n}=t.params;if(!n||!isValidDateParam(n))return Promise.reject({code:INVALID_ERROR,message:o.t(LANGUAGE_KEYS.QUERY_PARAMS_ERROR)+`Invalid date ${n||""}`})}}},{path:"/search/:keyword",name:RouteName.SearchArchive,component:SearchPage,props:t=>({keyword:t.params.keyword}),meta:{async validate({route:t,i18n:o}){if(!t.params.keyword)return Promise.reject({code:INVALID_ERROR,message:o.t(LANGUAGE_KEYS.QUERY_PARAMS_ERROR)+"Keywords ?"})}}},{path:"/music",name:RouteName.Music,component:MusicPage,meta:{ssrCacheAge:1/0,layout:LayoutColumn.Full}},{path:"/lens",name:RouteName.Lens,component:LensPage,meta:{ssrCacheAge:60*60*24,layout:LayoutColumn.Full}},{path:"/job",name:RouteName.Job,component:JobPage,meta:{ssrCacheAge:1/0,layout:LayoutColumn.Full}},{path:"/about",name:RouteName.About,component:AboutPage,meta:{ssrCacheAge:1/0,layout:LayoutColumn.Full}},{path:"/merch",name:RouteName.Merch,component:MerchPage,meta:{ssrCacheAge:60*30,layout:LayoutColumn.Full}},{path:"/freelancer",name:RouteName.Freelancer,component:FreelancerPage,meta:{ssrCacheAge:1/0,layout:LayoutColumn.Full}},{path:"/guestbook",name:RouteName.Guestbook,component:GuestbookPage,meta:{ssrCacheAge:60*2}},{path:"/app",name:RouteName.App,component:AppPage,meta:{ssrCacheAge:1/0,layout:LayoutColumn.Full}},{name:RouteName.Error,path:"/:error(.*)",component:{},meta:{async validate({i18n:t}){return Promise.reject({code:NOT_FOUND,message:t.t(LANGUAGE_KEYS.NOT_FOUND)})}}}],createUniversalRouter=t=>{const o=createRouter({routes,strict:!0,history:t.history,linkActiveClass:"link-active",scrollBehavior(n,s,r){return r||scrollToTop()}});return t.beforeMiddleware&&(Array.isArray(t.beforeMiddleware)?t.beforeMiddleware.forEach(o.beforeResolve):o.beforeResolve(t.beforeMiddleware)),t.afterMiddleware&&(Array.isArray(t.afterMiddleware)?t.afterMiddleware.forEach(o.afterEach):o.afterEach(t.afterMiddleware)),o},getTagArchiveRoute=t=>`/tag/${t}`,getCategoryArchiveRoute=t=>`/category/${t}`,getDateArchiveRoute=t=>`/date/${t}`,getArticleDetailRoute=t=>`/article/${t}`,getPageRoute=t=>`/${t}`,isArticleDetail=t=>t===RouteName.Article,isSearchArchive=t=>t===RouteName.SearchArchive,getFileCDNUrl=t=>`${API_CONFIG.CDN}${t}`,getFileProxyUrl=t=>`${API_CONFIG.PROXY}${t}`,getFileStaticUrl=t=>`${API_CONFIG.STATIC}${t}`,getPageUrl=t=>`${API_CONFIG.FE}${t}`;onClient(()=>{window.Amplitude=window.Amplitude||amplitude});const ADS_SCRIPT="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js",getComponent=t=>defineComponent({name:"Adsense",props:{class:String,insClass:{type:String,default:""},insStyle:{type:String,default:"display:block;"},dataAdClient:String,dataAdSlot:String,dataAdLayoutKey:String,dataAdTest:String,dataAdFormat:String,dataFullWidthResponsive:[Boolean,String]},setup(o){const{i18n:n}=useEnhancer();return()=>{const a=o,{class:s,insClass:r,insStyle:l}=a,i=B(a,["class","insClass","insStyle"]);return h("div",{class:["mammon-box",s],placeholder:n.t(LANGUAGE_KEYS.AD)},[h("script",{type:"text/javascript",async:"true",src:ADS_SCRIPT}),h("ins",C({class:["adsbygoogle",r],style:l,"data-ad-client":t},i)),h("script","(adsbygoogle = window.adsbygoogle || []).push({})")])}}});var adsense={install(t,o){const n=getComponent(o.ID);t.component(n.name,n),o.enabledAutoAD&&loadScript(ADS_SCRIPT,{async:!0}).then(()=>{(window.adsbygoogle||[]).push({google_ad_client:o.ID,enable_page_level_ads:!0})})}},root_vue_vue_type_style_index_0_scoped_true_lang="";const _sfc_main$v=defineComponent({name:"PopupRoot",setup(){const t=ref(null),{state:o,image:n,hidden:s,visible:r}=usePopupWithRoot(()=>t.value),l=()=>s(),i=()=>{o.maskClose&&s()};return watchEffect(()=>{o.scrollClose?window.addEventListener("scroll",l,{passive:!0}):window.removeEventListener("scroll",l)}),{element:t,state:o,image:n,handleMaskClick:i}}}),_hoisted_1$r={id:"popup",class:"popup"},_hoisted_2$l=["src"];function _sfc_render$v(t,o,n,s,r,l){return openBlock(),createElementBlock("div",_hoisted_1$r,[createVNode(Transition,{name:"module"},{default:withCtx(()=>[withDirectives(createBaseVNode("div",{class:"mask",onClick:o[0]||(o[0]=withModifiers((...i)=>t.handleMaskClick&&t.handleMaskClick(...i),["self"]))},[createBaseVNode("div",{ref:"element",class:normalizeClass(["warpper",{border:t.state.border}])},[t.state.isImage?(openBlock(),createElementBlock("img",mergeProps({key:0},t.image.attrs,{src:t.image.src||""}),null,16,_hoisted_2$l)):createCommentVNode("",!0)],2)],512),[[vShow,t.state.visibility]])]),_:1})])}var PopupRootComponent=_export_sfc(_sfc_main$v,[["render",_sfc_render$v],["__scopeId","data-v-4101cd9e"]]);const PopupUIProps={border:{type:Boolean,default:!0},maskClose:{type:Boolean,default:!0},scrollClose:{type:Boolean,default:!0}},getOtherProps=r=>{var l=r,{border:t,maskClose:o,scrollClose:n}=l,s=B(l,["border","maskClose","scrollClose"]);return s};var Event$1;(function(t){t.Close="close",t.UpdateVisible="update:visible"})(Event$1||(Event$1={}));var PopupComponent=defineComponent({name:"Popup",props:C({visible:{type:Boolean,default:!1},clone:{type:Boolean,default:!1}},PopupUIProps),emits:[Event$1.Close,Event$1.UpdateVisible],setup(t,o){const n=usePopup();return watch(()=>t.visible,s=>{const a=t,{clone:r,visible:l}=a,i=B(a,["clone","visible"]);s?n.visible(i):n.hidden()}),watch(()=>n.state.visibility,s=>{!s&&t.visible&&(o.emit(Event$1.UpdateVisible,!1),o.emit(Event$1.Close))}),()=>{const s=()=>{var i,a;return(a=(i=o.slots).default)==null?void 0:a.call(i)},r=()=>h(Teleport,{to:n.state.$container},s()),l=()=>t.visible?r():null;return t.clone?h(Fragment,[s(),l()]):l()}}}),PopupImageComponent=defineComponent({name:"PopupImage",props:C({src:String},PopupUIProps),setup(t,o){const n=usePopup();return()=>{const a=t,{src:s}=a,r=B(a,["src"]);if(!s)return null;const l=getOtherProps(t),i=C(C({},l),o.attrs);return h("img",S(C({},i),{src:s,onClick(...c){var d;(d=l==null?void 0:l.onClick)==null||d.call(l,...c),n==null||n.vImage(s,i,r)}}))}}});const createPopupStore=()=>{const t=reactive({src:null,attrs:null}),o=reactive({visibility:!1,isImage:!1,border:!0,maskClose:!0,scrollClose:!0,$container:null}),n=i=>{if(!o.visibility){i==null||i();return}o.visibility=!1,o.isImage=!1,t.src=null,t.attrs=null,i&&nextTick(i)},s=i=>{n(()=>{Object.assign(o,S(C({},i),{isImage:!1,visibility:!0}))})},r=(i,a,c)=>{n(()=>{t.src=i,t.attrs=a,Object.assign(o,S(C({},c),{isImage:!0,visibility:!0}))})},l=i=>{o.$container=i};return{state:readonly(o),image:readonly(t),visible:s,hidden:n,vImage:r,$setRoot:l}},createPopup=()=>{const t=createPopupStore();return S(C({},t),{install(o,n){o.provide(PopupSymbol,t),o.component(PopupComponent.name,PopupComponent),o.component(PopupImageComponent.name,PopupImageComponent),o.component(PopupRootComponent.name,PopupRootComponent),(n==null?void 0:n.exportToGlobal)&&(window.$popup=t)}})},consoleSlogan=t=>{console.clear(),console.log(`%c${t.t(LANGUAGE_KEYS.APP_SLOGAN)} %c${META.email}`,"color:#666;font-size:3em;","color:#666;font-size:13px;")},enableCopyrighter=()=>{const t=()=>["","\u8457\u4F5C\u6743\u5F52\u4F5C\u8005\u6240\u6709\u3002","\u5546\u4E1A\u8F6C\u8F7D\u8BF7\u8054\u7CFB\u4F5C\u8005\u83B7\u5F97\u6388\u6743\uFF0C\u975E\u5546\u4E1A\u8F6C\u8F7D\u8BF7\u6CE8\u660E\u51FA\u5904\u3002",`\u4F5C\u8005\uFF1A${META.author}`,"\u94FE\u63A5\uFF1A"+location.href,`\u6765\u6E90\uFF1A${META.title}`,""].join(`
`),o=s=>s+t(),n=s=>s+t();document.addEventListener("copy",s=>{var r,l,i;if(!!window.getSelection&&!window.$isCopyFromApp){const a=(r=window.getSelection())==null?void 0:r.toString();(l=s.clipboardData)==null||l.setData("text/plain",o(a)),(i=s.clipboardData)==null||i.setData("text/html",n(a)),s.preventDefault()}})},enableBaiduSEOer=t=>{const o=n=>{const s=/([http|https]:\/\/[a-zA-Z0-9\_\.]+\.baidu\.com)/gi,r=n,l=document.referrer;if(!s.test(r)){let i="https://sp0.baidu.com/9_Q4simg2RQJ8t7jm9iCKT-xh_/s.gif";l?(i+="?r="+encodeURIComponent(document.referrer),r&&(i+="&l="+r)):r&&(i+="?l="+r);const a=new Image;a.src=i}};o(window.location.href),t.afterEach(n=>{o(window.location.origin+n.fullPath)})};async function renderTextToDataURL(t="",o=16){const s=(i=>Object.assign(document.createElement("canvas"),{width:i,height:i}))(o*2),r=s.getContext("2d");return r.clearRect(0,0,s.width,s.height),r.font=`${o}px Apple Color Emoji`,r.textAlign="center",r.textBaseline="middle",r.fillText(t,o*2/2,o*2/2),(i=>{const a=(k,L,b)=>{for(let T=0;T<L;++T)if(k.data[b*L*4+T*4+3]!==0)return!1;return!0},c=(k,L,b,T,D)=>{for(let I=T;I<D;++I)if(k.data[I*L*4+b*4+3]!==0)return!1;return!0},d=i.getContext("2d"),u=i.width,g=d.getImageData(0,0,i.width,i.height);let m=0,$=g.height,E=0,f=g.width;for(;m<$&&a(g,u,m);)++m;for(;$-1>m&&a(g,u,$-1);)--$;for(;E<f&&c(g,u,E,m,$);)++E;for(;f-1>E&&c(g,u,f-1,m,$);)--f;const N=d.getImageData(E,m,f-E,$-m),v=Math.max(N.width,N.height),A=Object.assign(document.createElement("canvas"),{width:v,height:v});return A.getContext("2d").putImageData(N,(v-N.width)/2,(v-N.height)/2),A})(s).toDataURL("image/png")}const getFavicon=()=>{var t;return(t=Array.from(document.getElementsByTagName("link")).find(o=>o.getAttribute("rel")=="icon"))==null?void 0:t.getAttribute("href")},setFavicon=async t=>{var o;(o=Array.from(document.getElementsByTagName("link")).find(n=>n.getAttribute("rel")=="icon"))==null||o.setAttribute("href",t)},reallyFavicon=getFavicon();let reallyTitle=document.title;const resetTitler=()=>{document.title=reallyTitle,setFavicon(reallyFavicon)},runTitler=async({favicon:t,title:o})=>{reallyTitle=document.title,document.title=o,setFavicon(await renderTextToDataURL(t,28))},exportEmojiRainToGlobal=()=>{window.$Emoji233333=e},exportStickyEventsToGlobal=()=>{window.$StickyEvents=StickyEvents},exportAppToGlobal=t=>{window.$app=t},createUniversalStore=t=>{const o=createPinia(),n=()=>{const s=[useTagStore().fetchAll(),useCategoryStore().fetchAll(),useMetaStore().fetchAdminInfo(),useMetaStore().fetchAppOptions()];return t.globalState.userAgent.isMobile||s.push(useArticleStore().fetchHotList()),Promise.all(s)};return{state:o.state,install:o.install,prefetch:n,initInSSR(){const s=getSSRContext("store");s?o.state.value=s:n()},initInSPA(){return n()}}};var Ulink=defineComponent({name:"Ulink",props:{text:String,external:{type:Boolean,default:!0},blank:{type:Boolean,default:!0}},setup(t,o){return()=>{var c,d;const a=t,{text:n,external:s,blank:r}=a,l=B(a,["text","external","blank"]),i={};return s&&(i.rel="external nofollow noopener"),r&&(i.target="_blank"),h("a",C(C({},l),i),((d=(c=o.slots).default)==null?void 0:d.call(c))||n)}}}),Uimage=defineComponent({name:"Uimage",props:{src:{type:String,required:!0},cdn:Boolean,proxy:Boolean,defer:Boolean},setup(t){const{defer:o}=useEnhancer(),n=ref(!1);return t.defer&&onClient(()=>{o.addTask(()=>{n.value=!0})}),()=>{const d=t,{src:s,cdn:r,proxy:l,defer:i}=d,a=B(d,["src","cdn","proxy","defer"]);let c=s;return r&&(c=getFileCDNUrl(s)),l&&(c=getFileProxyUrl(s)),i&&!n.value?null:h("img",S(C({draggable:!1},a),{src:c}))}}}),empty_vue_vue_type_style_index_0_scoped_true_lang="";const _sfc_main$u=defineComponent({name:"Empty",props:{placeholder:String,i18nKey:String},setup(){return{LANGUAGE_KEYS}}}),_hoisted_1$q={class:"empty"};function _sfc_render$u(t,o,n,s,r,l){const i=resolveComponent("i18n");return openBlock(),createElementBlock("div",_hoisted_1$q,[renderSlot(t.$slots,"default",{},()=>[t.placeholder?(openBlock(),createElementBlock(Fragment,{key:0},[createTextVNode(toDisplayString(t.placeholder),1)],64)):(openBlock(),createBlock(i,{key:1,lkey:t.i18nKey||t.LANGUAGE_KEYS.EMPTY_PLACEHOLDER},null,8,["lkey"]))],!0)])}var Empty=_export_sfc(_sfc_main$u,[["render",_sfc_render$u],["__scopeId","data-v-2f2a028e"]]),spin_vue_vue_type_style_index_0_scoped_true_lang="";const _sfc_main$t=defineComponent({name:"Spin",props:{loading:{type:Boolean,default:!0},color:{type:String,default:"rgba(197, 197, 197, 0.4)"},height:{type:String,default:"15px"},width:{type:String,default:"15px"},margin:{type:String,default:"5px"}},data(){return{spinnerStyle:{backgroundColor:this.color,height:this.height,width:this.width,margin:this.margin}}}}),_hoisted_1$p={class:"spinner-box"},_hoisted_2$k={class:"spinner-inner"},_hoisted_3$e={class:"la-ball-beat"};function _sfc_render$t(t,o,n,s,r,l){return withDirectives((openBlock(),createElementBlock("div",_hoisted_1$p,[createBaseVNode("div",_hoisted_2$k,[createBaseVNode("div",_hoisted_3$e,[createBaseVNode("div",{style:normalizeStyle(t.spinnerStyle)},null,4),createBaseVNode("div",{style:normalizeStyle(t.spinnerStyle)},null,4),createBaseVNode("div",{style:normalizeStyle(t.spinnerStyle)},null,4)])])],512)),[[vShow,t.loading]])}var Spin=_export_sfc(_sfc_main$t,[["render",_sfc_render$t],["__scopeId","data-v-8744e7a4"]]),Events;(function(t){t.AfterEnter="after-enter"})(Events||(Events={}));var Placeholder=defineComponent({name:"Placeholder",props:{data:{type:[Array,Object,Boolean,Number],default:void 0},transition:{type:Boolean,default:!0},transitionName:{type:String,default:"module"},placeholder:String,i18nKey:String,loading:Boolean},emits:[Events.AfterEnter],setup(t,o){return()=>{const{data:n,placeholder:s,i18nKey:r,loading:l,transition:i,transitionName:a}=t,c=n!==void 0&&(Array.isArray(n)&&!n.length||!n),d=()=>{var $,E;return s||r?h(Empty,{placeholder:s,i18nKey:r}):(E=($=o.slots).placeholder)==null?void 0:E.call($)},u=()=>{var $,E;return c?d():(E=($=o.slots).default)==null?void 0:E.call($)},g=()=>{var $,E;return((E=($=o.slots).loading)==null?void 0:E.call($))||h(Spin,{loading:!0})},m=()=>l?g():u();return i?h(Transition,{name:a,mode:"out-in",onAfterEnter(...$){o.emit(Events.AfterEnter,...$)}},()=>m()):m()}}}),base_vue_vue_type_style_index_0_scoped_true_lang="";const _sfc_main$s=defineComponent({name:"SkeletonBase",props:{width:{type:Number},height:{type:Number},circle:{type:Boolean,default:!1},radius:{type:Number,default:2}},setup(t){return{style:computed(()=>C(C({borderRadius:t.circle?"100%":`${t.radius}px`},t.width&&{width:t.width+"px"}),t.height&&{height:t.height+"px"}))}}});function _sfc_render$s(t,o,n,s,r,l){return openBlock(),createElementBlock("div",{class:"skeleton base",style:normalizeStyle(t.style)},null,4)}var SkeletonBase=_export_sfc(_sfc_main$s,[["render",_sfc_render$s],["__scopeId","data-v-6f0edd84"]]),line_vue_vue_type_style_index_0_scoped_true_lang="";const _sfc_main$r=defineComponent({name:"SkeletonLine",components:{SkeletonBase},props:{width:{type:Number},height:{type:Number}},setup(t){return{style:computed(()=>C(C({},t.width&&{width:t.width+"px"}),t.height&&{height:t.height+"px"}))}}});function _sfc_render$r(t,o,n,s,r,l){const i=resolveComponent("skeleton-base");return openBlock(),createElementBlock("div",{class:"skeleton line",style:normalizeStyle(t.style)},[createVNode(i)],4)}var SkeletonLine=_export_sfc(_sfc_main$r,[["render",_sfc_render$r],["__scopeId","data-v-04d949d4"]]);const _sfc_main$q=defineComponent({name:"SkeletonParagraph",components:{SkeletonLine},props:{lines:{type:Number,default:1},width:{type:Number},height:{type:Number},align:{type:Boolean,default:!1},lineHeight:{type:String,default:"1rem"}},setup(t){return{style:computed(()=>C(C({},t.width&&{width:t.width+"px"}),t.height&&{height:t.height+"px"})),getLineStyle:s=>{const r={height:t.lineHeight,marginBottom:s===t.lines-1?"0":`calc(${t.lineHeight} * 0.75)`},l=s%3;if(l){const i=15*l;r.width=`${100-i}%`,r.marginLeft=t.align?"0":"6%"}return r}}}});function _sfc_render$q(t,o,n,s,r,l){const i=resolveComponent("skeleton-line");return openBlock(),createElementBlock("div",{class:"skeleton paragraph",style:normalizeStyle(t.style)},[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.lines,(a,c)=>(openBlock(),createBlock(i,{key:c,style:normalizeStyle(t.getLineStyle(c)),class:"paragraph-line"},null,8,["style"]))),128))],4)}var SkeletonParagraph=_export_sfc(_sfc_main$q,[["render",_sfc_render$q]]);const Responsive=defineComponent({name:"Responsive",props:{both:Boolean,desktop:Boolean,mobile:Boolean},setup(t,o){const n=useGlobalState();return()=>{var s,r,l,i,a,c,d,u,g,m;return t.both?(r=(s=o.slots).default)==null?void 0:r.call(s):t.desktop&&!n.userAgent.isMobile?(i=(l=o.slots).default)==null?void 0:i.call(l):t.mobile&&n.userAgent.isMobile?(c=(a=o.slots).default)==null?void 0:c.call(a):n.userAgent.isMobile?(u=(d=o.slots).mobile)==null?void 0:u.call(d):(m=(g=o.slots).desktop)==null?void 0:m.call(g)}}}),DesktopOnly=defineComponent({name:"DesktopOnly",setup(t,o){const n=useGlobalState();return()=>{var s,r;return!n.userAgent.isMobile&&((r=(s=o.slots).default)==null?void 0:r.call(s))}}}),ClientOnly=defineComponent({name:"ClientOnly",props:{placeholder:String,placeholderTag:{type:String,default:"div"},transition:{type:Boolean,default:!1},delay:{type:Number,default:0}},setup(t,o){const{globalState:n}=useEnhancer(),s=ref(!!n.isHydrated.value);onMounted(()=>{if(!n.isHydrated.value){const l=()=>{s.value=!0};t.delay?setTimeout(l,t.delay):l()}});const r=(l,i)=>{if(!t.transition||Array.isArray(l)&&l.length>1)return l;const a=Array.isArray(l)?l[0]:l;return h(Transition,{name:"client-only",mode:"out-in"},()=>a?cloneVNode(a,{key:i}):h("div",{key:"empty",class:"client-only-empty"}))};return()=>{var l,i;return s.value?r((i=(l=o.slots).default)==null?void 0:i.call(l),"result"):o.slots.placeholder?r(o.slots.placeholder(),"placeholderSlot"):t.placeholderTag&&t.placeholder?r(h(t.placeholderTag,{class:"client-only-placeholder"},t.placeholder),"placeholder"):r(null)}}});function interior(t){t.component(Ulink.name,Ulink),t.component(Uimage.name,Uimage),t.component(Spin.name,Spin),t.component(Empty.name,Empty),t.component(Placeholder.name,Placeholder),t.component(ClientOnly.name,ClientOnly),t.component(Responsive.name,Responsive),t.component(DesktopOnly.name,DesktopOnly),t.component(SkeletonBase.name,SkeletonBase),t.component(SkeletonLine.name,SkeletonLine),t.component(SkeletonParagraph.name,SkeletonParagraph)}var error_vue_vue_type_style_index_0_scoped_true_lang="",ErrorEvent;(function(t){t.Resolve="resolve"})(ErrorEvent||(ErrorEvent={}));const _sfc_main$p=defineComponent({name:"Error",emits:[ErrorEvent.Resolve],props:{error:{type:Object,required:!0}},setup(t,o){const{isDarkTheme:n}=useEnhancer();return{LANGUAGE_KEYS,isDarkTheme:n,handleResolveRoute:()=>{o.emit(ErrorEvent.Resolve)}}}}),_hoisted_1$o={class:"code"},_hoisted_2$j={class:"message"};function _sfc_render$p(t,o,n,s,r,l){const i=resolveComponent("i18n"),a=resolveComponent("uimage");return openBlock(),createElementBlock("div",{class:normalizeClass(["error",{dark:t.isDarkTheme}])},[createBaseVNode("h1",_hoisted_1$o,toDisplayString(t.error.code),1),createBaseVNode("h3",_hoisted_2$j,[t.error.message?(openBlock(),createElementBlock(Fragment,{key:0},[createTextVNode(toDisplayString(t.error.message),1)],64)):(openBlock(),createBlock(i,{key:1,lkey:t.LANGUAGE_KEYS.NOT_FOUND},null,8,["lkey"]))]),createBaseVNode("p",{class:"link",onClick:o[0]||(o[0]=(...c)=>t.handleResolveRoute&&t.handleResolveRoute(...c))},[renderSlot(t.$slots,"resolve-text",{},void 0,!0)]),createVNode(a,{cdn:"",class:"logo",src:"/images/logo.svg"})],2)}var ErrorComponent=_export_sfc(_sfc_main$p,[["render",_sfc_render$p],["__scopeId","data-v-7d91a384"]]);const _sfc_main$o=defineComponent({name:"Captured",components:{ErrorComponent},setup(t,o){const{router:n,globalState:s}=useEnhancer(),r=()=>{n.push({name:RouteName.Home}).then(()=>{s.setLayoutColumn(getLayoutByRouteMeta(n.currentRoute.value.meta)),s.setRenderError(null)})};return onErrorCaptured(l=>(s.setRenderError(l),!1)),{error:s.renderError,handleResolveRoute:r,LANGUAGE_KEYS}}}),_hoisted_1$n={class:"captured"};function _sfc_render$o(t,o,n,s,r,l){const i=resolveComponent("i18n"),a=resolveComponent("error-component");return openBlock(),createElementBlock("div",_hoisted_1$n,[t.error?(openBlock(),createBlock(a,{key:0,error:t.error,onResolve:t.handleResolveRoute},{"resolve-text":withCtx(()=>[createVNode(i,{lkey:t.LANGUAGE_KEYS.BACK_TO_HOME_PAGE},null,8,["lkey"])]),_:1},8,["error","onResolve"])):renderSlot(t.$slots,"default",{key:1})])}var Captured=_export_sfc(_sfc_main$o,[["render",_sfc_render$o]]);const menus=[{id:RouteName.Home,route:"/",icon:"icon-home-fill",i18nKey:LANGUAGE_KEYS.PAGE_HOME},{id:CategorySlug.Code,route:getCategoryArchiveRoute(CategorySlug.Code),icon:"icon-code",i18nKey:LANGUAGE_KEYS.CATEGORY_CODE},{id:CategorySlug.Insight,route:getCategoryArchiveRoute(CategorySlug.Insight),icon:"icon-thinking",i18nKey:LANGUAGE_KEYS.CATEGORY_INSIGHT},{id:"github",url:VALUABLE_LINKS.GITHUB,icon:"icon-github",i18nKey:LANGUAGE_KEYS.PAGE_GITHUB},{id:RouteName.Lens,route:getPageRoute(RouteName.Lens),icon:"icon-lens",i18nKey:LANGUAGE_KEYS.PAGE_LENS},{id:RouteName.About,route:getPageRoute(RouteName.About),icon:"icon-user",i18nKey:LANGUAGE_KEYS.PAGE_ABOUT},{id:RouteName.Job,route:getPageRoute(RouteName.Job),icon:"icon-horse",i18nKey:LANGUAGE_KEYS.PAGE_JOB},{id:RouteName.Freelancer,route:getPageRoute(RouteName.Freelancer),icon:"icon-tool",i18nKey:LANGUAGE_KEYS.PAGE_FREELANCER},{id:RouteName.Guestbook,route:getPageRoute(RouteName.Guestbook),icon:"icon-comment",i18nKey:LANGUAGE_KEYS.PAGE_GUESTBOOK},{id:RouteName.App,route:getPageRoute(RouteName.App),separator:!0,icon:"icon-app",i18nKey:LANGUAGE_KEYS.PAGE_APP},{id:RouteName.Merch,route:getPageRoute(RouteName.Merch),separator:!0,hot:!0,icon:"icon-rubik",i18nKey:LANGUAGE_KEYS.PAGE_MERCH}];var nav_vue_vue_type_style_index_0_scoped_true_lang$1="";const _sfc_main$n=defineComponent({name:"PCNav",setup(){const{adConfig:t,isZhLang:o}=useEnhancer();return{NAV_ELEMENT_ID,menus,adConfig:t,isZhLang:o}}}),_withScopeId$c=t=>(pushScopeId("data-v-2335e1b2"),t=t(),popScopeId(),t),_hoisted_1$m=["id"],_hoisted_2$i={key:0,class:"separator"},_hoisted_3$d={class:"text"},_hoisted_4$d={key:0,class:"superscript"},_hoisted_5$d=_withScopeId$c(()=>createBaseVNode("i",{class:"iconfont icon-hot-fill"},null,-1)),_hoisted_6$c=[_hoisted_5$d],_hoisted_7$a={class:"text"},_hoisted_8$a={key:0,class:"superscript"},_hoisted_9$a=_withScopeId$c(()=>createBaseVNode("i",{class:"iconfont icon-hot-fill"},null,-1)),_hoisted_10$a=[_hoisted_9$a],_hoisted_11$7=_withScopeId$c(()=>createBaseVNode("span",{class:"separator"},null,-1)),_hoisted_12$7=_withScopeId$c(()=>createBaseVNode("span",{class:"superscript"},[createBaseVNode("i",{class:"iconfont icon-ad"})],-1));function _sfc_render$n(t,o,n,s,r,l){const i=resolveComponent("i18n"),a=resolveComponent("router-link"),c=resolveComponent("ulink");return openBlock(),createElementBlock("div",{id:t.NAV_ELEMENT_ID,class:"aside-nav"},[createBaseVNode("nav",{class:normalizeClass(["nav-list",{en:!t.isZhLang}])},[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.menus,d=>(openBlock(),createElementBlock(Fragment,{key:d.id},[d.separator?(openBlock(),createElementBlock("span",_hoisted_2$i)):createCommentVNode("",!0),d.route?(openBlock(),createBlock(a,{key:1,class:normalizeClass(["item",[d.id,{hot:d.hot}]]),to:d.route,exact:""},{default:withCtx(()=>[createBaseVNode("i",{class:normalizeClass(["iconfont",d.icon])},null,2),createBaseVNode("span",_hoisted_3$d,[createVNode(i,{lkey:d.i18nKey},null,8,["lkey"])]),d.hot?(openBlock(),createElementBlock("span",_hoisted_4$d,_hoisted_6$c)):createCommentVNode("",!0)]),_:2},1032,["class","to"])):d.url?(openBlock(),createBlock(c,{key:2,class:normalizeClass(["item",[d.id,{hot:d.hot}]]),href:d.url},{default:withCtx(()=>[createBaseVNode("i",{class:normalizeClass(["iconfont",d.icon])},null,2),createBaseVNode("span",_hoisted_7$a,[createVNode(i,{lkey:d.i18nKey},null,8,["lkey"])]),d.hot?(openBlock(),createElementBlock("span",_hoisted_8$a,_hoisted_10$a)):createCommentVNode("",!0)]),_:2},1032,["class","href"])):createCommentVNode("",!0)],64))),128)),(openBlock(!0),createElementBlock(Fragment,null,renderList(t.adConfig.PC_NAV,(d,u)=>(openBlock(),createElementBlock(Fragment,{key:u},[_hoisted_11$7,createVNode(c,{class:"item",href:d.url},{default:withCtx(()=>[createBaseVNode("i",{class:normalizeClass(["iconfont",d.icon]),style:normalizeStyle({color:d.color})},null,6),createBaseVNode("span",{class:"text",style:normalizeStyle({color:d.color})},[d.i18n?(openBlock(),createBlock(i,{key:0,zh:d.i18n.zh,en:d.i18n.en},null,8,["zh","en"])):(openBlock(),createElementBlock(Fragment,{key:1},[createTextVNode(toDisplayString(d.text),1)],64))],4),_hoisted_12$7]),_:2},1032,["href"])],64))),128))],2)],8,_hoisted_1$m)}var NavView=_export_sfc(_sfc_main$n,[["render",_sfc_render$n],["__scopeId","data-v-2335e1b2"]]),search_vue_vue_type_style_index_0_scoped_true_lang="";const _sfc_main$m=defineComponent({name:"PCAsideSearch",setup(){const{i18n:t,route:o,router:n}=useEnhancer(),s=ref("");return onMounted(()=>{isSearchArchive(o.name)&&(s.value=o.params.keyword)}),{LANGUAGE_KEYS,RouteName,i18n:t,keyword:s,handleSearch:()=>{const l=s.value,i=o.params.keyword,a=isSearchArchive(o.name);l&&(!a||i!==l)&&n.push({name:RouteName.SearchArchive,params:{keyword:l}})}}}}),_withScopeId$b=t=>(pushScopeId("data-v-3c8d46b1"),t=t(),popScopeId(),t),_hoisted_1$l={class:"search"},_hoisted_2$h={class:"search-box"},_hoisted_3$c=["placeholder"],_hoisted_4$c=_withScopeId$b(()=>createBaseVNode("i",{class:"iconfont icon-search"},null,-1)),_hoisted_5$c=[_hoisted_4$c],_hoisted_6$b=_withScopeId$b(()=>createBaseVNode("i",{class:"iconfont icon-peachblossom"},null,-1));function _sfc_render$m(t,o,n,s,r,l){const i=resolveComponent("router-link");return openBlock(),createElementBlock("div",_hoisted_1$l,[createBaseVNode("div",_hoisted_2$h,[withDirectives(createBaseVNode("input",{id:"keyword","onUpdate:modelValue":o[0]||(o[0]=a=>t.keyword=a),required:"",type:"search",name:"search",class:normalizeClass(["search-input",t.i18n.language]),placeholder:t.i18n.t(t.LANGUAGE_KEYS.SEARCH_PLACEHOLDER),onKeyup:o[1]||(o[1]=withKeys((...a)=>t.handleSearch&&t.handleSearch(...a),["enter"]))},null,42,_hoisted_3$c),[[vModelText,t.keyword,void 0,{trim:!0}]]),createBaseVNode("button",{class:"search-btn",onClick:o[2]||(o[2]=(...a)=>t.handleSearch&&t.handleSearch(...a))},_hoisted_5$c)]),createVNode(i,{class:"archive-btn",to:{name:t.RouteName.Archive}},{default:withCtx(()=>[_hoisted_6$b]),_:1},8,["to"])])}var AsideSearch=_export_sfc(_sfc_main$m,[["render",_sfc_render$m],["__scopeId","data-v-3c8d46b1"]]),article_vue_vue_type_style_index_0_scoped_true_lang="";const _sfc_main$l=defineComponent({name:"PCAsideArticle",setup(){return{articleStore:useArticleStore(),getArticleDetailRoute,LANGUAGE_KEYS}}}),_withScopeId$a=t=>(pushScopeId("data-v-38f82351"),t=t(),popScopeId(),t),_hoisted_1$k={class:"article"},_hoisted_2$g={class:"title"},_hoisted_3$b=_withScopeId$a(()=>createBaseVNode("i",{class:"iconfont icon-hotfill"},null,-1)),_hoisted_4$b={class:"article-list-skeleton",key:"skeleton"},_hoisted_5$b={class:"article-list",key:"list"},_hoisted_6$a=_withScopeId$a(()=>createBaseVNode("span",{class:"index"},null,-1));function _sfc_render$l(t,o,n,s,r,l){const i=resolveComponent("i18n"),a=resolveComponent("skeleton-line"),c=resolveComponent("router-link"),d=resolveComponent("placeholder");return openBlock(),createElementBlock("div",_hoisted_1$k,[createBaseVNode("p",_hoisted_2$g,[_hoisted_3$b,createBaseVNode("strong",null,[createVNode(i,{lkey:t.LANGUAGE_KEYS.HOT_ARTICLE_LIST_TITLE},null,8,["lkey"])])]),createVNode(d,{data:t.articleStore.hotList.data,loading:t.articleStore.hotList.fetching,"i18n-key":t.LANGUAGE_KEYS.ARTICLE_PLACEHOLDER},{loading:withCtx(()=>[createBaseVNode("ul",_hoisted_4$b,[(openBlock(),createElementBlock(Fragment,null,renderList(5,u=>createBaseVNode("li",{key:u,class:"item"},[createVNode(a)])),64))])]),default:withCtx(()=>[createBaseVNode("ul",_hoisted_5$b,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.articleStore.hotList.data,u=>(openBlock(),createElementBlock("li",{key:u.id,class:"item"},[_hoisted_6$a,createVNode(c,{class:"title",to:t.getArticleDetailRoute(u.id),title:u.title},{default:withCtx(()=>[createTextVNode(toDisplayString(u.title),1)]),_:2},1032,["to","title"])]))),128))])]),_:1},8,["data","loading","i18n-key"])])}var AsideArticle=_export_sfc(_sfc_main$l,[["render",_sfc_render$l],["__scopeId","data-v-38f82351"]]),mammon_vue_vue_type_style_index_0_scoped_true_lang="",AsideMammonEvent;(function(t){t.Ready="ready",t.UpdateIndex="update:index",t.IndexChange="index-change"})(AsideMammonEvent||(AsideMammonEvent={}));const _sfc_main$k=defineComponent({name:"PCAsideMammon",components:{Swiper:Swiper$1,SwiperSlide},props:{index:{type:Number,default:0},ready:{type:Object}},emits:[AsideMammonEvent.Ready,AsideMammonEvent.UpdateIndex,AsideMammonEvent.IndexChange],setup(t,o){const{adConfig:n}=useEnhancer(),s=ref();return{adConfig:n,updateSwiper:i=>{s.value=i,o.emit(AsideMammonEvent.Ready,s.value)},handleSlideChange:()=>{var a;const i=(a=s.value)==null?void 0:a.realIndex;o.emit(AsideMammonEvent.UpdateIndex,i),o.emit(AsideMammonEvent.IndexChange,i)}}}}),_hoisted_1$j={class:"mammon"};function _sfc_render$k(t,o,n,s,r,l){const i=resolveComponent("uimage"),a=resolveComponent("ulink"),c=resolveComponent("swiper-slide"),d=resolveComponent("swiper");return openBlock(),createElementBlock("div",_hoisted_1$j,[createVNode(d,{class:"swiper",direction:"vertical","initial-slide":t.index,loop:!0,"simulate-touch":!1,autoplay:{delay:2800,disableOnInteraction:!1},pagination:{clickable:!0},"set-wrapper-size":!0,"auto-height":!0,mousewheel:!0,"observe-parents":!0,"preload-images":!1,lazy:!0,onSwiper:t.updateSwiper,onSlideChangeTransitionEnd:t.handleSlideChange},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.adConfig.PC_ASIDE_SWIPER,(u,g)=>(openBlock(),createBlock(c,{class:"swiper-slide",key:g},{default:withCtx(()=>[createVNode(a,{class:"content",href:u.url},{default:withCtx(()=>[createVNode(i,{src:u.src,alt:"aliyun-ad"},null,8,["src"])]),_:2},1032,["href"])]),_:2},1024))),128))]),_:1},8,["initial-slide","onSwiper","onSlideChangeTransitionEnd"])])}var AsideMammon=_export_sfc(_sfc_main$k,[["render",_sfc_render$k],["__scopeId","data-v-7d723066"]]),tag_vue_vue_type_style_index_0_scoped_true_lang="";const _sfc_main$j=defineComponent({name:"PCAsideTag",setup(){const t=useTagStore();return{LANGUAGE_KEYS,tagStore:t,getTagIcon:n=>getExtendsValue(n,"icon")||"icon-tag",getTagArchiveRoute}}}),_hoisted_1$i={class:"tag"},_hoisted_2$f={class:"tag-list-skeleton",key:"skeleton"},_hoisted_3$a={class:"tag-list",key:"list"},_hoisted_4$a={class:"name"},_hoisted_5$a={class:"count"};function _sfc_render$j(t,o,n,s,r,l){const i=resolveComponent("skeleton-line"),a=resolveComponent("i18n"),c=resolveComponent("router-link"),d=resolveComponent("placeholder");return openBlock(),createElementBlock("div",_hoisted_1$i,[createVNode(d,{data:t.tagStore.tags.length,fetching:t.tagStore.fetching,"i18n-key":t.LANGUAGE_KEYS.TAG_PLACEHOLDER},{loading:withCtx(()=>[createBaseVNode("ul",_hoisted_2$f,[(openBlock(),createElementBlock(Fragment,null,renderList(14,u=>createBaseVNode("li",{key:u,class:"item"},[createVNode(i)])),64))])]),default:withCtx(()=>[createBaseVNode("div",_hoisted_3$a,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.tagStore.tags,(u,g)=>(openBlock(),createBlock(c,{class:"item",title:u.description,to:t.getTagArchiveRoute(u.slug),key:g},{default:withCtx(()=>[createBaseVNode("i",{class:normalizeClass(["iconfont",t.getTagIcon(u)])},null,2),createBaseVNode("span",_hoisted_4$a,[createVNode(a,{zh:u.name,en:u.slug},null,8,["zh","en"]),createBaseVNode("span",_hoisted_5$a,"("+toDisplayString(u.count||0)+")",1)])]),_:2},1032,["title","to"]))),128))])]),_:1},8,["data","fetching","i18n-key"])])}var AsideTag=_export_sfc(_sfc_main$j,[["render",_sfc_render$j],["__scopeId","data-v-8f64dcd6"]]),nav_vue_vue_type_style_index_0_scoped_true_lang="";const _sfc_main$i=defineComponent({name:"PCAsideNav",setup(){const t=useArticleDetailStore(),o=computed(()=>t.article),n=computed(()=>{var a,c;const i=[...((a=t.defaultContent)==null?void 0:a.headings)||[]];return t.isLongContent&&t.renderedFullContent&&i.push(...((c=t.moreContent)==null?void 0:c.headings)||[]),i}),s=computed(()=>Math.min(...n.value.map(i=>i.level))),r=computed(()=>{var c;const i=((c=o.value)==null?void 0:c.content.length)||0,a=Math.round(i/400);return a<1?1:a});return{ANCHORS,article:o,headings:n,minHeadingLevel:s,readTime:r,handleLink:i=>{scrollToElementAnchor(i)}}}}),_withScopeId$9=t=>(pushScopeId("data-v-cbb51578"),t=t(),popScopeId(),t),_hoisted_1$h={key:0,class:"nav"},_hoisted_2$e=["title"],_hoisted_3$9=_withScopeId$9(()=>createBaseVNode("i",{class:"iconfont icon-read"},null,-1)),_hoisted_4$9={key:0,class:"title"},_hoisted_5$9={key:1,class:"title"},_hoisted_6$9={key:0,class:"link"},_hoisted_7$9=_withScopeId$9(()=>createBaseVNode("i",{class:"iconfont icon-mood"},null,-1)),_hoisted_8$9={key:1,class:"catalogue"},_hoisted_9$9=["title","onClick"],_hoisted_10$9={class:"text"},_hoisted_11$6=_withScopeId$9(()=>createBaseVNode("i",{class:"iconfont icon-share"},null,-1)),_hoisted_12$6=_withScopeId$9(()=>createBaseVNode("i",{class:"iconfont icon-clock"},null,-1)),_hoisted_13$5=_withScopeId$9(()=>createBaseVNode("span",{class:"separator"},"|",-1)),_hoisted_14$4={class:"meta"},_hoisted_15$4=_withScopeId$9(()=>createBaseVNode("i",{class:"iconfont icon-eye"},null,-1)),_hoisted_16$3=_withScopeId$9(()=>createBaseVNode("span",{class:"separator"},"|",-1)),_hoisted_17$3={class:"meta"},_hoisted_18$3=_withScopeId$9(()=>createBaseVNode("i",{class:"like-icon iconfont icon-heart"},null,-1)),_hoisted_19$1=_withScopeId$9(()=>createBaseVNode("i",{class:"iconfont icon-category"},null,-1)),_hoisted_20=_withScopeId$9(()=>createBaseVNode("i",{class:"iconfont icon-comment"},null,-1)),_hoisted_21=_withScopeId$9(()=>createBaseVNode("i",{class:"iconfont icon-edit"},null,-1));function _sfc_render$i(t,o,n,s,r,l){const i=resolveComponent("i18n");return t.article?(openBlock(),createElementBlock("div",_hoisted_1$h,[createBaseVNode("button",{class:"link",title:t.article.title,onClick:o[0]||(o[0]=a=>t.handleLink(t.ANCHORS.ARTICLE_CONTENT_ELEMENT_ID))},[_hoisted_3$9,t.headings.length?(openBlock(),createElementBlock("span",_hoisted_4$9,toDisplayString(t.article.title),1)):(openBlock(),createElementBlock("span",_hoisted_5$9,[createVNode(i,null,{zh:withCtx(()=>[createTextVNode("\u6B63\u6587\uFF08\u5171 "+toDisplayString(t.article.content.length)+" \u5B57\uFF09",1)]),en:withCtx(()=>[createTextVNode("Article content ("+toDisplayString(t.article.content.length)+" words)",1)]),_:1})]))],8,_hoisted_2$e),t.headings.length?(openBlock(),createElementBlock("div",_hoisted_6$9,[_hoisted_7$9,createVNode(i,null,{zh:withCtx(()=>[createTextVNode("\u5171 "+toDisplayString(t.article.content.length)+" \u5B57\uFF0C\u9700\u9605\u8BFB "+toDisplayString(t.readTime)+" \u5206\u949F",1)]),en:withCtx(()=>[createTextVNode(toDisplayString(t.article.content.length)+" words, take "+toDisplayString(t.readTime)+" minutes",1)]),_:1})])):createCommentVNode("",!0),t.headings.length?(openBlock(),createElementBlock("div",_hoisted_8$9,[createBaseVNode("ul",{class:normalizeClass(["list",`indent-${t.minHeadingLevel}`])},[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.headings,(a,c)=>(openBlock(),createElementBlock("li",{class:normalizeClass(["item",`level-${a.level}`]),key:c,title:a.text,onClick:d=>t.handleLink(a.id)},[createBaseVNode("i",{class:normalizeClass(["level iconfont",`icon-h-${a.level}`])},null,2),createBaseVNode("span",_hoisted_10$9,toDisplayString(a.text),1)],10,_hoisted_9$9))),128))],2)])):createCommentVNode("",!0),createBaseVNode("button",{class:"link",onClick:o[1]||(o[1]=a=>t.handleLink(t.ANCHORS.ARTICLE_SHARE_ELEMENT_ID))},[_hoisted_11$6,createVNode(i,{zh:"\u5206\u4EAB",en:"Share"})]),createBaseVNode("button",{class:"link",onClick:o[2]||(o[2]=a=>t.handleLink(t.ANCHORS.ARTICLE_META_ELEMENT_ID))},[_hoisted_12$6,createVNode(i,{zh:"\u5143\u59CB",en:"Meta"}),_hoisted_13$5,createBaseVNode("span",_hoisted_14$4,[_hoisted_15$4,createBaseVNode("span",null,toDisplayString(t.article.meta.views),1)]),_hoisted_16$3,createBaseVNode("span",_hoisted_17$3,[_hoisted_18$3,createBaseVNode("span",null,toDisplayString(t.article.meta.likes),1)])]),createBaseVNode("button",{class:"link",onClick:o[3]||(o[3]=a=>t.handleLink(t.ANCHORS.ARTICLE_RELETED_ELEMENT_ID))},[_hoisted_19$1,createVNode(i,{zh:"\u76F8\u5173\u6587\u7AE0",en:"Related articles"}),createBaseVNode("span",null,"\xA0("+toDisplayString(t.article.related.length)+")",1)]),createBaseVNode("button",{class:"link",onClick:o[4]||(o[4]=a=>t.handleLink(t.ANCHORS.COMMENT_ELEMENT_ID))},[_hoisted_20,createVNode(i,{zh:"\u8BC4\u8BBA",en:"Comments"}),createBaseVNode("span",null,"\xA0("+toDisplayString(t.article.meta.comments)+")",1)]),createBaseVNode("button",{class:"link",onClick:o[5]||(o[5]=a=>t.handleLink(t.ANCHORS.COMMENT_PUBLISHER_ELEMENT_ID))},[_hoisted_21,createVNode(i,{zh:"\u53D1\u5E03\u8BC4\u8BBA",en:"Pulish comment"})])])):createCommentVNode("",!0)}var AsideNav=_export_sfc(_sfc_main$i,[["render",_sfc_render$i],["__scopeId","data-v-cbb51578"]]),calendar_vue_vue_type_style_index_0_scoped_true_lang="";const _sfc_main$h=defineComponent({name:"PcAsideCalendar",setup(t,o){const{i18n:n,isZhLang:s}=useEnhancer(),r=dateToHuman(new Date),l=reactive({month:0,year:1970,table:[]}),i=computed(()=>textHumanizer(n.language.value)(TEXT_MAP.WEEKDAYS)),a=computed(()=>{const m=l.month===r.month&&l.year===r.year;if(s.value){const $=`${l.year} \u5E74`,E=` ${l.month} \u6708`,f=m?` ${r.day} \u65E5`:"";return $+E+f}return humanDateToYMD(m?r:l," / ")}),c=m=>{const $=[],E=humanToDate(S(C({},m),{day:1})),f=dateToHuman(E).week;for(let v=f-1;v>=0;v--){const A=cloneDate(E);A.setDate(A.getDate()-v),$.push(dateToHuman(A))}const N=35-$.length;for(let v=1;v<=N;v++){const A=cloneDate(E);A.setDate(A.getDate()+v),$.push(dateToHuman(A))}Object.assign(l,{year:m.year,month:m.month,table:$})},d=()=>{const m=l.month-1<=0;c({year:l.year-(m?1:0),month:m?12:l.month-1})},u=()=>{const m=l.month+1>=13;c({year:l.year+(m?1:0),month:m?1:l.month+1})},g=m=>{m.month<l.month?d():m.month>l.month&&u()};return c({year:r.year,month:r.month}),{tableView:l,headerText:a,weekDayTexts:i,toPrevMonth:d,toNextMonth:u,handleDayClick:g,isToday:m=>isSameHumanDay(m,r)}}}),_withScopeId$8=t=>(pushScopeId("data-v-41419652"),t=t(),popScopeId(),t),_hoisted_1$g={class:"calendar"},_hoisted_2$d={class:"header"},_hoisted_3$8=_withScopeId$8(()=>createBaseVNode("i",{class:"iconfont icon-prev"},null,-1)),_hoisted_4$8=[_hoisted_3$8],_hoisted_5$8={class:"item year-month"},_hoisted_6$8=_withScopeId$8(()=>createBaseVNode("i",{class:"iconfont icon-next"},null,-1)),_hoisted_7$8=[_hoisted_6$8],_hoisted_8$8={class:"weekdays"},_hoisted_9$8={class:"days"},_hoisted_10$8=["onClick"];function _sfc_render$h(t,o,n,s,r,l){return openBlock(),createElementBlock("div",_hoisted_1$g,[createBaseVNode("div",_hoisted_2$d,[createBaseVNode("button",{class:"item arrow",onClick:o[0]||(o[0]=(...i)=>t.toPrevMonth&&t.toPrevMonth(...i))},_hoisted_4$8),createBaseVNode("span",_hoisted_5$8,toDisplayString(t.headerText),1),createBaseVNode("button",{class:"item arrow",onClick:o[1]||(o[1]=(...i)=>t.toNextMonth&&t.toNextMonth(...i))},_hoisted_7$8)]),createBaseVNode("ul",_hoisted_8$8,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.weekDayTexts,(i,a)=>(openBlock(),createElementBlock("li",{key:a},toDisplayString(i),1))),128))]),createBaseVNode("ul",_hoisted_9$8,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.tableView.table,(i,a)=>(openBlock(),createElementBlock("li",{key:a},[createBaseVNode("span",{class:normalizeClass(["item",{today:t.isToday(i),other:i.month!==t.tableView.month}]),onClick:c=>t.handleDayClick(i)},[renderSlot(t.$slots,"default",normalizeProps(guardReactiveProps(i)),()=>[createTextVNode(toDisplayString(i.day),1)],!0)],10,_hoisted_10$8)]))),128))])])}var Calendar=_export_sfc(_sfc_main$h,[["render",_sfc_render$h],["__scopeId","data-v-41419652"]]),index_vue_vue_type_style_index_0_scoped_true_lang$1="";const ASIDE_STICKY_ELEMENT_ID="aside-sticky-module",_sfc_main$g=defineComponent({name:"PCAside",components:{AsideSearch,AsideArticle,AsideMammon,Calendar,AsideTag,AsideNav},setup(){const t=useRoute(),{i18n:o}=useEnhancer(),n=computed(()=>isArticleDetail(t.name));let s=null;const r=dateToHuman(new Date),l=ref(null),i=ref(0),a=ref(!1),c=ref(),d=f=>!(f.year>r.year||f.month>r.month||f.year==r.year&&f.month==r.month&&f.day>r.day),u=f=>getDateArchiveRoute(humanDateToYMD(f)),g=f=>{c.value=f},m=f=>{i.value=f},$=f=>{var N;(N=c.value)==null||N.slideToLoop(f)},E=f=>{var A,y;const N=l.value.clientHeight,v=(y=(A=document.getElementById(MAIN_CONTENT_ELEMENT_ID))==null?void 0:A.children)==null?void 0:y[0];if(v){const L=v.clientHeight>=N;a.value=L&&f.detail.isSticky}};return onMounted(()=>{nextTick(()=>{var f,N;s=new window.$StickyEvents({enabled:!0,stickySelector:`#${ASIDE_STICKY_ELEMENT_ID}`}),(N=(f=s.stickyElements)==null?void 0:f[0])==null||N.addEventListener(window.$StickyEvents.CHANGE,E)})}),onBeforeUnmount(()=>{var f,N;(N=(f=s.stickyElements)==null?void 0:f[0])==null||N.removeEventListener(window.$StickyEvents.CHANGE,E),s.disableEvents(!1),s=null}),{isArticlePage:n,LANGUAGE_KEYS,ASIDE_ELEMENT_ID,ASIDE_STICKY_ELEMENT_ID,t:o.t,adIndex:i,renderStickyAd:a,element:l,canPushRouteWithDay:d,getDateRoute:u,handleStandingAdSwiperReady:g,handleStandingAdSlideChange:m,handleStickyAdIndexChange:$}}}),_hoisted_1$f=["id"],_hoisted_2$c={class:"module"},_hoisted_3$7={class:"module"},_hoisted_4$7={class:"module mammon"},_hoisted_5$7={class:"module calendar"},_hoisted_6$7={key:1},_hoisted_7$7=["placeholder"],_hoisted_8$7=["id"],_hoisted_9$7={key:0,class:"module mammon"},_hoisted_10$7={class:"module"};function _sfc_render$g(t,o,n,s,r,l){const i=resolveComponent("aside-search"),a=resolveComponent("aside-article"),c=resolveComponent("aside-mammon"),d=resolveComponent("client-only"),u=resolveComponent("router-link"),g=resolveComponent("calendar"),m=resolveComponent("Adsense"),$=resolveComponent("aside-nav"),E=resolveComponent("aside-tag");return openBlock(),createElementBlock("aside",{id:t.ASIDE_ELEMENT_ID,class:"aside",ref:"element"},[createBaseVNode("div",_hoisted_2$c,[createVNode(i)]),createBaseVNode("div",_hoisted_3$7,[createVNode(a)]),createVNode(d,{transition:""},{default:withCtx(()=>[createBaseVNode("div",_hoisted_4$7,[createVNode(c,{onIndexChange:t.handleStandingAdSlideChange,onReady:t.handleStandingAdSwiperReady},null,8,["onIndexChange","onReady"])])]),_:1}),createBaseVNode("div",_hoisted_5$7,[createVNode(g,null,{default:withCtx(f=>[t.canPushRouteWithDay(f)?(openBlock(),createBlock(u,{key:0,class:"date-link",to:t.getDateRoute(f)},{default:withCtx(()=>[createTextVNode(toDisplayString(f.day),1)]),_:2},1032,["to"])):(openBlock(),createElementBlock("span",_hoisted_6$7,toDisplayString(f.day),1))]),_:1})]),createBaseVNode("div",{class:"module mammon-square",placeholder:t.t(t.LANGUAGE_KEYS.AD)},[createVNode(d,null,{default:withCtx(()=>[createVNode(m,{"ins-class":"adsbygoogle","data-ad-client":"ca-pub-4710915636313788","data-ad-slot":"6138120718",class:"content"})]),_:1})],8,_hoisted_7$7),createBaseVNode("div",{id:t.ASIDE_STICKY_ELEMENT_ID,class:"aside-sticky-box"},[createVNode(d,null,{default:withCtx(()=>[t.renderStickyAd?(openBlock(),createElementBlock("div",_hoisted_9$7,[createVNode(c,{index:t.adIndex,onIndexChange:t.handleStickyAdIndexChange},null,8,["index","onIndexChange"])])):createCommentVNode("",!0)]),_:1}),createBaseVNode("div",_hoisted_10$7,[t.isArticlePage?(openBlock(),createBlock(d,{key:0},{default:withCtx(()=>[createVNode($,{class:"sticky-module"})]),_:1})):(openBlock(),createBlock(E,{key:1,class:"sticky-module"}))])],8,_hoisted_8$7)],8,_hoisted_1$f)}var AsideView$1=_export_sfc(_sfc_main$g,[["render",_sfc_render$g],["__scopeId","data-v-1262334e"]]),header_vue_vue_type_style_index_0_scoped_true_lang$1="";const _sfc_main$f=defineComponent({name:"PCHeader",setup(){const{i18n:t,gtag:o,theme:n,globalState:s}=useEnhancer(),r=computed(()=>!s.layoutColumn.value.isNormal),l=n.theme,i=computed(()=>({[Theme.Default]:"icon-sun",[Theme.Dark]:"icon-moon"})[l.value]),a=()=>{n.toggle(),o==null||o.event("\u5207\u6362\u4E3B\u9898",{event_category:GAEventActions.Toggle,event_label:GAEventTags.Tool})},c=()=>{t.toggle(),o==null||o.event("\u7CFB\u7EDF\u8BED\u8A00",{event_category:GAEventActions.Toggle,event_label:GAEventTags.Tool})};return{menus,HEADER_ELEMENT_ID,LANGUAGE_KEYS,isEnabledNav:r,t:t.t,language:t.language,tooggleLanguage:c,theme:l,themeIcon:i,toggleTheme:a}}}),_withScopeId$7=t=>(pushScopeId("data-v-52332f76"),t=t(),popScopeId(),t),_hoisted_1$e=["id"],_hoisted_2$b={class:"header-container container"},_hoisted_3$6={class:"header-header"},_hoisted_4$6={class:"header-slogan"},_hoisted_5$6={class:"toolbox"},_hoisted_6$6={key:0,class:"button menu"},_hoisted_7$6=_withScopeId$7(()=>createBaseVNode("i",{class:"iconfont icon-top-menu"},null,-1)),_hoisted_8$6=[_hoisted_7$6],_hoisted_9$6={class:"header-nav"},_hoisted_10$6={class:"nav-list container"},_hoisted_11$5={key:0,class:"separator"},_hoisted_12$5={class:"text"},_hoisted_13$4={key:0,class:"superscript"},_hoisted_14$3=_withScopeId$7(()=>createBaseVNode("i",{class:"iconfont icon-hot-fill"},null,-1)),_hoisted_15$3=[_hoisted_14$3],_hoisted_16$2={class:"text"},_hoisted_17$2={key:0,class:"superscript"},_hoisted_18$2=_withScopeId$7(()=>createBaseVNode("i",{class:"iconfont icon-hot-fill"},null,-1)),_hoisted_19=[_hoisted_18$2];function _sfc_render$f(t,o,n,s,r,l){const i=resolveComponent("uimage"),a=resolveComponent("i18n"),c=resolveComponent("router-link"),d=resolveComponent("ulink");return openBlock(),createElementBlock("header",{id:t.HEADER_ELEMENT_ID,class:normalizeClass(["header",{"enable-nav":t.isEnabledNav}])},[createBaseVNode("div",_hoisted_2$b,[createBaseVNode("div",_hoisted_3$6,[createVNode(i,{cdn:"",src:"/images/logo.svg",class:"header-logo"}),createBaseVNode("span",_hoisted_4$6,[createVNode(a,{lkey:t.LANGUAGE_KEYS.APP_SLOGAN},null,8,["lkey"])]),createVNode(c,{to:"/",class:"header-link",title:t.t(t.LANGUAGE_KEYS.APP_SLOGAN)},null,8,["title"])]),createBaseVNode("div",_hoisted_5$6,[t.isEnabledNav?(openBlock(),createElementBlock("button",_hoisted_6$6,_hoisted_8$6)):createCommentVNode("",!0),createBaseVNode("button",{class:normalizeClass(["button language",t.language]),title:"Switch language",onClick:o[0]||(o[0]=(...u)=>t.tooggleLanguage&&t.tooggleLanguage(...u))},toDisplayString(t.language||"-"),3),createBaseVNode("button",{class:normalizeClass(["button theme",t.theme]),onClick:o[1]||(o[1]=(...u)=>t.toggleTheme&&t.toggleTheme(...u))},[createBaseVNode("i",{class:normalizeClass(["iconfont",t.themeIcon])},null,2)],2)])]),createBaseVNode("div",_hoisted_9$6,[createBaseVNode("nav",_hoisted_10$6,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.menus,(u,g)=>(openBlock(),createElementBlock(Fragment,{key:u.id},[g>0?(openBlock(),createElementBlock("span",_hoisted_11$5)):createCommentVNode("",!0),u.route?(openBlock(),createBlock(c,{key:1,class:normalizeClass(["item",[u.id,{hot:u.hot}]]),to:u.route,exact:""},{default:withCtx(()=>[createBaseVNode("i",{class:normalizeClass(["iconfont",u.icon])},null,2),createBaseVNode("span",_hoisted_12$5,[createVNode(a,{lkey:u.i18nKey},null,8,["lkey"])]),u.hot?(openBlock(),createElementBlock("span",_hoisted_13$4,_hoisted_15$3)):createCommentVNode("",!0)]),_:2},1032,["class","to"])):u.url?(openBlock(),createBlock(d,{key:2,class:normalizeClass(["item",[u.id,{hot:u.hot}]]),href:u.url},{default:withCtx(()=>[createBaseVNode("i",{class:normalizeClass(["iconfont",u.icon])},null,2),createBaseVNode("span",_hoisted_16$2,[createVNode(a,{lkey:u.i18nKey},null,8,["lkey"])]),u.hot?(openBlock(),createElementBlock("span",_hoisted_17$2,_hoisted_19)):createCommentVNode("",!0)]),_:2},1032,["class","href"])):createCommentVNode("",!0)],64))),128))])])],10,_hoisted_1$e)}var HeaderView$1=_export_sfc(_sfc_main$f,[["render",_sfc_render$f],["__scopeId","data-v-52332f76"]]),footer_vue_vue_type_style_index_0_scoped_true_lang$1="";const _sfc_main$e=defineComponent({name:"PcFooter",setup(){return{FOOTER_ELEMENT_ID,VALUABLE_LINKS,LANGUAGE_KEYS,aboutPageUrl:getPageRoute(RouteName.About)}}}),_withScopeId$6=t=>(pushScopeId("data-v-255a9ef1"),t=t(),popScopeId(),t),_hoisted_1$d=["id"],_hoisted_2$a={class:"container"},_hoisted_4$5=["href"],_hoisted_5$5=_withScopeId$6(()=>createBaseVNode("span",{class:"separator"},"|",-1)),_hoisted_6$5=createTextVNode(" NodePress "),_hoisted_7$5=createTextVNode(" Vue "),_hoisted_8$5=_withScopeId$6(()=>createBaseVNode("span",{class:"separator"},"|",-1)),_hoisted_9$5=createTextVNode("\u543E\u4E4B\u81C2\u8EAF"),_hoisted_10$5=_withScopeId$6(()=>createBaseVNode("span",null," \u884C\u9488\u6B65\u7EBF",-1)),_hoisted_11$4=_withScopeId$6(()=>createBaseVNode("span",null,"Designed By ",-1)),_hoisted_12$4=createTextVNode("Me");function _sfc_render$e(t,o,n,s,r,l){const i=resolveComponent("ulink"),a=resolveComponent("i18n"),c=resolveComponent("router-link");return openBlock(),createElementBlock("footer",{id:t.FOOTER_ELEMENT_ID,class:"footer"},[createBaseVNode("div",_hoisted_2$a,[createCommentVNode("",!0),createBaseVNode("a",{class:"sitemap-btn",target:"_blank",href:t.VALUABLE_LINKS.SITE_MAP},[createVNode(a,{lkey:t.LANGUAGE_KEYS.SITE_MAP_XML},null,8,["lkey"])],8,_hoisted_4$5),_hoisted_5$5,createVNode(a,{zh:"\u7531 ",en:"Powered By "}),createVNode(i,{class:"item",href:t.VALUABLE_LINKS.NODEPRESS},{default:withCtx(()=>[_hoisted_6$5]),_:1},8,["href"]),createVNode(a,{zh:"\u3001",en:", "}),createVNode(i,{class:"item",href:t.VALUABLE_LINKS.VUE},{default:withCtx(()=>[_hoisted_7$5]),_:1},8,["href"]),createVNode(a,{zh:" \u548C \u65E5\u6708\u661F\u8FB0 \u5F3A\u529B\u9A71\u52A8",en:" and solitarily"}),_hoisted_8$5,createVNode(a,null,{zh:withCtx(()=>[createVNode(c,{to:t.aboutPageUrl,key:"zh"},{default:withCtx(()=>[_hoisted_9$5]),_:1},8,["to"]),_hoisted_10$5]),en:withCtx(()=>[_hoisted_11$4,createVNode(c,{to:t.aboutPageUrl,key:"en"},{default:withCtx(()=>[_hoisted_12$4]),_:1},8,["to"])]),_:1})])],8,_hoisted_1$d)}var FooterView$1=_export_sfc(_sfc_main$e,[["render",_sfc_render$e],["__scopeId","data-v-255a9ef1"]]),flower_vue_vue_type_style_index_0_scoped_true_lang="",Event;(function(t){t.Ended="ended"})(Event||(Event={}));const _sfc_main$d=defineComponent({name:"WallFlowerItem",props:{options:{type:Object,required:!0},zIndex:{type:Number,required:!0}},emits:[Event.Ended],setup(t,o){const n=reactive({delay:1,timer:null,playing:!1}),s=computed(()=>({top:t.options.y+"px",left:t.options.x+"px","z-index":99999+t.zIndex})),r=()=>{nextTick(()=>{setTimeout(()=>{n.playing=!0}),n.timer=window.setTimeout(()=>{n.playing=!1,nextTick(()=>{o.emit(Event.Ended,t.options.id)})},n.delay*1e3)})};return r(),onMounted(r),onBeforeUnmount(()=>{n.timer&&(clearTimeout(n.timer),n.timer=null)}),{state:n,styles:s}}});function _sfc_render$d(t,o,n,s,r,l){return openBlock(),createElementBlock("li",{class:normalizeClass(["flower-item",{playing:t.state.playing}]),style:normalizeStyle(t.styles)},toDisplayString(t.options.text),7)}var Flower=_export_sfc(_sfc_main$d,[["render",_sfc_render$d],["__scopeId","data-v-a2d9a48c"]]),garden_vue_vue_type_style_index_0_scoped_true_lang="";const FLOWERS=["\u5BCC\u5F3A","\u6C11\u4E3B","\u6587\u660E","\u548C\u8C10","\u81EA\u7531","\u5E73\u7B49","\u516C\u6B63","\u6CD5\u6CBB","\u7231\u56FD","\u656C\u4E1A","\u8BDA\u4FE1","\u53CB\u5584"],_sfc_main$c=defineComponent({name:"WallFlowerGarden",components:{Flower},setup(){const t=reactive({id:0,flowers:[],contentIndex:-1}),o=s=>{t.contentIndex++,t.contentIndex>=FLOWERS.length&&(t.contentIndex=0),t.flowers.push({id:++t.id,x:s.x||s.clientX,y:s.y||s.clientY,text:FLOWERS[t.contentIndex]})};return onMounted(()=>window.addEventListener("click",o)),onBeforeUnmount(()=>window.removeEventListener("click",o)),{state:t,handleAnimationEnd:s=>{const r=t.flowers.findIndex(l=>l.id===s);r>-1&&t.flowers.splice(r,1)}}}}),_hoisted_1$c={id:"wallflower"},_hoisted_2$9={key:0,class:"garden-box"};function _sfc_render$c(t,o,n,s,r,l){const i=resolveComponent("flower");return openBlock(),createElementBlock("div",_hoisted_1$c,[t.state.flowers.length?(openBlock(),createElementBlock("ul",_hoisted_2$9,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.state.flowers,(a,c)=>(openBlock(),createBlock(i,{key:a.id,"z-index":c+1,options:a,onEnded:t.handleAnimationEnd},null,8,["z-index","options","onEnded"]))),128))])):createCommentVNode("",!0)])}var Wallflower=_export_sfc(_sfc_main$c,[["render",_sfc_render$c],["__scopeId","data-v-7cc782d9"]]);const useWallpaperStore=defineStore("wallpaper",{state:()=>({fetching:!1,wallpapers:null}),getters:{papers:t=>o=>{var n;return(n=t.wallpapers)==null?void 0:n[o]}},actions:{fetchPapers(){return this.wallpapers?Promise.resolve():(this.fetching=!0,service.dispatch(TunnelModule.Wallpaper).then(t=>{this.wallpapers=t}).finally(()=>{this.fetching=!1}))}}});var wall_vue_vue_type_style_index_0_scoped_true_lang="",WallpaperWallEvent;(function(t){t.Close="close"})(WallpaperWallEvent||(WallpaperWallEvent={}));const _sfc_main$b=defineComponent({name:"WallpaperWall",emits:[WallpaperWallEvent.Close],setup(t,o){const{i18n:n}=useEnhancer(),s=useWallpaperStore(),r=ref(0),l=computed(()=>s.papers(n.language.value)),i=computed(()=>{var c,d;return((c=l.value)==null?void 0:c.length)&&((d=l.value)==null?void 0:d[r.value])});return{index:r,wallpapers:l,currentWallpaper:i,handleClose:()=>o.emit(WallpaperWallEvent.Close)}}}),_withScopeId$5=t=>(pushScopeId("data-v-37c35588"),t=t(),popScopeId(),t),_hoisted_1$b={class:"wall"},_hoisted_2$8=["title"],_hoisted_3$5={class:"story-box"},_hoisted_4$4={class:"title"},_hoisted_5$4={class:"sub-title"},_hoisted_6$4={key:1,class:"title lonely"},_hoisted_7$4={class:"desc"},_hoisted_8$4={class:"tools"},_hoisted_9$4=_withScopeId$5(()=>createBaseVNode("i",{class:"iconfont icon-location"},null,-1)),_hoisted_10$4={key:0,class:"text"},_hoisted_11$3=["disabled"],_hoisted_12$3=_withScopeId$5(()=>createBaseVNode("i",{class:"iconfont icon-prev"},null,-1)),_hoisted_13$3=[_hoisted_12$3],_hoisted_14$2=["disabled"],_hoisted_15$2=_withScopeId$5(()=>createBaseVNode("i",{class:"iconfont icon-next"},null,-1)),_hoisted_16$1=[_hoisted_15$2],_hoisted_17$1=_withScopeId$5(()=>createBaseVNode("i",{class:"iconfont icon-cancel"},null,-1)),_hoisted_18$1=[_hoisted_17$1];function _sfc_render$b(t,o,n,s,r,l){const i=resolveComponent("ulink");return openBlock(),createElementBlock("div",_hoisted_1$b,[createVNode(Transition,{name:"module",mode:"out-in"},{default:withCtx(()=>[(openBlock(),createElementBlock("div",{ref:"picture-box",key:t.currentWallpaper.humanizedImageUrl,class:"picture-box",title:t.currentWallpaper.copyright,style:normalizeStyle({backgroundImage:`url(${t.currentWallpaper.humanizedImageUrl})`})},null,12,_hoisted_2$8))]),_:1}),createBaseVNode("div",_hoisted_3$5,[t.currentWallpaper.title?(openBlock(),createElementBlock(Fragment,{key:0},[createBaseVNode("h2",_hoisted_4$4,toDisplayString(t.currentWallpaper.title),1),createBaseVNode("p",_hoisted_5$4,toDisplayString(t.currentWallpaper.copyright),1)],64)):(openBlock(),createElementBlock("h2",_hoisted_6$4,toDisplayString(t.currentWallpaper.copyright),1)),createBaseVNode("p",_hoisted_7$4,toDisplayString(t.currentWallpaper.desc),1),createBaseVNode("div",_hoisted_8$4,[createVNode(Transition,{name:"module"},{default:withCtx(()=>[createVNode(i,{key:"location",class:"location",href:t.currentWallpaper.humanizedCopyrightUrl,title:t.currentWallpaper.bsTitle},{default:withCtx(()=>[_hoisted_9$4,t.currentWallpaper.bsTitle?(openBlock(),createElementBlock("span",_hoisted_10$4,toDisplayString(t.currentWallpaper.bsTitle),1)):createCommentVNode("",!0)]),_:1},8,["href","title"])]),_:1}),createBaseVNode("button",{class:"button",title:"Prev",disabled:t.index<=0,onClick:o[0]||(o[0]=a=>t.index--)},_hoisted_13$3,8,_hoisted_11$3),createBaseVNode("button",{class:"button",title:"Next",disabled:t.index>=t.wallpapers.length-1,onClick:o[1]||(o[1]=a=>t.index++)},_hoisted_16$1,8,_hoisted_14$2),createBaseVNode("button",{class:"button",title:"Close",onClick:o[2]||(o[2]=(...a)=>t.handleClose&&t.handleClose(...a))},_hoisted_18$1)])])])}var Wallpapers=_export_sfc(_sfc_main$b,[["render",_sfc_render$b],["__scopeId","data-v-37c35588"]]),main_vue_vue_type_style_index_0_scoped_true_lang$2="";const _sfc_main$a=defineComponent({name:"Wallpaper",components:{Wallpapers},setup(){const{i18n:t,gtag:o,globalState:n,isDarkTheme:s}=useEnhancer(),r=useWallpaperStore(),l=computed(()=>n.switchBox.wallpaper),i=computed(()=>r.papers(t.language.value)),a=()=>{var c;((c=i.value)==null?void 0:c.length)?n.switchTogglers.wallpaper():alert("Something was wrong\uFF01"),n.switchBox.wallpaper&&(o==null||o.event("\u4ECA\u65E5\u58C1\u7EB8",{event_category:GAEventActions.Toggle,event_label:GAEventTags.Tool}))};return onMounted(()=>{r.fetchPapers()}),{LANGUAGE_KEYS,language:t.language,isDarkTheme:s,isOnWallpaper:l,toggleWallpaper:a}}}),_withScopeId$4=t=>(pushScopeId("data-v-6749e32a"),t=t(),popScopeId(),t),_hoisted_1$a={class:"up"},_hoisted_2$7=_withScopeId$4(()=>createBaseVNode("div",{class:"down"},null,-1));function _sfc_render$a(t,o,n,s,r,l){const i=resolveComponent("i18n"),a=resolveComponent("wallpapers"),c=resolveComponent("popup"),d=resolveComponent("client-only");return openBlock(),createElementBlock(Fragment,null,[createBaseVNode("div",{id:"wallpaper",class:normalizeClass({dark:t.isDarkTheme})},[createBaseVNode("div",{class:"switcher",onClick:o[0]||(o[0]=(...u)=>t.toggleWallpaper&&t.toggleWallpaper(...u))},[createBaseVNode("div",_hoisted_1$a,[createBaseVNode("span",{class:normalizeClass(["title",t.language])},[createVNode(i,{lkey:t.LANGUAGE_KEYS.WALLPAPER},null,8,["lkey"])],2)]),_hoisted_2$7])],2),createVNode(d,null,{default:withCtx(()=>[createVNode(c,{visible:t.isOnWallpaper,onClose:t.toggleWallpaper},{default:withCtx(()=>[createVNode(a,{onClose:t.toggleWallpaper},null,8,["onClose"])]),_:1},8,["visible","onClose"])]),_:1})],64)}var Wallpaper=_export_sfc(_sfc_main$a,[["render",_sfc_render$a],["__scopeId","data-v-6749e32a"]]),background_vue_vue_type_style_index_0_scoped_true_lang="";const _sfc_main$9=defineComponent({name:"Background",setup(){const{isDarkTheme:t}=useEnhancer();return{isDarkTheme:t}}}),_hoisted_1$9={id:"background"};function _sfc_render$9(t,o,n,s,r,l){return openBlock(),createElementBlock("div",_hoisted_1$9,[createBaseVNode("div",{class:normalizeClass(["image",{dark:t.isDarkTheme}])},null,2)])}var Background=_export_sfc(_sfc_main$9,[["render",_sfc_render$9],["__scopeId","data-v-d0e96496"]]),player_vue_vue_type_style_index_0_scoped_true_lang="";const _sfc_main$8=defineComponent({name:"PlayerControl",setup(){const t=useI18n(),o=useMusic();return{LANGUAGE_KEYS,RouteName,t:t.t,music:o,muted:o==null?void 0:o.muted,currentSong:o==null?void 0:o.currentSong,getPageRoute}}}),_withScopeId$3=t=>(pushScopeId("data-v-cad40c3a"),t=t(),popScopeId(),t),_hoisted_1$8={key:0,id:"player"},_hoisted_2$6={class:"cd"},_hoisted_3$4=["src"],_hoisted_4$3=["disabled"],_hoisted_5$3={class:"panel"},_hoisted_6$3={class:"control"},_hoisted_7$3=["disabled"],_hoisted_8$3=_withScopeId$3(()=>createBaseVNode("i",{class:"iconfont icon-music-prev"},null,-1)),_hoisted_9$3=[_hoisted_8$3],_hoisted_10$3=["disabled"],_hoisted_11$2=_withScopeId$3(()=>createBaseVNode("i",{class:"iconfont icon-music-next"},null,-1)),_hoisted_12$2=[_hoisted_11$2],_hoisted_13$2=["disabled"],_hoisted_14$1={class:"song"},_hoisted_15$1={key:0};function _sfc_render$8(t,o,n,s,r,l){var c;const i=resolveComponent("i18n"),a=resolveComponent("router-link");return t.music?(openBlock(),createElementBlock("div",_hoisted_1$8,[createBaseVNode("div",_hoisted_2$6,[createBaseVNode("img",{class:"image",src:(c=t.currentSong)==null?void 0:c.cover_art_url},null,8,_hoisted_3$4),createBaseVNode("button",{class:"toggle-button",disabled:!t.music.state.ready,onClick:o[0]||(o[0]=(...d)=>t.music.togglePlay&&t.music.togglePlay(...d))},[createBaseVNode("i",{class:normalizeClass(["iconfont",t.music.state.playing?"icon-music-pause":"icon-music-play"])},null,2)],8,_hoisted_4$3)]),createBaseVNode("div",_hoisted_5$3,[createBaseVNode("div",_hoisted_6$3,[createBaseVNode("button",{class:"prev-song button",disabled:!t.music.state.ready,onClick:o[1]||(o[1]=(...d)=>t.music.prevSong&&t.music.prevSong(...d))},_hoisted_9$3,8,_hoisted_7$3),createBaseVNode("button",{class:"next-song button",disabled:!t.music.state.ready,onClick:o[2]||(o[2]=(...d)=>t.music.nextSong&&t.music.nextSong(...d))},_hoisted_12$2,8,_hoisted_10$3),createBaseVNode("button",{class:"muted-toggle button",disabled:!t.music.state.ready,onClick:o[3]||(o[3]=(...d)=>t.music.toggleMuted&&t.music.toggleMuted(...d))},[createBaseVNode("i",{class:normalizeClass(["iconfont",t.muted?"icon-music-muted":"icon-music-unmuted"])},null,2)],8,_hoisted_13$2)]),createBaseVNode("div",_hoisted_14$1,[createVNode(a,{class:"link",to:t.getPageRoute(t.RouteName.Music)},{default:withCtx(()=>[t.currentSong?(openBlock(),createElementBlock("span",_hoisted_15$1,toDisplayString(t.currentSong.name)+" By "+toDisplayString(t.currentSong.artist)+" | "+toDisplayString(t.currentSong.album||"unknow"),1)):(openBlock(),createBlock(i,{key:1,lkey:t.LANGUAGE_KEYS.MUSIC_PLACEHOLDER},null,8,["lkey"]))]),_:1},8,["to"])])])])):createCommentVNode("",!0)}var Player=_export_sfc(_sfc_main$8,[["render",_sfc_render$8],["__scopeId","data-v-cad40c3a"]]),toolbox_vue_vue_type_style_index_0_scoped_true_lang="";const _sfc_main$7=defineComponent({name:"Toolbox",setup(){const{i18n:t,gtag:o}=useEnhancer(),n=ref(0),s=ref(!1),r=ref(!1),l=()=>{const i=()=>{let a=window.scrollY;const c=document.body.scrollHeight-window.innerHeight;if(r.value&&(a+=1),s.value&&(a-=1),a<0?a=0:a>=c&&(a=c),!(a>0&&a<c))return!1;if(window.scrollTo(0,a),r.value||s.value)n.value=window.requestAnimationFrame(i);else return window.cancelAnimationFrame(n.value),!1};n.value=window.requestAnimationFrame(i)};return{VALUABLE_LINKS,LANGUAGE_KEYS,t:t.translate,mailUrl:`mailto:${META.email}`,scrollToTop,toBottom(){scrollTo(window.scrollY+window.innerHeight,300,{easing:Easing.easeIn})},setTopButtonState(i,a=!1){s.value=i,window.cancelAnimationFrame(n.value),a&&l()},setBottomButtonState(i,a=!1){r.value=i,window.cancelAnimationFrame(n.value),a&&l()},handleRSS(){o==null||o.event("RSS \u8BA2\u9605",{event_category:GAEventActions.Click,event_label:GAEventTags.Tool})}}}}),_withScopeId$2=t=>(pushScopeId("data-v-18e5cf0b"),t=t(),popScopeId(),t),_hoisted_1$7={id:"toolbox"},_hoisted_2$5={class:"container"},_hoisted_3$3={class:"tools"},_hoisted_4$2=_withScopeId$2(()=>createBaseVNode("i",{class:"iconfont icon-rss"},null,-1)),_hoisted_5$2=["href","title"],_hoisted_6$2=_withScopeId$2(()=>createBaseVNode("i",{class:"iconfont icon-mail-plane"},null,-1)),_hoisted_7$2=[_hoisted_6$2],_hoisted_8$2=["title"],_hoisted_9$2=_withScopeId$2(()=>createBaseVNode("i",{class:"iconfont icon-totop"},null,-1)),_hoisted_10$2=[_hoisted_9$2],_hoisted_11$1=["title"],_hoisted_12$1=_withScopeId$2(()=>createBaseVNode("i",{class:"iconfont icon-tobottom"},null,-1)),_hoisted_13$1=[_hoisted_12$1];function _sfc_render$7(t,o,n,s,r,l){const i=resolveComponent("ulink");return openBlock(),createElementBlock("div",_hoisted_1$7,[createBaseVNode("div",_hoisted_2$5,[createBaseVNode("div",_hoisted_3$3,[createVNode(i,{class:"rss",href:t.VALUABLE_LINKS.RSS,onMousedown:t.handleRSS},{default:withCtx(()=>[_hoisted_4$2]),_:1},8,["href","onMousedown"]),createBaseVNode("a",{class:"feedback",target:"_blank",href:t.mailUrl,title:t.t(t.LANGUAGE_KEYS.FEEDBACK)},_hoisted_7$2,8,_hoisted_5$2),createBaseVNode("button",{class:"to-page-top",title:t.t(t.LANGUAGE_KEYS.TO_TOP),onClick:o[0]||(o[0]=(...a)=>t.scrollToTop&&t.scrollToTop(...a)),onMouseover:o[1]||(o[1]=a=>t.setTopButtonState(!0,!0)),onMouseleave:o[2]||(o[2]=a=>t.setTopButtonState(!1))},_hoisted_10$2,40,_hoisted_8$2),createBaseVNode("button",{class:"to-page-bottom",title:t.t(t.LANGUAGE_KEYS.TO_BOTTOM),onClick:o[3]||(o[3]=(...a)=>t.toBottom&&t.toBottom(...a)),onMouseover:o[4]||(o[4]=a=>t.setBottomButtonState(!0,!0)),onMouseleave:o[5]||(o[5]=a=>t.setBottomButtonState(!1))},_hoisted_13$1,40,_hoisted_11$1)])])])}var Toolbox=_export_sfc(_sfc_main$7,[["render",_sfc_render$7],["__scopeId","data-v-18e5cf0b"]]),main_vue_vue_type_style_index_0_scoped_true_lang$1="";const _sfc_main$6=defineComponent({name:"PCMain",components:{Share,Wallpaper,Player,Toolbox,Wallflower,Background,HeaderView:HeaderView$1,FooterView:FooterView$1,AsideView:AsideView$1,NavView},setup(){const t=useGlobalState();return{MAIN_ELEMENT_ID,MAIN_CONTENT_ELEMENT_ID,layoutColumn:t.layoutColumn}}}),_hoisted_1$6={class:"pc-main"},_hoisted_2$4=["id"],_hoisted_3$2=["id"];function _sfc_render$6(t,o,n,s,r,l){const i=resolveComponent("background"),a=resolveComponent("wallflower"),c=resolveComponent("client-only"),d=resolveComponent("share"),u=resolveComponent("wallpaper"),g=resolveComponent("toolbox"),m=resolveComponent("player"),$=resolveComponent("header-view"),E=resolveComponent("nav-view"),f=resolveComponent("aside-view"),N=resolveComponent("footer-view");return openBlock(),createElementBlock("div",_hoisted_1$6,[createVNode(i),createVNode(c,null,{default:withCtx(()=>[createVNode(a)]),_:1}),t.layoutColumn.isFull?createCommentVNode("",!0):(openBlock(),createElementBlock(Fragment,{key:0},[createVNode(d,{class:"main-share"}),createVNode(u),createVNode(g),createVNode(c,null,{default:withCtx(()=>[createVNode(m)]),_:1})],64)),createVNode($),createBaseVNode("main",{id:t.MAIN_ELEMENT_ID,class:normalizeClass(["main-container",{"full-page":t.layoutColumn.isFull}])},[t.layoutColumn.isNormal?(openBlock(),createBlock(E,{key:0})):createCommentVNode("",!0),createBaseVNode("div",{id:t.MAIN_CONTENT_ELEMENT_ID,class:normalizeClass(["main-content",{"layout-normal":t.layoutColumn.isNormal,"layout-wide":t.layoutColumn.isWide,"layout-full":t.layoutColumn.isFull}])},[renderSlot(t.$slots,"default",{},void 0,!0)],10,_hoisted_3$2),t.layoutColumn.isNormal?(openBlock(),createBlock(f,{key:1})):createCommentVNode("",!0)],10,_hoisted_2$4),createVNode(N)])}var PcMain=_export_sfc(_sfc_main$6,[["render",_sfc_render$6],["__scopeId","data-v-77e44efc"]]),header_vue_vue_type_style_index_0_scoped_true_lang="";const _sfc_main$5=defineComponent({name:"MobileHeader",setup(){const{i18n:t,route:o,router:n,globalState:s}=useEnhancer(),r=computed(()=>s.switchBox.mobileSidebar),l=ref(null),i=reactive({open:!1,keyword:""});onMounted(()=>{isSearchArchive(o.name)&&(i.keyword=o.params.keyword)});const a=s.switchTogglers.mobileSidebar,c=()=>{i.open=!0,nextTick(l.value.focus)},d=()=>{i.open=!1},u=()=>{const g=i.keyword.trim();g&&n.push({name:RouteName.SearchArchive,params:{keyword:g}})};return watch(()=>n.currentRoute.value,()=>{nextTick(()=>{d(),a(!1)})}),{t:t.t,LANGUAGE_KEYS,searchState:i,inputElement:l,openSearch:c,submitSearch:u,cancelSearch:d,isOpenedSidebar:r,toggleSidebar:a}}}),_withScopeId$1=t=>(pushScopeId("data-v-be7394d0"),t=t(),popScopeId(),t),_hoisted_1$5={class:"header"},_hoisted_2$3=["placeholder"],_hoisted_3$1=_withScopeId$1(()=>createBaseVNode("i",{class:"iconfont icon-cancel"},null,-1)),_hoisted_4$1=[_hoisted_3$1],_hoisted_5$1={key:0,class:"search-mask"},_hoisted_6$1={class:"navbar"},_hoisted_7$1=_withScopeId$1(()=>createBaseVNode("i",{class:"iconfont icon-menu"},null,-1)),_hoisted_8$1=[_hoisted_7$1],_hoisted_9$1=_withScopeId$1(()=>createBaseVNode("i",{class:"iconfont icon-search"},null,-1)),_hoisted_10$1=[_hoisted_9$1];function _sfc_render$5(t,o,n,s,r,l){const i=resolveComponent("uimage"),a=resolveComponent("router-link");return openBlock(),createElementBlock("header",_hoisted_1$5,[createBaseVNode("div",{class:normalizeClass(["search",{actived:t.searchState.open}])},[withDirectives(createBaseVNode("input",{ref:"inputElement","onUpdate:modelValue":o[0]||(o[0]=c=>t.searchState.keyword=c),type:"text",class:"input",required:"",placeholder:t.t(t.LANGUAGE_KEYS.SEARCH_PLACEHOLDER),onKeyup:o[1]||(o[1]=withKeys(withModifiers((...c)=>t.submitSearch&&t.submitSearch(...c),["stop","prevent"]),["enter"]))},null,40,_hoisted_2$3),[[vModelText,t.searchState.keyword,void 0,{trim:!0}]]),createBaseVNode("span",{class:"close",onClick:o[2]||(o[2]=withModifiers((...c)=>t.cancelSearch&&t.cancelSearch(...c),["stop","prevent"]))},_hoisted_4$1)],2),createVNode(Transition,{name:"module"},{default:withCtx(()=>[t.searchState.open?(openBlock(),createElementBlock("div",_hoisted_5$1)):createCommentVNode("",!0)]),_:1}),createBaseVNode("nav",_hoisted_6$1,[createBaseVNode("a",{href:"",class:"navbar-menu",onClick:o[3]||(o[3]=withModifiers((...c)=>t.toggleSidebar&&t.toggleSidebar(...c),["stop","prevent"]))},_hoisted_8$1),createVNode(a,{to:"/",class:"navbar-logo"},{default:withCtx(()=>[createVNode(i,{cdn:"",src:"/images/logo.svg"})]),_:1}),createBaseVNode("a",{href:"",class:"navbar-search",onClick:o[4]||(o[4]=withModifiers((...c)=>t.openSearch&&t.openSearch(...c),["stop","prevent"]))},_hoisted_10$1)])])}var HeaderView=_export_sfc(_sfc_main$5,[["render",_sfc_render$5],["__scopeId","data-v-be7394d0"]]),footer_vue_vue_type_style_index_0_scoped_true_lang="";const _sfc_main$4=defineComponent({name:"MobileFooter",setup(){return{title:META.title,year:new Date().getFullYear()}}}),_hoisted_1$4={class:"footer"},_hoisted_2$2={class:"footer-content"};function _sfc_render$4(t,o,n,s,r,l){return openBlock(),createElementBlock("footer",_hoisted_1$4,[createBaseVNode("div",_hoisted_2$2,"\xA9"+toDisplayString(t.year)+"\xA0\xA0"+toDisplayString(t.title),1)])}var FooterView=_export_sfc(_sfc_main$4,[["render",_sfc_render$4],["__scopeId","data-v-2519d18e"]]),aside_vue_vue_type_style_index_0_scoped_true_lang="";const _sfc_main$3=defineComponent({name:"MobileAside",props:{open:{type:Boolean,defualt:!1}},setup(){const t=useMetaStore(),o=computed(()=>{var n;return((n=t.adminInfo.data)==null?void 0:n.gravatar)||getFileCDNUrl("/images/gravatar.jpg")});return{VALUABLE_LINKS,LANGUAGE_KEYS,RouteName,CategorySlug,getPageRoute,getCategoryArchiveRoute,gravatar:o}}}),_withScopeId=t=>(pushScopeId("data-v-9c304774"),t=t(),popScopeId(),t),_hoisted_1$3={class:"aside-user"},_hoisted_2$1={class:"avatar"},_hoisted_3={class:"profile"},_hoisted_4=_withScopeId(()=>createBaseVNode("h3",{class:"name"},"Surmon",-1)),_hoisted_5={class:"slogan"},_hoisted_6={class:"aside-nav"},_hoisted_7={class:"nav-list"},_hoisted_8=_withScopeId(()=>createBaseVNode("i",{class:"iconfont icon-home-fill"},null,-1)),_hoisted_9=_withScopeId(()=>createBaseVNode("i",{class:"iconfont icon-code"},null,-1)),_hoisted_10=_withScopeId(()=>createBaseVNode("i",{class:"iconfont icon-thinking"},null,-1)),_hoisted_11=_withScopeId(()=>createBaseVNode("i",{class:"iconfont icon-github"},null,-1)),_hoisted_12=_withScopeId(()=>createBaseVNode("i",{class:"iconfont icon-peachblossom"},null,-1)),_hoisted_13=_withScopeId(()=>createBaseVNode("i",{class:"iconfont icon-lens"},null,-1)),_hoisted_14=_withScopeId(()=>createBaseVNode("i",{class:"iconfont icon-user"},null,-1)),_hoisted_15=_withScopeId(()=>createBaseVNode("i",{class:"iconfont icon-horse"},null,-1)),_hoisted_16=_withScopeId(()=>createBaseVNode("i",{class:"iconfont icon-tool"},null,-1)),_hoisted_17=_withScopeId(()=>createBaseVNode("i",{class:"iconfont icon-comment"},null,-1)),_hoisted_18=_withScopeId(()=>createBaseVNode("i",{class:"iconfont icon-app"},null,-1));function _sfc_render$3(t,o,n,s,r,l){const i=resolveComponent("uimage"),a=resolveComponent("i18n"),c=resolveComponent("router-link"),d=resolveComponent("ulink");return openBlock(),createElementBlock("aside",{class:normalizeClass(["aside",{open:t.open}])},[createBaseVNode("div",_hoisted_1$3,[createBaseVNode("div",_hoisted_2$1,[createVNode(i,{src:t.gravatar,alt:"Surmon"},null,8,["src"])]),createBaseVNode("div",_hoisted_3,[_hoisted_4,createBaseVNode("p",_hoisted_5,[createVNode(a,{lkey:t.LANGUAGE_KEYS.APP_SLOGAN},null,8,["lkey"])])])]),createBaseVNode("div",_hoisted_6,[createBaseVNode("nav",_hoisted_7,[createVNode(c,{to:"/",class:"item",exact:""},{default:withCtx(()=>[_hoisted_8,createVNode(a,{lkey:t.LANGUAGE_KEYS.PAGE_HOME},null,8,["lkey"])]),_:1}),createVNode(c,{class:"item",to:t.getCategoryArchiveRoute(t.CategorySlug.Code)},{default:withCtx(()=>[_hoisted_9,createVNode(a,{lkey:t.LANGUAGE_KEYS.CATEGORY_CODE},null,8,["lkey"])]),_:1},8,["to"]),createVNode(c,{class:"item",to:t.getCategoryArchiveRoute(t.CategorySlug.Insight)},{default:withCtx(()=>[_hoisted_10,createVNode(a,{lkey:t.LANGUAGE_KEYS.CATEGORY_INSIGHT},null,8,["lkey"])]),_:1},8,["to"]),createVNode(d,{class:"item",href:t.VALUABLE_LINKS.GITHUB},{default:withCtx(()=>[_hoisted_11,createVNode(a,{lkey:t.LANGUAGE_KEYS.PAGE_GITHUB},null,8,["lkey"])]),_:1},8,["href"]),createVNode(c,{class:"item",to:t.getPageRoute(t.RouteName.Archive)},{default:withCtx(()=>[_hoisted_12,createVNode(a,{lkey:t.LANGUAGE_KEYS.PAGE_ARCHIVE},null,8,["lkey"])]),_:1},8,["to"]),createVNode(c,{class:"item",to:t.getPageRoute(t.RouteName.Lens)},{default:withCtx(()=>[_hoisted_13,createVNode(a,{lkey:t.LANGUAGE_KEYS.PAGE_LENS},null,8,["lkey"])]),_:1},8,["to"]),createVNode(c,{class:"item",to:t.getPageRoute(t.RouteName.About)},{default:withCtx(()=>[_hoisted_14,createVNode(a,{lkey:t.LANGUAGE_KEYS.PAGE_ABOUT},null,8,["lkey"])]),_:1},8,["to"]),createVNode(c,{class:"item",to:t.getPageRoute(t.RouteName.Job)},{default:withCtx(()=>[_hoisted_15,createVNode(a,{lkey:t.LANGUAGE_KEYS.PAGE_JOB},null,8,["lkey"])]),_:1},8,["to"]),createVNode(c,{class:"item",to:t.getPageRoute(t.RouteName.Freelancer)},{default:withCtx(()=>[_hoisted_16,createVNode(a,{lkey:t.LANGUAGE_KEYS.PAGE_FREELANCER},null,8,["lkey"])]),_:1},8,["to"]),createVNode(c,{class:"item guestbook",to:t.getPageRoute(t.RouteName.Guestbook)},{default:withCtx(()=>[_hoisted_17,createVNode(a,{lkey:t.LANGUAGE_KEYS.PAGE_GUESTBOOK},null,8,["lkey"])]),_:1},8,["to"]),createVNode(c,{class:"item app",to:t.getPageRoute(t.RouteName.App)},{default:withCtx(()=>[_hoisted_18,createVNode(a,{lkey:t.LANGUAGE_KEYS.PAGE_APP},null,8,["lkey"])]),_:1},8,["to"])])])],2)}var AsideView=_export_sfc(_sfc_main$3,[["render",_sfc_render$3],["__scopeId","data-v-9c304774"]]),main_vue_vue_type_style_index_0_scoped_true_lang="";const _sfc_main$2=defineComponent({name:"MobileMain",components:{HeaderView,FooterView,AsideView},setup(){const{globalState:t}=useEnhancer(),o=computed(()=>t.switchBox.mobileSidebar),n=computed(()=>({open:o.value}));return{isOpenedSidebar:o,openedAsideClass:n,closeMobileSidebar:()=>{t.switchTogglers.mobileSidebar(!1)}}}}),_hoisted_1$2={id:"mobile-main"},_hoisted_2={class:"main-container"};function _sfc_render$2(t,o,n,s,r,l){const i=resolveComponent("aside-view"),a=resolveComponent("header-view"),c=resolveComponent("footer-view");return openBlock(),createElementBlock("div",_hoisted_1$2,[createBaseVNode("div",{id:"aside",class:normalizeClass(t.openedAsideClass)},[createVNode(i,{open:t.isOpenedSidebar},null,8,["open"])],2),createBaseVNode("div",{id:"main",class:normalizeClass(t.openedAsideClass)},[t.isOpenedSidebar?(openBlock(),createElementBlock("div",{key:0,class:"close-mask",onClick:o[0]||(o[0]=(...d)=>t.closeMobileSidebar&&t.closeMobileSidebar(...d))})):createCommentVNode("",!0),createVNode(a),createBaseVNode("main",_hoisted_2,[renderSlot(t.$slots,"default",{},void 0,!0)]),createVNode(c)],2)])}var MobileMain=_export_sfc(_sfc_main$2,[["render",_sfc_render$2],["__scopeId","data-v-2330377c"]]),emojiRain_vue_vue_type_style_index_0_scoped_true_lang="";const _sfc_main$1=defineComponent({name:"EmojiRain",setup(){const t=ref(null),o=reactive({chambering:!1,kichikuing:!1});return onMounted(()=>{window.$luanchEmojiRain=n=>{!o.chambering&&!o.kichikuing&&(o.chambering=!0,nextTick(()=>{t.value.width=document.documentElement.clientWidth||document.body.clientWidth,t.value.height=document.documentElement.clientHeight||document.body.clientHeight,new window.$Emoji233333(S(C({base:t.value,scale:.7,speed:12,increaseSpeed:.4,density:5,staggered:!0,emoji:getFileCDNUrl("/images/emojis/funny.png")},n),{onStart(){o.kichikuing=!0},onEnded(){o.kichikuing=!1,o.chambering=!1}})).launch()}))}}),{state:o,rainBase:t}}}),_hoisted_1$1={key:0,ref:"rainBase",class:"rain-base"};function _sfc_render$1(t,o,n,s,r,l){return openBlock(),createElementBlock("div",{id:"emoji-rain",class:normalizeClass({active:t.state.kichikuing})},[t.state.chambering?(openBlock(),createElementBlock("canvas",_hoisted_1$1,null,512)):createCommentVNode("",!0)],2)}var EmojiRain=_export_sfc(_sfc_main$1,[["render",_sfc_render$1],["__scopeId","data-v-2c780f13"]]),index_vue_vue_type_style_index_0_scoped_true_lang="";const _sfc_main=defineComponent({name:"App",components:{EmojiRain,Captured},setup(){const{theme:t,route:o,globalState:n,isMobile:s}=useEnhancer(),r=computed(()=>s.value?MobileMain:PcMain),l=()=>{n.setLayoutColumn(getLayoutByRouteMeta(o.meta))};return{LayoutComponent:r,theme:t.theme,handlePageTransitionDone:l}}}),_hoisted_1={class:"router-view"};function _sfc_render(t,o,n,s,r,l){const i=resolveComponent("progress-bar"),a=resolveComponent("emoji-rain"),c=resolveComponent("popup-root"),d=resolveComponent("client-only"),u=resolveComponent("router-view"),g=resolveComponent("captured");return openBlock(),createElementBlock("div",{id:"app-root",class:normalizeClass(t.theme)},[createVNode(d,null,{default:withCtx(()=>[createVNode(i),createVNode(a),createVNode(c)]),_:1}),createVNode(g,null,{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(t.LayoutComponent),null,{default:withCtx(()=>[createVNode(u,null,{default:withCtx(({Component:m,route:$})=>[createBaseVNode("div",_hoisted_1,[createVNode(Transition,{name:"page",mode:"out-in",onBeforeEnter:t.handlePageTransitionDone},{default:withCtx(()=>[(openBlock(),createBlock(Suspense,null,{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(m),{key:$.name}))]),_:2},1024))]),_:2},1032,["onBeforeEnter"])])]),_:1})]),_:1}))]),_:1})],2)}var App=_export_sfc(_sfc_main,[["render",_sfc_render],["__scopeId","data-v-0088adb2"]]);console.info("[APP INITED]:",{NODE_ENV,mode:isSSR?"SSR":"SPA"},API_CONFIG);const createVueApp=t=>{var c,d,u;const o=t.appCreator(App);rebirthSSRContext(o);const n=createGlobalState({userAgent:t.userAgent||"",language:t.language||"",layout:(c=t.layout)!=null?c:LayoutColumn.Normal}),s=createUniversalStore({globalState:n}),r=createUniversalRouter({beforeMiddleware:(d=t.routerBeforeMiddleware)==null?void 0:d.call(t,n),afterMiddleware:(u=t.routerAfterMiddleware)==null?void 0:u.call(t,n),history:t.historyCreator()});n.userAgent.isMobile&&r.removeRoute(RouteName.Music);const l=createMeta({titler:g=>`${g} | ${META.title}`}),i=createTheme(t.theme),a=createI18n({default:n.userAgent.isZhUser?Language.Zh:Language.En,languages:languages$1,map:langMap});return o.config.errorHandler=g=>n.setRenderError(g),r.onError(n.setRenderError),r.beforeEach((g,m,$)=>{g.meta.validate?g.meta.validate({route:g,i18n:a,store:s}).then($).catch(E=>{const f=new Error;f.code=E.code,f.message=E.message,$(f)}):$()}),o.use(r),o.use(s),o.use(n),o.use(a),o.use(l),o.use(i),o.use(interior),{app:o,router:r,store:s,globalState:n,i18n:a,meta:l,theme:i,interior}};var app$1="";const{app,router,globalState,theme,i18n,store}=createVueApp({historyCreator:createWebHistory,appCreator:isSSR?createSSRApp:createApp,language:navigator.language,userAgent:navigator.userAgent,layout:isSSR?getSSRContext("layout"):LayoutColumn.Normal,theme:isSSR?getSSRContext("theme"):getClientLocalTheme()}),defer=createDefer(),popup=createPopup(),loading=createLoading(),music=createMusic({amplitude,autoStart:!1});app.use(music);app.use(defer,{exportToGlobal:!0});app.use(popup,{exportToGlobal:!0});app.use(loading,{exportToGlobal:!0});app.use(adsense,{ID:ADSENSE_CLIENT_ID,enabledAutoAD:!0});app.use(gtag,{router,id:GA_MEASUREMENT_ID,customResourceURL:getFileCDNUrl("/effects/gtag.js")});isSSR?store.initInSSR():store.initInSPA();theme.bindClientSystem();exportLozadToGlobal();exportEmojiRainToGlobal();exportStickyEventsToGlobal();exportAppToGlobal(app);router.beforeEach((t,o,n)=>{loading.start(),n()});router.afterEach((t,o,n)=>{n?loading.fail(n):loading.finish()});router.isReady().finally(()=>{globalState.setLayoutColumn(getLayoutByRouteMeta(router.currentRoute.value.meta)),app.mount("#app",isSSR).$nextTick(()=>{globalState.setHydrate(),i18n.set(globalState.userAgent.isZhUser?Language.Zh:Language.En),globalState.userAgent.isMobile||(defer.addTask(music.start),document.addEventListener("visibilitychange",t=>{var s,r;const o=((s=t.target)==null?void 0:s.hidden)||((r=t.target)==null?void 0:r.webkitHidden),n=[{favicon:"\u{1F51E}",title:"FBI WARNING!"},{favicon:"\u2B55\uFE0F",title:"FBI WARNING!"},{favicon:"\u{1F31D}",title:"new message (3)"}];o?runTitler(n[randomNumber(n.length-1)]):resetTitler()},!1)),isProd&&(enableCopyrighter(),enableBaiduSEOer(router),consoleSlogan(i18n))})});
//# sourceMappingURL=index-f14507bf.js.map
